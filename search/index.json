[{"content":"å¾®ä¿¡æ”¯ä»˜ç­¾åï¼ˆåŸºäºå¯¹ç§°åŠ å¯†ï¼‰ ä¼˜ç‚¹ æ€§èƒ½é«˜ å¯¹ç§°åŠ å¯†ç®—æ³•ï¼ˆå¦‚MD5ã€HMAC-SHA256ï¼‰è®¡ç®—é€Ÿåº¦å¿«ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚ å¾®ä¿¡æ”¯ä»˜æ¯å¤©å¤„ç†æµ·é‡äº¤æ˜“ï¼Œæ€§èƒ½æ˜¯å…³é”®è€ƒé‡ã€‚ å®ç°ç®€å• åªéœ€è¦ä¸€ä¸ªå…±äº«çš„APIå¯†é’¥ï¼ˆå•†æˆ·å’Œå¾®ä¿¡æ”¯ä»˜å¹³å°éƒ½çŸ¥é“ï¼‰ï¼Œå®ç°å’Œéƒ¨ç½²è¾ƒä¸ºç®€å•ã€‚ ä¸éœ€è¦ç®¡ç†å¤æ‚çš„å…¬é’¥å’Œç§é’¥å¯¹ã€‚ é€‚åˆçŸ­å‘¨æœŸè¯·æ±‚ å¾®ä¿¡æ”¯ä»˜çš„è¯·æ±‚ç”Ÿå‘½å‘¨æœŸçŸ­ï¼Œé€šå¸¸åªéœ€åœ¨è¯·æ±‚å’Œå“åº”çš„çŸ­æ—¶é—´å†…ä¿è¯æ•°æ®å®Œæ•´æ€§ï¼Œå¯¹ç§°åŠ å¯†è¶³å¤Ÿæ»¡è¶³éœ€æ±‚ã€‚ å…¼å®¹æ€§å¼º å¯¹ç§°åŠ å¯†ç®—æ³•å¹¿æ³›æ”¯æŒï¼Œå„ç§ç¼–ç¨‹è¯­è¨€å’Œå¹³å°éƒ½èƒ½è½»æ¾å®ç°ã€‚ ç¼ºç‚¹ å¯†é’¥ç®¡ç†é£é™© APIå¯†é’¥éœ€è¦å…±äº«ï¼Œå­˜åœ¨æ³„éœ²é£é™©ã€‚å¦‚æœå¯†é’¥æ³„éœ²ï¼Œæ”»å‡»è€…å¯ä»¥ä¼ªé€ è¯·æ±‚ã€‚ éœ€è¦å®šæœŸæ›´æ¢å¯†é’¥ä»¥é™ä½é£é™©ã€‚ ä¸æ”¯æŒä¸å¯å¦è®¤æ€§ å¯¹ç§°åŠ å¯†æ— æ³•è¯æ˜è¯·æ±‚çš„å”¯ä¸€æ¥æºï¼Œå› ä¸ºåŒæ–¹å…±äº«åŒä¸€ä¸ªå¯†é’¥ã€‚ å¦‚æœå‘ç”Ÿçº çº·ï¼Œæ— æ³•é€šè¿‡ç­¾åè¯æ˜è¯·æ±‚æ˜¯ç”±æŸä¸€æ–¹å‘èµ·çš„ã€‚ å®‰å…¨æ€§è¾ƒä½ ç›¸æ¯”éå¯¹ç§°åŠ å¯†ï¼Œå¯¹ç§°åŠ å¯†çš„å®‰å…¨æ€§è¾ƒå¼±ï¼Œå°¤å…¶æ˜¯åœ¨å¯†é’¥æ³„éœ²çš„æƒ…å†µä¸‹ã€‚ ç”µå­ç­¾åï¼ˆåŸºäºéå¯¹ç§°åŠ å¯†ï¼‰ ä¼˜ç‚¹ å®‰å…¨æ€§é«˜ éå¯¹ç§°åŠ å¯†ä½¿ç”¨å…¬é’¥å’Œç§é’¥å¯¹ï¼Œç§é’¥æ— éœ€å…±äº«ï¼Œå®‰å…¨æ€§æ›´é«˜ã€‚ å³ä½¿å…¬é’¥æ³„éœ²ï¼Œä¹Ÿæ— æ³•ä¼ªé€ ç­¾åã€‚ ä¸å¯å¦è®¤æ€§ ç­¾åæ˜¯ç”¨ç§é’¥ç”Ÿæˆçš„ï¼Œåªæœ‰æŒæœ‰ç§é’¥çš„ä¸€æ–¹æ‰èƒ½ç”Ÿæˆç­¾åï¼Œå› æ­¤å¯ä»¥è¯æ˜è¯·æ±‚çš„å”¯ä¸€æ¥æºã€‚ åœ¨æ³•å¾‹å’Œå®¡è®¡åœºæ™¯ä¸­éå¸¸é‡è¦ã€‚ æ•°æ®å®Œæ•´æ€§ ç”µå­ç­¾åä¸ä»…å¯ä»¥éªŒè¯æ•°æ®å®Œæ•´æ€§ï¼Œè¿˜å¯ä»¥éªŒè¯æ•°æ®çš„çœŸå®æ€§ã€‚ ç¼ºç‚¹ æ€§èƒ½ä½ éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼ˆå¦‚RSAã€ECCï¼‰è®¡ç®—å¤æ‚åº¦é«˜ï¼Œé€Ÿåº¦è¾ƒæ…¢ã€‚ åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼ˆå¦‚å¾®ä¿¡æ”¯ä»˜ï¼‰ï¼Œæ€§èƒ½å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚ å®ç°å¤æ‚ éœ€è¦ç®¡ç†å…¬é’¥å’Œç§é’¥å¯¹ï¼Œå¯†é’¥åˆ†å‘å’Œç®¡ç†å¤æ‚åº¦é«˜ã€‚ éœ€è¦é¢å¤–çš„åŸºç¡€è®¾æ–½ï¼ˆå¦‚è¯ä¹¦é¢å‘æœºæ„CAï¼‰æ¥æ”¯æŒå…¬é’¥çš„åˆ†å‘å’ŒéªŒè¯ã€‚ ä¸é€‚åˆçŸ­å‘¨æœŸè¯·æ±‚ éå¯¹ç§°åŠ å¯†æ›´é€‚åˆé•¿æœŸæœ‰æ•ˆçš„æ•°æ®ç­¾åï¼ˆå¦‚åˆåŒã€è¯ä¹¦ï¼‰ï¼Œè€Œå¾®ä¿¡æ”¯ä»˜çš„è¯·æ±‚ç”Ÿå‘½å‘¨æœŸçŸ­ï¼Œä½¿ç”¨éå¯¹ç§°åŠ å¯†æ˜¾å¾—è¿‡äºå¤æ‚ã€‚ å¾®ä¿¡æ”¯ä»˜ä¸ºä»€ä¹ˆé€‰æ‹©å¯¹ç§°åŠ å¯†ç­¾åï¼Ÿ ä¸šåŠ¡åœºæ™¯éœ€æ±‚ å¾®ä¿¡æ”¯ä»˜çš„æ ¸å¿ƒéœ€æ±‚æ˜¯æ•°æ®å®Œæ•´æ€§å’Œèº«ä»½è®¤è¯ï¼Œè€Œä¸æ˜¯ä¸å¯å¦è®¤æ€§ã€‚ æ”¯ä»˜è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸçŸ­ï¼Œé€šå¸¸åªéœ€åœ¨çŸ­æ—¶é—´å†…ä¿è¯æ•°æ®å®‰å…¨ã€‚ æ€§èƒ½ä¼˜å…ˆ å¾®ä¿¡æ”¯ä»˜æ¯å¤©å¤„ç†æ•°åäº¿ç¬”äº¤æ˜“ï¼Œæ€§èƒ½æ˜¯å…³é”®ã€‚å¯¹ç§°åŠ å¯†çš„è®¡ç®—é€Ÿåº¦è¿œå¿«äºéå¯¹ç§°åŠ å¯†ã€‚ å®ç°ç®€å• å¯¹ç§°åŠ å¯†çš„å®ç°å’Œéƒ¨ç½²æ›´ç®€å•ï¼Œé€‚åˆå¿«é€Ÿè¿­ä»£å’Œæ‰©å±•ã€‚ é£é™©å¯æ§ è™½ç„¶å¯¹ç§°åŠ å¯†çš„å¯†é’¥ç®¡ç†å­˜åœ¨é£é™©ï¼Œä½†å¾®ä¿¡æ”¯ä»˜é€šè¿‡å…¶ä»–å®‰å…¨æªæ–½ï¼ˆå¦‚HTTPSã€IPç™½åå•ã€é£æ§ç³»ç»Ÿï¼‰æ¥é™ä½é£é™©ã€‚ æ€»ç»“ ç‰¹æ€§ å¾®ä¿¡æ”¯ä»˜ç­¾åï¼ˆå¯¹ç§°åŠ å¯†ï¼‰ ç”µå­ç­¾åï¼ˆéå¯¹ç§°åŠ å¯†ï¼‰ æ€§èƒ½ é«˜ ä½ å®ç°å¤æ‚åº¦ ç®€å• å¤æ‚ å®‰å…¨æ€§ è¾ƒä½ï¼ˆä¾èµ–å¯†é’¥ç®¡ç†ï¼‰ é«˜ ä¸å¯å¦è®¤æ€§ ä¸æ”¯æŒ æ”¯æŒ é€‚ç”¨åœºæ™¯ é«˜å¹¶å‘ã€çŸ­å‘¨æœŸè¯·æ±‚ï¼ˆå¦‚æ”¯ä»˜ï¼‰ é•¿æœŸæœ‰æ•ˆæ•°æ®ï¼ˆå¦‚åˆåŒã€è¯ä¹¦ï¼‰ å¾®ä¿¡æ”¯ä»˜é€‰æ‹©å¯¹ç§°åŠ å¯†ç­¾åæ˜¯ä¸ºäº†åœ¨æ€§èƒ½ã€å®ç°å¤æ‚åº¦ã€ä¸šåŠ¡éœ€æ±‚ä¹‹é—´æ‰¾åˆ°æœ€ä½³å¹³è¡¡ã€‚è™½ç„¶å¯¹ç§°åŠ å¯†çš„å®‰å…¨æ€§è¾ƒä½ï¼Œä½†é€šè¿‡å…¶ä»–å®‰å…¨æªæ–½å¯ä»¥å¼¥è¡¥è¿™ä¸€ä¸è¶³ã€‚è€Œç”µå­ç­¾åæ›´é€‚åˆå¯¹å®‰å…¨æ€§å’Œä¸å¯å¦è®¤æ€§è¦æ±‚æ›´é«˜çš„åœºæ™¯ï¼ˆå¦‚æ³•å¾‹æ–‡ä»¶ã€åˆåŒç­¾ç½²ï¼‰ã€‚\n","date":"2025-03-17T14:41:07+08:00","permalink":"https://hollisho.github.io/p/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98%E7%AD%BE%E5%90%8D%E5%9F%BA%E4%BA%8E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86vs%E7%94%B5%E5%AD%90%E7%AD%BE%E5%90%8D%E5%9F%BA%E4%BA%8E%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/","title":"å¾®ä¿¡æ”¯ä»˜ç­¾åï¼ˆåŸºäºå¯¹ç§°åŠ å¯†ï¼‰vsç”µå­ç­¾åï¼ˆåŸºäºéå¯¹ç§°åŠ å¯†ï¼‰"},{"content":"PHP Helpers PHP Helpers æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„ PHP å·¥å…·é›†åˆï¼Œå®ƒæä¾›äº†è®¸å¤šå¸¸ç”¨çš„è¾…åŠ©å‡½æ•°ï¼Œå¯ä»¥å¸®åŠ©ä½ æ›´å¿«é€Ÿã€æ›´æ–¹ä¾¿åœ°å®Œæˆ PHP å¼€å‘å·¥ä½œã€‚æ— è®ºä½ æ˜¯ PHP æ–°æ‰‹è¿˜æ˜¯æœ‰ç»éªŒçš„å¼€å‘è€…ï¼Œè¿™ä¸ªå·¥å…·åŒ…éƒ½èƒ½è®©ä½ çš„ç¼–ç æ›´åŠ é«˜æ•ˆã€‚\nå®‰è£… åŸºæœ¬ä½¿ç”¨æ–¹æ³• 1. åœ¨é¡¹ç›®ä¸­å¼•å…¥ å®‰è£…å®Œæˆåï¼Œä½ éœ€è¦åœ¨ä½ çš„ PHP æ–‡ä»¶ä¸­å¼•å…¥ Composer çš„è‡ªåŠ¨åŠ è½½æ–‡ä»¶ï¼š\n1 require_once \u0026#39;vendor/autoload.php\u0026#39;; 2. ä½¿ç”¨è¾…åŠ©å‡½æ•° PHP Helpers æä¾›äº†å¤šç§è¾…åŠ©å‡½æ•°ï¼Œä½ å¯ä»¥ç›´æ¥è°ƒç”¨å®ƒä»¬ï¼š\n1 2 3 4 5 // ä¾‹å¦‚ä½¿ç”¨æ•°ç»„è¾…åŠ©å‡½æ•° $result = \\Hollisho\\Helpers\\ArrayHelper::get($array, \u0026#39;user.name\u0026#39;, \u0026#39;é»˜è®¤å€¼\u0026#39;); // ä¾‹å¦‚ä½¿ç”¨å­—ç¬¦ä¸²è¾…åŠ©å‡½æ•° $slug = \\Hollisho\\Helpers\\StringHelper::slug(\u0026#39;Hello World\u0026#39;); å¸¸ç”¨åŠŸèƒ½ç¤ºä¾‹ æ•°ç»„æ“ä½œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // ä»å¤šç»´æ•°ç»„ä¸­å®‰å…¨è·å–å€¼ $user = [ \u0026#39;profile\u0026#39; =\u0026gt; [ \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;å¼ ä¸‰\u0026#39;, \u0026#39;age\u0026#39; =\u0026gt; 25 ] ]; // è·å–ç”¨æˆ·å $name = \\Hollisho\\Helpers\\ArrayHelper::get($user, \u0026#39;profile.name\u0026#39;); echo $name; // è¾“å‡º: å¼ ä¸‰ // å¦‚æœé”®ä¸å­˜åœ¨ï¼Œè¿”å›é»˜è®¤å€¼ $address = \\Hollisho\\Helpers\\ArrayHelper::get($user, \u0026#39;profile.address\u0026#39;, \u0026#39;æœªè®¾ç½®\u0026#39;); echo $address; // è¾“å‡º: æœªè®¾ç½® 1 2 3 4 5 6 7 8 9 10 ### å­—ç¬¦ä¸²å¤„ç† ```php // ç”ŸæˆURLå‹å¥½çš„å­—ç¬¦ä¸² $slug = \\Hollisho\\Helpers\\StringHelper::slug(\u0026#39;ä½ å¥½ ä¸–ç•Œ\u0026#39;); echo $slug; // è¾“å‡º: ni-hao-shi-jie æˆ–ç±»ä¼¼æ ¼å¼ // éšæœºå­—ç¬¦ä¸²ç”Ÿæˆ $random = \\Hollisho\\Helpers\\StringHelper::random(8); echo $random; // è¾“å‡º: ç±»ä¼¼ a1b2c3d4 çš„8ä½éšæœºå­—ç¬¦ä¸² æ—¥æœŸæ—¶é—´å¤„ç† 1 2 3 4 5 6 7 // æ ¼å¼åŒ–æ—¥æœŸ $formatted = \\Hollisho\\Helpers\\DateHelper::format(\u0026#39;2023-01-01\u0026#39;, \u0026#39;Yå¹´mæœˆdæ—¥\u0026#39;); echo $formatted; // è¾“å‡º: 2023å¹´01æœˆ01æ—¥ // è·å–ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•° $days = \\Hollisho\\Helpers\\DateHelper::diffInDays(\u0026#39;2023-01-01\u0026#39;, \u0026#39;2023-01-10\u0026#39;); echo $days; // è¾“å‡º: 9 ç¯å¢ƒå˜é‡åŠŸèƒ½ å¦‚æœä½ éœ€è¦ä½¿ç”¨ç¯å¢ƒå˜é‡åŠŸèƒ½ï¼ˆEnvHelperï¼‰ï¼Œéœ€è¦é¢å¤–å®‰è£… vlucas/phpdotenv æ‰©å±•ï¼š\n1 composer require vlucas/phpdotenv:^5.6 å®‰è£…åï¼Œä½ å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š\n1 2 3 4 5 6 // åŠ è½½ .env æ–‡ä»¶ \\Hollisho\\Helpers\\EnvHelper::load(\u0026#39;/path/to/your/project\u0026#39;); // è·å–ç¯å¢ƒå˜é‡ $dbName = \\Hollisho\\Helpers\\EnvHelper::get(\u0026#39;DB_NAME\u0026#39;, \u0026#39;default_db\u0026#39;); echo $dbName; å¦‚ä½•æµ‹è¯• åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œä¾‹å¦‚ test.php ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 \u0026lt;?php // å¼•å…¥è‡ªåŠ¨åŠ è½½æ–‡ä»¶ require_once \u0026#39;vendor/autoload.php\u0026#39;; // æµ‹è¯•æ•°ç»„è¾…åŠ©å‡½æ•° $array = [\u0026#39;user\u0026#39; =\u0026gt; [\u0026#39;name\u0026#39; =\u0026gt; \u0026#39;æå››\u0026#39;, \u0026#39;email\u0026#39; =\u0026gt; \u0026#39;lisi@example.com\u0026#39;]]; $name = \\Hollisho\\Helpers\\ArrayHelper::get($array, \u0026#39;user.name\u0026#39;); echo \u0026#34;ç”¨æˆ·å: \u0026#34; . $name . \u0026#34;\\n\u0026#34;; // æµ‹è¯•å­—ç¬¦ä¸²è¾…åŠ©å‡½æ•° $random = \\Hollisho\\Helpers\\StringHelper::random(10); echo \u0026#34;éšæœºå­—ç¬¦ä¸²: \u0026#34; . $random . \u0026#34;\\n\u0026#34;; ","date":"2025-03-17T13:49:36+08:00","permalink":"https://hollisho.github.io/p/php%E5%B8%B8%E7%94%A8%E5%8A%A9%E6%89%8B%E7%B1%BB%E5%BA%93php-helpers-%E7%AE%80%E4%BB%8B%E5%92%8C%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/","title":"PHPå¸¸ç”¨åŠ©æ‰‹ç±»åº“PHP Helpers ç®€ä»‹å’Œä½¿ç”¨æ–¹æ³•"},{"content":"ç®€ä»‹ hollisho/http-client æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºä½¿ç”¨çš„PHP HTTPå®¢æˆ·ç«¯åº“ï¼Œæ—¨åœ¨ç®€åŒ–REST APIçš„è°ƒç”¨å’Œé›†æˆã€‚å®ƒæä¾›äº†çµæ´»çš„é…ç½®é€‰é¡¹ã€ä¸­é—´ä»¶æ”¯æŒå’ŒåŸºäºæ³¨è§£çš„APIå®šä¹‰ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°å¤„ç†HTTPè¯·æ±‚ã€‚\nä¸»è¦ç‰¹æ€§ ğŸš€ æ”¯æŒå¤šç§HTTPæ–¹æ³•ï¼ˆGET, POST, PUT, DELETEç­‰ï¼‰ ğŸ”§ å¯æ‰©å±•çš„ä¸­é—´ä»¶ç³»ç»Ÿ ğŸ¯ åŸºäºæ³¨è§£çš„APIå®šä¹‰ ğŸ›¡ï¸ å†…ç½®è®¤è¯æ”¯æŒï¼ˆBasic Authï¼‰ ğŸ“¦ è‡ªåŠ¨å¤„ç†JSONè¯·æ±‚/å“åº” âš¡ å…¼å®¹PHP 7.x å’Œ PHP 8.0+ å¿«é€Ÿå¼€å§‹ å®‰è£… 1 composer require hollisho/http-client åŸºæœ¬ä½¿ç”¨ 1 2 3 4 use hollisho\\httpclient\\BaseClient; $httpClient = new BaseClient(\u0026#39;https://api.example.com\u0026#39;); $response = $httpClient-\u0026gt;httpGet(\u0026#39;/users\u0026#39;); ä½¿ç”¨æ³¨è§£å®šä¹‰API 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * @BaseUrl(host=\u0026#34;https://api.example.com\u0026#34;) */ interface UserService { /** * @Action( * method=@Get, * endpoint=@Endpoint(uri=\u0026#34;/users/{id}\u0026#34;) * ) */ public function getUser($id); } $client = FeignClientFactory::create(UserService::class); $user = $client-\u0026gt;getUser(123); ä¸ºä»€ä¹ˆé€‰æ‹© hollisho/http-clientï¼Ÿ ç®€åŒ–å¼€å‘ ï¼šé€šè¿‡æ³¨è§£è‡ªåŠ¨ç”ŸæˆAPIå®¢æˆ·ç«¯ï¼Œå‡å°‘æ ·æ¿ä»£ç  çµæ´»æ‰©å±• ï¼šæ”¯æŒè‡ªå®šä¹‰ä¸­é—´ä»¶ï¼Œè½»æ¾æ·»åŠ æ—¥å¿—ã€ç¼“å­˜ç­‰åŠŸèƒ½ ç°ä»£PHPæ”¯æŒ ï¼šå…¨é¢æ”¯æŒPHP 8.0+çš„æ–°ç‰¹æ€§ æ–‡æ¡£å®Œå–„ ï¼šæä¾›è¯¦ç»†çš„æ–‡æ¡£å’Œç¤ºä¾‹ä»£ç  æ´»è·ƒç»´æŠ¤ ï¼šæŒç»­æ›´æ–°å’Œç»´æŠ¤ï¼ŒåŠæ—¶ä¿®å¤é—®é¢˜ è·å–æ›´å¤šä¿¡æ¯ GitHubä»“åº“ å®Œæ•´æ–‡æ¡£ ç¤ºä¾‹ä»£ç  ç«‹å³ä½“éªŒ hollisho/http-client ï¼Œè®©æ‚¨çš„PHP HTTPè¯·æ±‚å¤„ç†æ›´åŠ é«˜æ•ˆä¾¿æ·ï¼ ","date":"2024-11-11T14:41:07+08:00","permalink":"https://hollisho.github.io/p/%E9%AB%98%E6%95%88php-http%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BA%93-hollisho/http-client/","title":"é«˜æ•ˆPHP HTTPå®¢æˆ·ç«¯åº“ - hollisho/http-client"},{"content":"Shopify Appå¼€å‘çŸ¥è¯†æ•´ç† ä¿®è®¢è®°å½• æ—¥æœŸ ç‰ˆæœ¬ è¯´æ˜ ä½œè€… 2024-07-08 v1.0.0 Hollis å‰æœŸå‡†å¤‡ ç›¸å…³ç½‘å€ Shopifyå®˜ç½‘ï¼ˆhttps://www.shopify.com/ï¼‰\nShopifyå¼€å‘æ–‡æ¡£ï¼ˆhttps://shopify.dev/ï¼‰\nShopifyåˆä½œä¼™ä¼´ï¼ˆhttps://www.shopify.com/partnersï¼‰\nç›¸å…³æ¦‚å¿µ Partner ï¼ˆåˆä½œä¼™ä¼´ï¼‰\nShopify å¼€å‘è€…è´¦å·ï¼Œç”¨äºå¼€å‘Appã€Themeã€Extensionç­‰ App ï¼ˆåº”ç”¨ï¼‰\næ‰©å±•åº—é“ºçš„åŠŸèƒ½ï¼Œå¯ä»¥å‘å¸ƒåˆ°åº”ç”¨å¸‚åœº Theme (ä¸»é¢˜)\nè®¾è®¡åº—é“ºçš„æ ·å¼ï¼Œå¯ä»¥å‘å¸ƒåˆ°ä¸»é¢˜å¸‚åœº Custom storefront ï¼ˆè‡ªå®šä¹‰åº—é“ºï¼‰\nå•†åº— åœ¨åˆä½œä¼™ä¼´åå°æ·»åŠ å¼€å‘å•†åŸï¼Œè·Ÿç€è®¾ç½®æŒ‡å—å®Œæˆå•†åº—è®¾ç½®\nShopify Cli æœ¬åœ°å¼€å‘ç¯å¢ƒ å®‰è£… Node.js 20.15+ å®‰è£…Node.jsåŒ…ç®¡ç†å™¨ npmã€Yarn æˆ– pnpm å®‰è£… Ruby 2.7+ å®‰è£… Git 2.44+ å®‰è£…Shopify Cli 1 npm install -g @shopify/cli@latest å…·ä½“å®‰è£…ä¾èµ–å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šhttps://shopify.dev/docs/api/shopify-cli\nåº”ç”¨ å•†åº—åå°åº”ç”¨ æ‚¨å¯ä»¥æ„å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºæ¥ä¸º Shopify å•†åº—æ·»åŠ åŠŸèƒ½å¹¶æ‰©å±•å•†å®¶ä½“éªŒï¼Œæˆ–è€…ä¸ºå®¢æˆ·åˆ›é€ ç‹¬ç‰¹çš„è´­ä¹°ä½“éªŒã€‚æ‚¨è¿˜å¯ä»¥å°† Shopify å•†åº—æ•°æ®æå–åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºã€å¹³å°æˆ–é›†æˆä¸­ã€‚\nä¸ºäº†æ ¹æ®ä»–ä»¬çš„ç‰¹å®šéœ€æ±‚å®šåˆ¶ä½“éªŒï¼Œå•†å®¶ä½¿ç”¨ Shopify åº”ç”¨æ¥å¸®åŠ©å»ºç«‹ä»–ä»¬çš„ä¸šåŠ¡ï¼Œä¸å¤–éƒ¨æœåŠ¡é›†æˆï¼Œå¹¶å‘ä»–ä»¬çš„ Shopify åå°æ·»åŠ åŠŸèƒ½ã€‚ å®˜æ–¹æ–‡æ¡£ï¼šhttps://shopify.dev/docs/apps/build/scaffold-app\nåˆ›å»ºæ–°åº”ç”¨ 1 shopify app init æœ¬åœ°è¿è¡Œåº”ç”¨ 1 2 cd ho-app #è¿›å…¥åº”ç”¨ç›®å½• npm run dev #è¿è¡Œåº”ç”¨ é€šè¿‡æ§åˆ¶å°è¾“å‡ºçš„Preview URLï¼ŒæŸ¥çœ‹App å•†åº—å‰å°åº”ç”¨ å•†åº—å‰å°åº”ç”¨ä¹Ÿå«ï¼šä¸»é¢˜åº”ç”¨æ‰©å±•Extensionï¼ˆåº”ç”¨ç¨‹åºå—ã€åº”ç”¨ç¨‹åºåµŒå…¥å—ï¼‰\nä¸»é¢˜åº”ç”¨ç¨‹åºæ‰©å±•ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºæä¾›äº†ä¸¤ç§æ‰©å±•åœ¨çº¿å•†åº—ä¸»é¢˜çš„é›†æˆç±»å‹ï¼šåº”ç”¨ç¨‹åºå—å’Œåº”ç”¨ç¨‹åºåµŒå…¥å—ã€‚æ‚¨æäº¤åˆ° Shopify åº”ç”¨å•†åº—çš„æ¯ä¸ªæ–°åº”ç”¨éƒ½éœ€è¦ä½¿ç”¨ä¸»é¢˜åº”ç”¨æ‰©å±•æ¥ä¸åœ¨çº¿å•†åº—ä¸»é¢˜é›†æˆã€‚\nä¸»é¢˜åº”ç”¨ç¨‹åºæ‰©å±•å…è®¸å•†å®¶è½»æ¾åœ°å°†åŠ¨æ€å…ƒç´ æ·»åŠ åˆ°ä»–ä»¬çš„ä¸»é¢˜ä¸­ï¼Œè€Œæ— éœ€ä¸ Liquid æ¨¡æ¿æˆ–ä»£ç è¿›è¡Œäº¤äº’ã€‚ä¾‹å¦‚ï¼ŒåŠ¨æ€å…ƒç´ å¯ä»¥åŒ…æ‹¬äº§å“è¯„è®ºã€ä»·æ ¼ã€è¯„çº§æˆ–äº§å“çš„äº¤äº’å¼ 3D æ¨¡å‹ã€‚\nä¼˜ç‚¹\nä¸»é¢˜åº”ç”¨ç¨‹åºæ‰©å±•ä¼šè‡ªåŠ¨åœ¨ä¸»é¢˜ç¼–è¾‘å™¨ä¸­å…¬å¼€æ‚¨çš„åº”ç”¨ç¨‹åºã€‚æ‚¨å¯ä»¥åˆ©ç”¨ç¼–è¾‘å™¨çš„å¯è§†åŒ–ç¼–è¾‘åŠŸèƒ½ï¼Œè€Œæ— éœ€åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å¤åˆ¶å®ƒä»¬ã€‚ æ‚¨å¯ä»¥åŒæ—¶å°†æ‚¨çš„åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°ä½¿ç”¨å®ƒçš„æ‰€æœ‰åœ¨çº¿å•†åº—ã€‚æ‚¨è¿˜å¯ä»¥è®¿é—®Shopify CDN ä¸Šçš„åº”ç”¨ç¨‹åºç‰ˆæœ¬æ§åˆ¶å’Œèµ„äº§æ‰˜ç®¡çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚ ä¸€ç»„é›†æˆé€»è¾‘å’ŒæŒ‡ä»¤é€‚ç”¨äºæ‰€æœ‰ä¸»é¢˜ã€‚ å•†å®¶ä¸éœ€è¦æ‰‹åŠ¨ç¼–è¾‘ä»–ä»¬çš„ä¸»é¢˜ä»£ç ã€‚ è¯¥éƒ¨åˆ†åŠŸèƒ½è¿˜æœªæ·±å…¥ç ”ç©¶ï¼Œæ„å»ºæ­¥éª¤ç•¥ã€‚è¯¦æƒ…å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šhttps://shopify.dev/docs/apps/build/online-store\nä¸»é¢˜ åˆ›å»ºä¸»é¢˜ 1 shopify theme init è¿è¡Œä¸»é¢˜ 1 2 3 cd ho-theme # è¿›å…¥ä¸»é¢˜ç›®å½• # è¿è¡Œshopify theme dev --store {store}ï¼ˆstoreä¸ºå¼€å‘å•†åº—çš„åç§°ï¼‰ã€‚ shopify theme dev --store quickstart-c1709595 è¿è¡ŒæˆåŠŸä¹‹åï¼Œé€šè¿‡http://127.0.0.1:9292/è®¿é—®ä¸»é¢˜\nAdmin API Appéœ€è¦è·å–shopifyçš„ä¿¡æ¯å¦‚äº§å“ã€è®¢å•ã€å®¢æˆ·ä¿¡æ¯ç­‰ï¼Œéœ€è¦é€šè¿‡Admin APIè·å–ã€‚\nè¿˜æœ‰Appçš„æˆæƒå’Œé‰´æƒéƒ½æ˜¯é€šè¿‡Admin APIæ–¹å¼ã€‚\nAdmin APIåˆ†ä¸ºGraphQL Admin APIã€REST Admin APIã€‚\nGraphQL Admin APIå®˜æ–¹æ–‡æ¡£ï¼šhttps://shopify.dev/docs/api/admin-graphql\nREST Admin APIå®˜æ–¹æ–‡æ¡£ï¼šhttps://shopify.dev/docs/api/admin-rest\nç‰¹åˆ«è¯´æ˜ï¼šæœ¬æŠ¥å‘Šä¸­æ¡ˆä¾‹é‡‡ç”¨REST Admin APIæ–¹å¼\nAppæˆæƒå’Œé‰´æƒ Shopifyä¸­æœ‰ä¸¤ç§Tokenï¼Œåˆ†åˆ«æ˜¯Session Tokenä¼šè¯ä»¤ç‰Œå’ŒAccess Tokenè®¿é—®ä»¤ç‰Œã€‚\nä¼šè¯ä»¤ç‰Œç”¨äºèº«ä»½éªŒè¯ï¼Œä¸èƒ½æ›¿ä»£æˆæƒã€‚è¯¦ç»†äº†è§£èº«ä»½éªŒè¯å’Œæˆæƒä¹‹é—´çš„åŒºåˆ«ã€‚\nä¸ API è®¿é—®ä»¤ç‰Œä¸åŒï¼Œä¼šè¯ä»¤ç‰Œä¸èƒ½ç”¨äºå‘ Shopify API å‘å‡ºç»è¿‡èº«ä»½éªŒè¯çš„è¯·æ±‚ã€‚API è®¿é—®ä»¤ç‰Œå¯ç”¨äºä»åº”ç”¨çš„åç«¯å‘ Shopify å‘é€è¯·æ±‚ï¼Œä»¥ä¾¿ä»ç”¨æˆ·çš„å•†åº—ä¸­è·å–ç‰¹å®šæ•°æ®ã€‚\nä¾‹å¦‚ï¼Œè¦å‘GraphQL Admin APIå‘å‡ºç»è¿‡èº«ä»½éªŒè¯çš„è¯·æ±‚ï¼Œæ‚¨çš„åº”ç”¨å¿…é¡»å­˜å‚¨å…¶åœ¨ OAuth æµç¨‹ä¸­æ”¶åˆ°çš„è®¿é—®ä»¤ç‰Œã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¼šè¯ä»¤ç‰Œç”±æ‚¨çš„åº”ç”¨çš„åç«¯ç”¨æ¥éªŒè¯æ¥è‡ªæ‚¨çš„åº”ç”¨å‰ç«¯çš„åµŒå…¥å¼è¯·æ±‚ã€‚\nä¸‹å›¾æ˜¾ç¤ºäº†ä½¿ç”¨ä¼šè¯ä»¤ç‰Œå’Œ API è®¿é—®ä»¤ç‰Œçš„èº«ä»½éªŒè¯è¿‡ç¨‹ï¼š\nå®˜æ–¹æ–‡æ¡£ï¼šhttps://shopify.dev/docs/apps/build/authentication-authorization/session-tokens\næ€»ç»“ï¼šSession Tokenæ˜¯App å‰ç«¯å’Œåç«¯äº¤äº’çš„å‡­è¯ï¼›Access Tokenæ˜¯App åç«¯å’ŒShopifyäº¤äº’çš„å‡­è¯ã€‚\nOAuthæˆæƒ æµç¨‹å›¾ Access Token Shopify çš„ Access Token åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šåœ¨çº¿ å’Œ ç¦»çº¿\nOnline Access Token ä½¿ç”¨åœ¨çº¿è®¿é—®æ¨¡å¼åˆ›å»ºçš„è®¿é—®ä»¤ç‰Œæ˜¯ä¸´æ—¶çš„ï¼Œå¹¶ä¸”ä¸€å®šä¼šåœ¨ä¸€æ®µæ—¶é—´åè¿‡æœŸã€‚è®¿é—®ä»¤ç‰Œè¿‡æœŸåï¼ŒShopify ä¼šè¿”å›401 Unauthorizedå“åº”ä»£ç ã€‚\nç”¨æˆ·å¯ä»¥éšæ—¶æ’¤é”€å¯¹æ‚¨åº”ç”¨çš„è®¿é—®æƒé™ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–ç”¨æˆ·è®¿é—®ä»¤ç‰Œçš„æœ‰æ•ˆæ€§ã€‚å½“ç”¨æˆ·é€€å‡º Shopify ç®¡ç†å¹³å°æ—¶ï¼Œåœ¨åŒä¸€ç½‘ç»œä¼šè¯æœŸé—´åˆ›å»ºçš„æ‰€æœ‰åœ¨çº¿æ¨¡å¼è®¿é—®ä»¤ç‰Œéƒ½å°†è¢«æ’¤é”€ã€‚\nOffline Access Token ä½¿ç”¨ç¦»çº¿è®¿é—®æ¨¡å¼åˆ›å»ºçš„è®¿é—®ä»¤ç‰Œæ˜¯æ°¸ä¹…æ€§çš„ã€‚ä»…å½“ä»å•†åº—å¸è½½åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä»¬æ‰ä¼šè¢«æ’¤é”€ã€‚\nå¤šæ¬¡æˆæƒåº”ç”¨è¿›è¡Œç¦»çº¿è®¿é—®æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šè¿”å›ç›¸åŒçš„è®¿é—®ä»¤ç‰Œã€‚è·å¾—å•†åº—çš„ç¦»çº¿è®¿é—®æƒé™åï¼Œåªæœ‰åœ¨å¸è½½åº”ç”¨æˆ–éœ€è¦å…¶ä»–è®¿é—®èŒƒå›´æ—¶æ‰éœ€è¦é‡æ–°æˆæƒåº”ç”¨ã€‚\n","date":"2024-07-08T10:10:47+08:00","permalink":"https://hollisho.github.io/p/shopify-app%E5%BC%80%E5%8F%91%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/","title":"Shopify Appå¼€å‘çŸ¥è¯†æ•´ç†"},{"content":"å†…å®¹ç±»å‹å’Œåˆ†ç±»æ–¹å¼ Debug Baræ’ä»¶ Queries WP Query Object Cache Post Types Post Type å†…å®¹ç±»å‹ Taxonomy åˆ†ç±»æ–¹å¼ category åˆ†ç±»ç›®å½• post_tag æ ‡ç­¾ Debug Bar Taxonomyæ’ä»¶å¯ä»¥æŸ¥çœ‹æ‰€æœ‰åˆ†ç±»æ–¹å¼ æœ€å°ä¸»é¢˜ style.css å¿…å¡«å­—æ®µ: Theme Nameã€Authorã€Descriptionã€Versionã€Licenseã€License URIã€Text Domain\n1 2 3 4 5 6 7 8 9 10 11 12 13 /* Theme Name: Mini Theme Theme URI: ä¸»é¢˜çš„è¯¦ç»†ä»‹ç»çš„ç½‘å€ï¼Œä»…åœ¨å®˜æ–¹ä¸»é¢˜åº“ä¸­æ‰ä¼šç”¨åˆ° Author: Hollis Author URI: http://www.1024plus.com Description: æœ€å°ä¸»é¢˜ Version: 1.0.0 License: ä¸»é¢˜çš„ç‰ˆæƒä¿¡æ¯ License URI: ç‰ˆæƒè¯¦æƒ…ç½‘å€ Text Domain: å›½é™…åŒ–ç›¸å…³ Tags: æ ‡ç­¾ï¼Œæ–¹ä¾¿ç”¨äºåœ¨å®˜æ–¹ä¸»é¢˜åº“ä¸­ç­›é€‰ Domain Paths: è¯­è¨€åŒ…è·¯å¾„ */ index.php è¯¦æƒ…é¡µæ¨¡æ¿å±‚çº§ æ–‡ç« è¯¦æƒ…é¡µ 1 2 3 4 5 $custom.php single-post.php single.php singular.php index.php é™„ä»¶è¯¦æƒ…é¡µ wp_postsè¡¨ä¸­post_mime_typeè®°å½•äº†attachmentçš„mimetype\nå¦‚ï¼šimage/pngï¼Œå…¶ä¸­mimetypeæ˜¯imageï¼Œsubtypeæ˜¯png\nä¸Šä¼ é™„ä»¶å¯èƒ½æœ‰å¤§å°é™åˆ¶ï¼Œå¯ä»¥ä¿®æ”¹php.iniä¸­çš„post_max_size\n1 2 3 4 5 6 7 $mimetype-$subtype.php $subtype.php $mimetype.php attachment.php single.php singular.php index.php è‡ªå®šä¹‰å†…å®¹ç±»å‹è¯¦æƒ…é¡µ 1 2 3 4 5 6 $custom.php single-$posttype-$slug.php single-$posttype.php single.php singular.php index.php é¡µé¢è¯¦æƒ…é¡µ Custom Template é‡‡ç”¨äº†è‡ªå®šä¹‰æ¨¡æ¿ 1 $custom.php å¦‚æœé¡µé¢å¯¹åº”çš„è‡ªå®šä¹‰æ¨¡æ¿è¢«åˆ é™¤äº†ï¼Œä½†æ˜¯æ•°æ®ä¸­çš„å¯¹åº”å…³ç³»è¿˜åœ¨ï¼Œåˆ™æŒ‰ä»¥ä¸‹è§„åˆ™åŠ è½½æ¨¡æ¿\n1 2 3 page.php singular.php index.php Default Template é‡‡ç”¨äº†é»˜è®¤æ¨¡æ¿ 1 2 3 4 5 page-$slug.php page-$id.php page.php singular.php index.php è‡ªå®šä¹‰æ¨¡æ¿æ–‡ä»¶ Template Post Type å¯ä»¥ä¸ºç©ºï¼Œé»˜è®¤åªæ”¯æŒpage\n1 2 3 4 5 6 7 \u0026lt;?php /* Template Name: è‡ªå®šä¹‰æ¨¡æ¿ Template Post Type: post,page,product */ ?\u0026gt; åˆ†ç±»ç›®å½•å½’æ¡£é¡µ Category Archice 1 2 3 4 5 category-$slug.php category-$id.php category.php archive.php index.php Tag Archive 1 2 3 4 5 tag-$slug.php tag-$id.php tag.php archive.php index.php Author Archive 1 2 3 4 5 author-$nicename.php author-$id.php author.php archive.php index.php Date Archive (Year Archiveã€Month Archiveã€Day Archive) å¯ä»¥é€šè¿‡å°å·¥å…·ï¼Œè¿›å…¥åˆ°æ—¥æœŸå½’æ¡£é¡µ\n1 2 3 date.php archive.php index.php è‡ªå®šä¹‰å†…å®¹å½’æ¡£é¡µ(custom post type) 1 2 3 archive-$posttype.php archive.php index.php è‡ªå®šä¹‰åˆ†ç±»æ–¹å¼å½’æ¡£é¡µ(custom taxonomy) å¦‚ï¼šè‡ªå®šä¹‰äº§å“åˆ†ç±»product_catï¼Œå…¶ä¸­æœ‰phoneã€pcä¸¤ä¸ªåˆ†ç±»é¡¹ç›®ï¼Œåˆ™$taxonomyä¸ºproduct_catã€$termä¸ºphoneå’Œpc\n1 2 3 4 5 taxonomy-$taxonomy-$term.php taxonomy-$taxonomy.php taxonomy.php archive.php index.php ç«™ç‚¹é¦–é¡µæ¨¡æ¿å±‚çº§ Posts show on frontï¼ˆé»˜è®¤è®¾ç½®ï¼‰ 1 2 3 front-page.php home.php index.php Page show on frontï¼ˆä¸€ä¸ªé™æ€é¡µé¢ï¼‰ 1 2 front-page.php åé¢çš„æ¨¡æ¿å±‚çº§å’Œé¡µé¢è¯¦æƒ…é¡µä¸€è‡´ Blog Post Index Page(æŒ‡å®šä¸ºæ–‡ç« é¡µçš„é¡µé¢) 1 2 home.php index.php 404é”™è¯¯é¡µã€æœç´¢ç»“æœé¡µã€è¢«åµŒå…¥å†…å®¹é¡µ 404é”™è¯¯é¡µ 1 2 404.php index.php æœç´¢ç»“æœé¡µ 1 2 search.php index.php å½’æ¡£é¡µé»˜è®¤æŸ¥è¯¢ç»“æœ åˆ†ç±»ç›®å½•å½’æ¡£é¡µ queried_object (WP_Term) åˆ†ç±»ç›®å½•ä¿¡æ¯ - æ—¥æœŸåˆ†ç±»å½’æ¡£é¡µæ²¡æœ‰queried_objectå­—æ®µ queried_object_id åˆ†ç±»ç›®å½•id posts å½’æ¡£é¡µçš„æ–‡ç« ä¿¡æ¯æ•°ç»„ post (WP_Post) å½“å‰æ–‡ç« ä¿¡æ¯ is_archive = 1 å½’æ¡£é¡µ is_category = 1 åˆ†ç±»ç›®å½•å½’æ¡£é¡µ è¯¦æƒ…é¡µé»˜è®¤æŸ¥è¯¢ç»“æœ æ–‡ç« è¯¦æƒ…é¡µ queried_object æ–‡ç« ä¿¡æ¯ queried_object_id æ–‡ç« id posts æ•°ç»„é‡Œé¢åªæœ‰ä¸€ä¸ªæ–‡ç« ä¿¡æ¯ post å½“å‰æ–‡ç« ä¿¡æ¯ is_single = 1 å†…å®¹è¯¦æƒ…é¡µ is_singular = 1 è¯¦æƒ…é¡µ é¦–é¡µå’Œå…¶ä»–é¡µé¢é»˜è®¤æŸ¥è¯¢ç»“æœ é¦–é¡µï¼ˆé»˜è®¤ï¼‰ posts æœ€æ–°å‘å¸ƒçš„æ–‡ç« ä¿¡æ¯æ•°ç»„ post å½“å‰æ–‡ç« ä¿¡æ¯ is_home = 1 é¦–é¡µï¼ˆè®¾ç½®äº†è‡ªå®šä¹‰é¡µé¢ï¼‰ posts è‡ªå®šä¹‰é¡µé¢çš„ä¿¡æ¯ï¼Œæ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´  post è‡ªå®šä¹‰é¡µé¢çš„ä¿¡æ¯ queried_object è‡ªå®šä¹‰é¡µé¢çš„ä¿¡æ¯ queried_object_id è‡ªå®šä¹‰é¡µé¢id is_page = 1 is_singular = 1 è¯¦æƒ…é¡µ Blogæ–‡ç« ç´¢å¼•é¡µï¼ˆå°±æ˜¯åœ¨é˜…è¯»è®¾ç½®ä¸­ï¼Œæ–‡ç« é¡µæŒ‡å®šäº†è‡ªå®šä¹‰é¡µé¢ï¼‰ queried_object è‡ªå®šä¹‰é¡µé¢çš„ä¿¡æ¯ queried_object_id è‡ªå®šä¹‰é¡µé¢id posts æœ€æ–°å‘å¸ƒçš„æ–‡ç« ä¿¡æ¯æ•°ç»„ post å½“å‰æ–‡ç« ä¿¡æ¯ is_home = 1 is_posts_page = 1 æœç´¢ç»“æœé¡µ posts æœç´¢ç»“æœçš„æ‰€æœ‰æ–‡ç« ä¿¡æ¯æ•°ç»„ post å½“å‰æ–‡ç« ä¿¡æ¯ is_search = 1 404é”™è¯¯é¡µ is_404 = 1 è·å–æ–‡ç« å„ç§æ•°æ®çš„æ¨¡æ¿æ ‡ç­¾ è·å–å†…å®¹å¹¶è¾“å‡º 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 //æ–‡ç« ID the_ID(); //æ–‡ç« æ ‡é¢˜ the_title(); //æ–‡ç« å†…å®¹ the_content(); //æ–‡ç« æ‘˜è¦ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®æ‘˜è¦ï¼Œä¼šè‡ªåŠ¨æˆªå–ä¸€éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦ the_excerpt(); //è·å–ä½œè€…ä¿¡æ¯ the_author(); //è·å–æ–‡ç« çš„ç½‘å€ the_permalink(); //å‘å¸ƒæ—¶é—´ã€‚ //æ—¶é—´æ ¼å¼å¯ä»¥åœ¨è®¾ç½®-\u0026gt;å¸¸è§„ä¸­è®¾ç½® //ä¹Ÿå¯ä»¥æŒ‡å®šæ ¼å¼the_time(\u0026#39;Y-m-d H:i:s\u0026#39;); the_time(); è·å–å†…å®¹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 //æ–‡ç« ID get_the_ID(); //æ–‡ç« æ ‡é¢˜ get_the_title(); //æ–‡ç« å†…å®¹ get_the_content(); //æ–‡ç« æ‘˜è¦ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®æ‘˜è¦ï¼Œä¼šè‡ªåŠ¨æˆªå–ä¸€éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦ get_the_excerpt(); //è·å–ä½œè€…ä¿¡æ¯ get_the_author(); //ä½œè€…å½’æ¡£é¡µè¶…é“¾æ¥ã€‚ç”¨æˆ·å+è¶…é“¾æ¥ get_the_author_link(); //è·å–æ–‡ç« åˆ«åã€‚è‡ªå¸¦äº†urlencodeã€‚ä½¿ç”¨çš„æ—¶å€™éœ€è¦urldecode global $post; $post-\u0026gt;post_name; //è·å–æ–‡ç« çš„ç½‘å€ get_the_permalink(); //å‘å¸ƒæ—¶é—´ã€‚ //æ—¶é—´æ ¼å¼å¯ä»¥åœ¨è®¾ç½®-\u0026gt;å¸¸è§„ä¸­è®¾ç½® //ä¹Ÿå¯ä»¥æŒ‡å®šæ ¼å¼get_the_time(\u0026#39;Y-m-d H:i:s\u0026#39;); get_the_time(); //è·å–æ–‡ç« è¯„è®ºæ•°é‡ get_comments_number(); è·å–æ–‡ç« æ‰€å±çš„åˆ†ç±»ç›®å½•ä¿¡æ¯ the_category è·å–å†…å®¹å¹¶è¾“å‡º get_the_category_list è·å–å†…å®¹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /** * @param string $separator é»˜è®¤ä»¥â½†åºåˆ—è¡¨è¾“å‡ºåˆ†ç±»é“¾æ¥ï¼Œå½“â½‚ç« æŒ‡å®šäº†å¤šä¸ªåˆ†ç±»æ—¶ï¼Œæä¾›â¼€ä¸ªå­—ç¬¦â½¤äºåˆ†éš”è¿™äº›åˆ†ç±»é“¾æ¥ã€‚ * @param string $parents \u0026#39;\u0026#39;ï¼šä¸æ˜¾ç¤ºçˆ¶ç±»ä¿¡æ¯ï¼› \u0026#39;multiple\u0026#39;ï¼šæ˜¾ç¤ºçˆ¶ç±»ä¿¡æ¯ï¼Œåˆ†å¼€æ˜¾ç¤º(æœ‰å„è‡ªçš„è¶…é“¾æ¥)ï¼› \u0026#39;single\u0026#39;ï¼šæ˜¾ç¤ºçˆ¶ç±»ä¿¡æ¯ï¼Œä¸å­ç±»åˆå¹¶æ˜¾ç¤º(å…¬ç”¨ä¸€ä¸ªè¶…é“¾æ¥) * @param int $post_id åœ¨have_posts() å¾ªç¯ä¸­ä½¿ç”¨æ—¶ï¼Œä¸è¦ä¼ å€¼ï¼Œå¦åˆ™éœ€è¦ä¼ å…¥æŒ‡å®špost_id * * ä¾‹å­: * the_category(\u0026#39;,\u0026#39;, \u0026#39;multiple\u0026#39;); * è¾“å‡ºï¼š\u0026lt;a href=\u0026#34;#\u0026#34;\u0026gt;ä½“è‚²\u0026lt;/a\u0026gt;,\u0026lt;a href=\u0026#34;#\u0026#34;\u0026gt;ç¯®çƒ\u0026lt;/a\u0026gt; * the_category(\u0026#39;,\u0026#39;, \u0026#39;single\u0026#39;); * è¾“å‡ºï¼š\u0026lt;a href=\u0026#34;#\u0026#34;\u0026gt;ä½“è‚²,ç¯®çƒ\u0026lt;/a\u0026gt; * */ function the_category( $separator = \u0026#39;\u0026#39;, $parents = \u0026#39;\u0026#39;, $post_id = false ) { echo get_the_category_list( $separator, $parents, $post_id ); } get_the_categoryï¼ˆçº¯æ•°æ®ï¼Œä¸å¸¦htmlæ ‡ç­¾ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 /** * WP_Term Object * * term_id åˆ†ç±»ID * name åˆ†ç±»åç§° * slug åˆ†ç±»åˆ«å * description åˆ†ç±»æè¿° * taxonomy åˆ†ç±»é¡¹ç›®çš„åˆ†ç±»æ–¹å¼ category * ...... */ $categorys = get_the_category(); foreach ($categorys as $category) { \u0026lt;p\u0026gt;ç¼–å·ï¼š\u0026lt;?php echo $category-\u0026gt;term_id; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;åç§°ï¼š\u0026lt;?php echo $category-\u0026gt;name; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;åˆ«åï¼š\u0026lt;?php echo $category-\u0026gt;slug; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;æè¿°ï¼š\u0026lt;?php echo $category-\u0026gt;description; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;â½¹å€ï¼š\u0026lt;?php echo get_category_link($category); ?\u0026gt;\u0026lt;/p\u0026gt; } è·å–æ–‡ç« æ‰€å±æ ‡ç­¾ä¿¡æ¯ the_tags è·å–æ ‡ç­¾å¹¶è¾“å‡º get_the_tag_list è·å–æ ‡ç­¾ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * @param string $before æ ‡ç­¾é“¾æ¥å‰çš„å†…å®¹ * @param string $sep å¤šä¸ªæ ‡ç­¾ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸º\u0026#39;,\u0026#39; * @param string $after æ ‡ç­¾é“¾æ¥åçš„å†…å®¹ */ function the_tags( $before = null, $sep = \u0026#39;, \u0026#39;, $after = \u0026#39;\u0026#39; ) { if ( null === $before ) { $before = __( \u0026#39;Tags: \u0026#39; ); } $the_tags = get_the_tag_list( $before, $sep, $after ); if ( ! is_wp_error( $the_tags ) ) { echo $the_tags; } } /** * $post_id æ–‡ç« id */ function get_the_tag_list( $before = \u0026#39;\u0026#39;, $sep = \u0026#39;\u0026#39;, $after = \u0026#39;\u0026#39;, $post_id = 0 ) get_the_tagsï¼ˆçº¯æ•°æ®ï¼Œä¸å¸¦htmlæ ‡ç­¾ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /** * WP_Term Object * * term_id åˆ†ç±»ID * name åˆ†ç±»åç§° * slug åˆ†ç±»åˆ«å * description åˆ†ç±»æè¿° * taxonomy åˆ†ç±»é¡¹ç›®çš„åˆ†ç±»æ–¹å¼ post_tag * ...... */ $posttags = get_the_tags(); if ($posttags) foreach($posttags as $tag) { echo \u0026#39;æ ‡ç­¾IDï¼š\u0026#39; . $tag-\u0026gt;term_id; echo \u0026#39;\u0026lt;br /\u0026gt;æ ‡ç­¾åç§°ï¼š\u0026#39; . $tag-\u0026gt;name; echo \u0026#39;\u0026lt;br /\u0026gt;æ ‡ç­¾æè¿°ï¼š\u0026#39; . $tag-\u0026gt;description; echo \u0026#39;\u0026lt;br /\u0026gt;æ ‡ç­¾ç½‘å€ï¼š\u0026#39; . get_tag_link($tag); } åˆ†ç±»å½’æ¡£é¡µä¸­è°ƒç”¨å’Œæ˜¾ç¤ºæ•°æ® Category Archive åˆ†ç±»ç›®å½•å½’æ¡£é¡µ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 //è·å–åˆ†ç±»ç›®å½•ä¿¡æ¯ $category = get_queried_object(); \u0026lt;p\u0026gt;ç¼–å·ï¼š\u0026lt;?php echo $category-\u0026gt;term_id; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;åç§°ï¼š\u0026lt;?php echo $category-\u0026gt;name; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;åˆ«åï¼š\u0026lt;?php echo $category-\u0026gt;slug; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;æè¿°ï¼š\u0026lt;?php echo $category-\u0026gt;description; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;â½¹å€ï¼š\u0026lt;?php echo get_category_link($category); ?\u0026gt;\u0026lt;/p\u0026gt; //è·å–åˆ†ç±»ç›®å½•ä¸‹é¢çš„æ–‡ç« ä¿¡æ¯ \u0026lt;?php if( have_posts() ): ?\u0026gt; \u0026lt;?php while( have_posts() ): the_post(); ?\u0026gt; \u0026lt;?php the_author(); //ä½œè€…åç§° ?\u0026gt; \u0026lt;?php the_title(); //æ ‡é¢˜ ?\u0026gt; \u0026lt;?php the_content(); //æ­£æ–‡ ?\u0026gt; \u0026lt;?php echo get_comments_number(); //è¯„è®ºæ•°é‡ ?\u0026gt; \u0026lt;?php endwhile; ?\u0026gt; \u0026lt;?php endif; ?\u0026gt; Tag Archive æ ‡ç­¾å½’æ¡£é¡µ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 //è·å–æ ‡ç­¾ä¿¡æ¯ $tag = get_queried_object(); \u0026lt;p\u0026gt;ç¼–å·ï¼š\u0026lt;?php echo $tag-\u0026gt;term_id; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;åç§°ï¼š\u0026lt;?php echo $tag-\u0026gt;name; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;åˆ«åï¼š\u0026lt;?php echo $tag-\u0026gt;slug; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;æè¿°ï¼š\u0026lt;?php echo $tag-\u0026gt;description; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;â½¹å€ï¼š\u0026lt;?php echo get_tag_link($tag); ?\u0026gt;\u0026lt;/p\u0026gt; //è·å–æ ‡ç­¾ç›®å½•ä¸‹é¢çš„æ–‡ç« ä¿¡æ¯ \u0026lt;?php if( have_posts() ): ?\u0026gt; \u0026lt;?php while( have_posts() ): the_post(); ?\u0026gt; \u0026lt;?php the_author(); //ä½œè€…åç§° ?\u0026gt; \u0026lt;?php the_title(); //æ ‡é¢˜ ?\u0026gt; \u0026lt;?php the_content(); //æ­£æ–‡ ?\u0026gt; \u0026lt;?php echo get_comments_number(); //è¯„è®ºæ•°é‡ ?\u0026gt; \u0026lt;?php endwhile; ?\u0026gt; \u0026lt;?php endif; ?\u0026gt; Author Archive ä½œè€…å½’æ¡£é¡µ 1 2 3 4 5 6 7 8 9 //è·å–ä½œè€…ä¿¡æ¯ $author = get_queried_object(); \u0026lt;p\u0026gt;ä½œè€…ç”¨æˆ·åï¼š\u0026lt;?php echo $author-\u0026gt;user_login; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;ä½œè€…IDï¼š\u0026lt;?php echo $author-\u0026gt;ID; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;ä½œè€…é‚®ç®±ï¼š\u0026lt;?php echo $author-\u0026gt;user_email; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;ä½œè€…æ˜¾ç¤ºåï¼š\u0026lt;?php echo $author-\u0026gt;user_display; ?\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;ä½œè€…å½’æ¡£é¡µç½‘å€ï¼š\u0026lt;?php echo get_the_author_posts_link(); ?\u0026gt;\u0026lt;/p\u0026gt; //è·å–æ–‡ç« ä¿¡æ¯åŒä¸Š Date Archive æ—¥æœŸå½’æ¡£é¡µ 1 2 3 4 5 6 7 //æ—¥æœŸå½’æ¡£é¡µæ— æ³•è·å–get_queried_object //è·å–æ—¥æœŸä¿¡æ¯ echo get_the_date(); //å¯ä»¥è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼ echo get_the_date(\u0026#39;Y-d-m\u0026#39;); //è·å–æ–‡ç« ä¿¡æ¯åŒä¸Š é€šç”¨è·å–åˆ†ç±»title 1 2 3 4 //ç›´æ¥ä½¿ç”¨ the_archive_title(); //æˆ–è€… echo get_the_archive_title(); æœç´¢ç»“æœå½’æ¡£é¡µ 1 2 3 4 5 //æ—¥æœŸå½’æ¡£é¡µæ— æ³•è·å–get_queried_object //è·å–æœç´¢ç»“æœé¡µæœç´¢å…³é”®å­— $key = get_search_query(); //è·å–æ–‡ç« ä¿¡æ¯åŒä¸Š æ¨¡æ¿æ ‡ç­¾æ‰€åœ¨çš„æ–‡ä»¶ æ¨¡æ¿æ ‡ç­¾æ‰€åœ¨çš„æ–‡ä»¶ï¼Œéƒ½æœ‰ä¸€ä¸ªç›¸åŒçš„åç¼€*-template.phpï¼Œç”¨äºåŒºåˆ†æ¨¡æ¿æ–‡ä»¶å’Œå…¶ä»–æ–‡ä»¶ã€‚\næ€»å…±æœ‰9ä¸ªæ¨¡æ¿æ–‡ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 wp-includes/general-template.php wp-includes/author-template.php wp-includes/bookmark-template.php wp-includes/category-template.php wp-includes/comment-template.php wp-includes/link-template.php wp-includes/post-template.php wp-includes/post-thumbnail-template.php wp-includes/nav-menu-template.php æ¡ä»¶æ ‡ç­¾ä½¿ç”¨ä¸¾ä¾‹ 1 2 3 4 5 6 7 8 9 \u0026lt;?php if (is_year()) { echo get_the_date(\u0026#39;Y\u0026#39;); } elseif (is_month()) { echo get_the_date(\u0026#39;Y-m\u0026#39;); } elseif (is_day()) { echo get_the_date(\u0026#39;Y-m-d\u0026#39;); } ?\u0026gt; é¦–é¡µç›¸å…³æ¡ä»¶æ ‡ç­¾ is_home is_front_page å¦‚æœé¦–é¡µé‡‡ç”¨äº†é»˜è®¤é¡µé¢ï¼Œåˆ™ï¼š\n1 2 is_home: true is_front_page: true å¦‚æœé¦–é¡µè®¾ç½®äº†æŒ‡å®šé¡µé¢ï¼Œåˆ™ï¼š\n1 2 is_home: false is_front_page: true è·å–å…¶ä»–ä¿¡æ¯ è·å–ç«™ç‚¹ä¿¡æ¯ å…³é”®å‡½æ•° 1 2 3 4 5 6 7 /** * @see get_bloginfo() For possible `$show` values * @param string $show Optional. Site information to display. Default empty. */ function bloginfo( $show = \u0026#39;\u0026#39; ) { echo get_bloginfo( $show, \u0026#39;display\u0026#39; ); } é€šç”¨ä¿¡æ¯ 1 2 3 4 5 6 7 8 9 10 11 //ç«™ç‚¹æ ‡é¢˜ get_bloginfo(\u0026#39;name\u0026#39;); get_bloginfo(\u0026#39;blogname\u0026#39;); //ç«™ç‚¹æè¿° get_bloginfo(\u0026#39;description\u0026#39;); //ç«™ç‚¹é¦–é¡µç½‘å€ï¼Œç­‰åŒäºsite_url() get_bloginfo(\u0026#39;wpurl\u0026#39;); //ç«™ç‚¹é¦–é¡µç½‘å€ï¼Œç­‰åŒäºhome_url() get_bloginfo(\u0026#39;url\u0026#39;); //ç«™ç‚¹ç®¡ç†å‘˜é‚®ç®± get_bloginfo(\u0026#39;admin_email\u0026#39;); è¯„è®ºä¿¡æ¯ 1 2 3 4 5 6 \u0026lt;?php if (comments_open() || get_commments_number()) { //å¦‚æœæ–‡ç« å…è®¸è¯„è®ºè¢«å…³é—­ï¼Œåˆ™åªæ˜¾ç¤ºå†å²è¯„è®ºåˆ—è¡¨ï¼Œä¸æ˜¾ç¤ºè¯„è®ºå‘è¡¨æ¡† comments_template(); } ?\u0026gt; ä¸»é¢˜è·¯å¾„åŠurlä¿¡æ¯ 1 2 3 4 //è·å–å½“å‰ä¸»é¢˜æ‰€åœ¨ç›®å½•çš„ç½‘å€ get_theme_file_uri() //è·å–å½“å‰ä¸»é¢˜æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„ get_theme_file_path() é’©å­æœºåˆ¶ åŠ¨ä½œé’©å­ 1 add_action(\u0026#39;hook_name\u0026#39;, \u0026#39;your_func\u0026#39;); è¿‡æ»¤å™¨é’©å­ 1 add_filter(\u0026#39;hook_name\u0026#39;, \u0026#39;your_func\u0026#39;); ä¼ ç»Ÿå¼•å…¥csså’Œjsæ–‡ä»¶çš„æ–¹å¼ å†…è” 1 \u0026lt;div style=\u0026#34;width: 65px;height: 20px;border: 1px solid;\u0026#34;\u0026gt;æµ‹è¯•å…ƒç´ \u0026lt;/div\u0026gt; é¡µè” 1 2 3 4 5 6 7 8 \u0026lt;style type=\u0026#34;text/css\u0026#34;\u0026gt; div { width: 65px; height: 20px; border: 1px solid; background: greenyellow; } \u0026lt;/style\u0026gt; å¤–è” 1 \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; type=\u0026#34;text/css\u0026#34; href=\u0026#34;*.css\u0026#34; /\u0026gt; æ¨èçš„å¼•å…¥csså’Œjsæ–‡ä»¶çš„æ–¹å¼ å¼•å…¥cssæ–‡ä»¶ 1 2 3 4 5 6 7 8 9 /** * å¼•å…¥cssæ–‡ä»¶ * @param string $handle Name of the stylesheet. Should be unique. * @param string $src * @param string[] $deps * @param string|bool|null $ver * @param string $media */ function wp_enqueue_style( $handle, $src = \u0026#39;\u0026#39;, $deps = array(), $ver = false, $media = \u0026#39;all\u0026#39; ) å¼•å…¥jsæ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * å¼•å…¥jsæ–‡ä»¶ wp 6.3.0ç‰ˆæœ¬ä¹‹åï¼Œ$in_footerå‚æ•°æ”¹æˆäº†$args * @since 6.3.0 The $in_footer parameter of type boolean was overloaded to be an $args parameter of type array. * @param string $handle Name of the script. Should be unique. * @param string $src Default empty. * @param string[] $deps * @param string|bool|null $ver * @param array|bool $args { * Optional. An array of additional script loading strategies. Default empty array. * Otherwise, it may be a boolean in which case it determines whether the script is printed in the footer. Default false. * * @type string $strategy Optional. If provided, may be either \u0026#39;defer\u0026#39; or \u0026#39;async\u0026#39;. * @type bool $in_footer Optional. Whether to print the script in the footer. Default \u0026#39;false\u0026#39;. * } */ function wp_enqueue_script( $handle, $src = \u0026#39;\u0026#39;, $deps = array(), $ver = false, $args = array() ) ä½¿ç”¨æ¡ˆä¾‹ 1 2 3 4 add_action(\u0026#39;wp_enqueue_scripts\u0026#39;, function () { wp_enqueue_style(\u0026#39;common-style\u0026#39;, get_theme_file_uri() . \u0026#39;/css/commom.css\u0026#39;); wp_enqueue_script(\u0026#39;commmon-js\u0026#39;, get_theme_file_uri() . \u0026#39;/js/common.js\u0026#39;, array(), \u0026#39;\u0026#39;, true); }) æ¨¡æ¿æ–‡ä»¶æ‹†åˆ†å’Œå¼•å…¥ ä¼ ç»Ÿçš„å¼•å…¥æ–¹å¼ 1 2 3 include \u0026#39;template-part.php\u0026#39;; //or require \u0026#39;template-part.php\u0026#39;; wpæ¨èæ–¹å¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 //åŠ è½½ä»»æ„æ¨¡æ¿æ–‡ä»¶ get_template_part(\u0026#39;template-part\u0026#39;); //åŠ è½½ä¸»é¢˜ä¸­header.php or header-$name.php get_header($name = \u0026#39;\u0026#39;) //åŠ è½½ä¸»é¢˜ä¸­footer.php or footer-$name.php get_footer($name = \u0026#39;\u0026#39;) //åŠ è½½ä¸»é¢˜ä¸­sidebar.php or sidebar-$name.php get_sidebar($name = \u0026#39;\u0026#39;) åˆ†é¡µå¯¼èˆª å†…å®¹åˆ†é¡µ 1 2 3 //1.æ‰‹åŠ¨æ’å…¥åˆ†é¡µç¬¦ //2.é€šè¿‡wp_link_pages()æ˜¾ç¤ºé¡µç  wp_link_pages(); å…³è”åˆ†é¡µ è·å–ä¸Šä¸€ç¯‡æ–‡ç« é“¾æ¥ 1 2 3 4 5 6 7 8 9 10 11 12 /** * @see get_previous_post_link() * * @param string $format Optional. Link anchor format. Default \u0026#39;\u0026amp;laquo; %link\u0026#39;. * @param string $link Optional. Link permalink format. Default \u0026#39;%title\u0026#39;. * @param bool $in_same_term Optional. Whether link should be in the same taxonomy term. * Default false. * @param int[]|string $excluded_terms Optional. Array or comma-separated list of excluded term IDs. * Default empty. * @param string $taxonomy Optional. Taxonomy, if `$in_same_term` is true. Default \u0026#39;category\u0026#39;. */ function previous_post_link( $format = \u0026#39;\u0026amp;laquo; %link\u0026#39;, $link = \u0026#39;%title\u0026#39;, $in_same_term = false, $excluded_terms = \u0026#39;\u0026#39;, $taxonomy = \u0026#39;category\u0026#39; ) è·å–ä¸‹ä¸€ç¯‡æ–‡ç« é“¾æ¥ 1 2 3 4 5 6 7 8 9 10 11 12 /** * @see get_next_post_link() * * @param string $format Optional. Link anchor format. Default \u0026#39;\u0026amp;laquo; %link\u0026#39;. * @param string $link Optional. Link permalink format. Default \u0026#39;%title\u0026#39;. * @param bool $in_same_term Optional. Whether link should be in the same taxonomy term. * Default false. * @param int[]|string $excluded_terms Optional. Array or comma-separated list of excluded term IDs. * Default empty. * @param string $taxonomy Optional. Taxonomy, if `$in_same_term` is true. Default \u0026#39;category\u0026#39;. */ function next_post_link( $format = \u0026#39;%link \u0026amp;raquo;\u0026#39;, $link = \u0026#39;%title\u0026#39;, $in_same_term = false, $excluded_terms = \u0026#39;\u0026#39;, $taxonomy = \u0026#39;category\u0026#39; ) ä½¿ç”¨ä¸¾ä¾‹ 1 2 3 4 5 6 7 8 9 \u0026lt;?php if (have_posts()) :?\u0026gt; \u0026lt;?php while (have_posts()) : the_post(); ?\u0026gt; \u0026lt;?php the_content(); ?\u0026gt; \u0026lt;?php wp_link_pages(); ?\u0026gt; \u0026lt;?php endwhile; ?\u0026gt; \u0026lt;?php endif; ?\u0026gt; \u0026lt;?php previous_post_link(\u0026#39;ä¸Šâ¼€ç¯‡ï¼š%link\u0026#39;); ?\u0026gt; \u0026lt;?php next_post_link(\u0026#39;ä¸‹â¼€ç¯‡ï¼š%link\u0026#39;); ?\u0026gt; åˆ—è¡¨åˆ†é¡µ ç®€å•åˆ†é¡µ 1 2 3 4 5 6 7 8 9 10 \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;åˆ†åˆ«è·å–ä¸Šâ¼€â»šå’Œä¸‹â¼€â»šçš„é“¾æ¥\u0026lt;/p\u0026gt; \u0026lt;?php previous_posts_link(); ?\u0026gt; \u0026lt;?php next_posts_link(); ?\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;åŒæ—¶è·å–ä¸Šä¸‹â»šçš„é“¾æ¥\u0026lt;/p\u0026gt; \u0026lt;?php posts_nav_link(); ?\u0026gt; \u0026lt;/div\u0026gt; æ•°å­—åˆ†é¡µ 1 2 3 4 5 6 7 \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;æ¨èçš„æ•°å­—åˆ†â»šå‡½æ•°æ‰§â¾çš„æ•ˆæœ\u0026lt;/p\u0026gt; \u0026lt;?php the_posts_pagination(); ?\u0026gt; \u0026lt;/div\u0026gt; //wp 4.1ä¹‹å‰çš„æ–¹å¼ \u0026lt;?php echo paginate_links(); ?\u0026gt; å¼€å¯è‡ªåŠ¨ç”Ÿæˆé¡µé¢æ ‡é¢˜åŠŸèƒ½ 1 2 3 4 5 add_action(\u0026#39;after_setup_theme\u0026#39;, function () { add_theme_support(\u0026#39;title-tag\u0026#39;); }); //é€šè¿‡wp_head();è§¦å‘æ˜¾ç¤º å¯¼èˆªèœå•åŠŸèƒ½ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 //1.ä¸»é¢˜çš„functions.phpä¸­æ³¨å†Œèœå• add_action(\u0026#39;after_setup_theme\u0026#39;, function () { //æ³¨å†Œå¯¼èˆªèœå•ï¼Œç”¨äºå…³è”åå°è®¾ç½®çš„èœå•ï¼Œè¿™é‡Œnav-1ç›¸å½“äºä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå’Œå‰å°wp_nav_menuçš„theme_locationå¯¹åº” register_nav_menus([ \u0026#39;nav-1\u0026#39; =\u0026gt; \u0026#39;é¡¶éƒ¨å¯¼èˆª\u0026#39; ]); }) //2.å‰å°æ˜¾ç¤ºèœå• \u0026lt;?php wp_nav_menu([ \u0026#39;theme_location\u0026#39; =\u0026gt; \u0026#39;nav-1\u0026#39; ]); ?\u0026gt; wp_nav_menuè¯¦ç»†å‚æ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 $defaults = array( \u0026#39;theme_location\u0026#39; =\u0026gt; \u0026#39;\u0026#39;, //è°ƒâ½¤èœå•çš„åç§°ï¼Œåç§°æ˜¯ä½ â¾ƒâ¼°æ³¨å†Œèœå•çš„æ—¶å€™â¾ƒå®šä¹‰çš„ \u0026#39;menu\u0026#39; =\u0026gt; \u0026#39;\u0026#39;, //ä½¿â½¤å¯¼èˆªèœå•çš„åç§°è°ƒâ½¤èœå•ï¼Œå¯ä»¥æ˜¯ IDã€åˆ«åå’Œåå­—ï¼ˆæŒ‰é¡ºåºåŒ¹é…ï¼‰ \u0026#39;container\u0026#39; =\u0026gt; \u0026#39;div\u0026#39;, //æœ€å¤–å±‚å®¹å™¨çš„æ ‡ç­¾ï¼Œåªâ½€æŒ div å’Œ nav æ ‡ç­¾ \u0026#39;container_class\u0026#39; =\u0026gt; \u0026#39;\u0026#39;, //å¤–å±‚å®¹å™¨çš„class \u0026#39;container_id\u0026#39; =\u0026gt; \u0026#39;\u0026#39;, //å¤–å±‚å®¹å™¨çš„ ID \u0026#39;menu_class\u0026#39; =\u0026gt; \u0026#39;menu\u0026#39;, //ul â½—èŠ‚ç‚¹çš„ class å±æ€§ \u0026#39;menu_id\u0026#39; =\u0026gt; \u0026#39;\u0026#39;, //ul â½—èŠ‚ç‚¹çš„ id å±æ€§ \u0026#39;echo\u0026#39; =\u0026gt; true, //å¸ƒå°”å€¼ï¼Œæ˜¯å¦è¾“å‡ºèœå•ï¼Œä¸ºfalseæ˜¯å¯ä»¥â½¤äºèµ‹å€¼ \u0026#39;fallback_cb\u0026#39; =\u0026gt; \u0026#39;wp_page_menu\u0026#39;, //å½“å‰è®¾ç½®çš„èœå•ä¸å­˜åœ¨æ—¶ï¼Œæ˜¾â½°æ­¤å¤„è®¾ç½®çš„èœå• \u0026#39;before\u0026#39; =\u0026gt; \u0026#39;\u0026#39;, //æ˜¾â½°åœ¨æ¯ä¸ªèœå•é“¾æ¥å‰çš„â½‚æœ¬ \u0026#39;after\u0026#39; =\u0026gt; \u0026#39;\u0026#39;, //æ˜¾â½°åœ¨æ¯ä¸ªèœå•é“¾æ¥åçš„â½‚æœ¬ \u0026#39;link_before\u0026#39; =\u0026gt; \u0026#39;\u0026#39;, //æ˜¾â½°åœ¨æ¯ä¸ªèœå•é“¾æ¥â½‚æœ¬å‰çš„â½‚æœ¬ \u0026#39;link_after\u0026#39; =\u0026gt; \u0026#39;\u0026#39;, //æ˜¾â½°åœ¨æ¯ä¸ªèœå•é“¾æ¥â½‚æœ¬åçš„â½‚æœ¬ \u0026#39;items_wrap\u0026#39; =\u0026gt; \u0026#39;\u0026lt;ul class=\u0026#34;%1$s\u0026#34; id=\u0026#34;%2$s\u0026#34;\u0026gt;%3$s \u0026lt;/ul\u0026gt;\u0026#39;, //èœå•çš„è¾“å‡ºç»“æ„ï¼Œ \u0026#39;depth\u0026#39; =\u0026gt; 0, //æ˜¾â½°èœå•æ·±åº¦ï¼Œ0ä¸ºæ˜¾â½°æ‰€æœ‰ \u0026#39;walker\u0026#39; =\u0026gt; \u0026#39;\u0026#39; //èœå•çš„ç»“æ„å¯¹è±¡ é€šè¿‡æ”¹å‚æ•°å¯ä»¥åˆ¶ä½œä»»æ„ç»“æ„çš„å¯¼èˆªèœå• ); wp_nav_menu( $defaults); è¾¹æ å·¥å…·åŠŸèƒ½ å¼€å¯è¾¹æ å·¥å…· 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 add_action(\u0026#39;widgets_init\u0026#39;, function () { register_sidebar([ \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;è¾¹æ 1\u0026#39;, //â¼©â¼¯å…·çš„åŒºåŸŸåç§°ï¼Œé»˜è®¤æ˜¯ \u0026#39;sidebar\u0026#39; åŠ  æ•°å­— ID,å¦‚ï¼šsidebar-1 \u0026#39;id\u0026#39;=\u0026gt; \u0026#39;footer_area_one\u0026#39;, //åŒºåŸŸçš„IDï¼Œé»˜è®¤æ˜¯â¼€ä¸ªâ¾ƒåŠ¨é€’å¢çš„æ•°å­— ID \u0026#39;description\u0026#39;=\u0026gt; \u0026#39;ç¬¬1ä¸ªè¾¹æ \u0026#39;, //åŒºåŸŸçš„æè¿°ï¼Œé»˜è®¤ä¸ºç©º \u0026#39;before_widget\u0026#39; =\u0026gt; \u0026#39;\u0026lt;section id=\u0026#34;%1$s\u0026#34; class=\u0026#34;%2$s widget\u0026#34;\u0026gt;\u0026#39;, //åŒºåŸŸçš„å†…å®¹å‰çš„HTMLä»£ç ï¼Œé»˜è®¤ï¼š \u0026#39;\u0026#39;ï¼‰ \u0026#39;after_widget\u0026#39;=\u0026gt; \u0026#39;\u0026#39;, //åŒºåŸŸå†…å®¹åçš„HTMLä»£ç ï¼Œé»˜è®¤ï¼š \u0026#34;\\n\u0026#34; \u0026#39;before_title\u0026#39;=\u0026gt; \u0026#39;\u0026#39;, //åŒºåŸŸæ ‡é¢˜å‰çš„HTMLä»£ç ï¼Œé»˜è®¤ï¼š \u0026#39;after_title\u0026#39;=\u0026gt; \u0026#39;\u0026#39;, //åŒºåŸŸæ ‡é¢˜åçš„HTMLä»£ç ï¼Œé»˜è®¤ï¼š\u0026#34;\\n\u0026#34; ]); }); å‰å°æ˜¾ç¤ºæŒ‡å®šè¾¹æ  1 2 3 \u0026lt;ul class=\u0026#34;sidebar\u0026#34;\u0026gt; \u0026lt;?php dynamic_sidebar(\u0026#39;sidebar-1\u0026#39;); //é€šè¿‡idè·å–æŒ‡å®šè¾¹æ ä¿¡æ¯ ?\u0026gt; \u0026lt;/ul\u0026gt; åˆ¤æ–­è¾¹æ å†…æ˜¯å¦åŒ…å«å°å·¥å…· is_active_sidebar() 1 2 3 4 5 \u0026lt;?php if(is_active_sidebar(\u0026#39;left-sidebar\u0026#39;)):?\u0026gt; \u0026lt;ul class=\u0026#34;sidebar\u0026#34;\u0026gt; \u0026lt;?php dynamic_sidebar(\u0026#39;left-sidebar\u0026#39;); ?\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;?php endif;?\u0026gt; ç‰¹è‰²å›¾åƒåŠŸèƒ½ å¼€å¯ç‰¹è‰²å›¾åƒ 1 2 3 add_action(\u0026#39;after_setup_theme\u0026#39;, function () { add_theme_support(\u0026#39;post-thumbnails\u0026#39;); }); è·å–ç‰¹è‰²å›¾åƒ 1 2 3 4 5 6 7 8 9 10 11 /** * @see get_the_post_thumbnail() * * @param string|int[] $size Default \u0026#39;post-thumbnail\u0026#39;. * ç³»ç»Ÿå†…ç½®çš„$sizeæœ‰ thumbnailï¼šç¼©ç•¥å›¾; meduimï¼šä¸­å›¾; largeï¼šå¤§å›¾; fullï¼šåŸå›¾ * å¦‚æœ$sizeçš„å°ºå¯¸æ‰¾ä¸åˆ°ï¼Œåˆ™æ˜¾ç¤ºfullåŸå›¾. * @param string|array $attr Optional. Query string or array of attributes. Default empty. */ function the_post_thumbnail( $size = \u0026#39;post-thumbnail\u0026#39;, $attr = \u0026#39;\u0026#39; ) { echo get_the_post_thumbnail( null, $size, $attr ); } å®šä¹‰æ›´å¤šå›¾åƒå°ºå¯¸ 1 2 3 4 5 6 7 8 9 add_action(\u0026#39;after_setup_theme\u0026#39;, function () { add_theme_support(\u0026#39;post-thumbnails\u0026#39;); //post-thumbnailå°ºå¯¸é»˜è®¤æ˜¯ä¸å­˜åœ¨çš„ï¼Œå¯ä»¥é€šè¿‡ä»£ç è®¾ç½® set_post_thumbnail_size(100, 100, true); //æ–°å¢è‡ªå®šä¹‰å°ºå¯¸ add_image_size(\u0026#39;category-thumbnail\u0026#39;, 50, 50); }); å¸¸ç”¨å‡½æ•° 1 2 3 4 5 6 7 8 9 10 11 //è·å–å›¾ç‰‡è¯´æ˜ä¿¡æ¯ the_post_thumbnail_caption(); //åˆ¤æ–­æ–‡ç« æ˜¯å¦åŒ…å«ç‰¹è‰²å›¾ç‰‡ has_post_thumbnail(); //è·å–ç‰¹è‰²å›¾åƒid get_the_post_thumbnail_id(); //è·å–ç‰¹è‰²å›¾åƒé“¾æ¥ get_the_post_thumbnail_url(); è‡ªå®šä¹‰æ ç›®åŠŸèƒ½ åå°è®¾ç½® è·å–è‡ªå®šä¹‰æ ç›®ä¿¡æ¯ 1 2 3 4 5 6 7 8 9 10 11 /** * @param int $post_id Post ID. * @param string $key Optional. The meta key to retrieve. By default, * returns data for all keys. Default empty. * @param bool $single Optional. Whether to return a single value. * This parameter has no effect if `$key` is not specified. * Default false. */ function get_post_meta( $post_id, $key = \u0026#39;\u0026#39;, $single = false ) { return get_metadata( \u0026#39;post\u0026#39;, $post_id, $key, $single ); } ä½¿ç”¨ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 \u0026lt;?php if( have_posts() ): ?\u0026gt; \u0026lt;?php while( have_posts() ): the_post(); ?\u0026gt; \u0026lt;div\u0026gt; \u0026lt;strong\u0026gt;â½‚ç« ç›¸å†Œä¿¡æ¯ï¼ˆâ¾ƒå®šä¹‰çš„ï¼‰ï¼šget_post_meta\u0026lt;/strong\u0026gt; \u0026lt;?php print_r( get_post_meta( get_the_ID(), \u0026#39;gallary_img\u0026#39;, false ) ); ?\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; \u0026lt;strong\u0026gt;â½‚ç« ä»·æ ¼ä¿¡æ¯ï¼ˆâ¾ƒå®šä¹‰çš„ï¼‰ï¼šget_post_meta\u0026lt;/strong\u0026gt; \u0026lt;strong\u0026gt;å› ä¸ºä»·æ ¼ä¿¡æ¯å°±1ä¸ªå€¼ï¼Œé€šè¿‡ç¬¬3ä¸ªä¸ªå‚æ•°å¯ä»¥ç›´æ¥è·å–åˆ°å€¼\u0026lt;/strong\u0026gt; \u0026lt;?php print_r( get_post_meta( get_the_ID(), \u0026#39;price\u0026#39;, true ) ); ?\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; \u0026lt;strong\u0026gt;â½‚ç« ä»·æ ¼ä¿¡æ¯ï¼ˆâ¾ƒå®šä¹‰çš„ï¼‰ï¼šget_post_meta\u0026lt;/strong\u0026gt; \u0026lt;?php print_r( get_post_meta( get_the_ID(), \u0026#39;price\u0026#39; ) ); ?\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;?php endwhile; ?\u0026gt; \u0026lt;?php endif; ?\u0026gt; é€šè¿‡ä»£ç è®¾ç½® æ·»åŠ add_post_meta 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 /** * @param int $post_id Post ID. * @param string $meta_key Metadata name. * @param mixed $meta_value Metadata value. Must be serializable if non-scalar. * @param bool $unique Optional. Whether the same key should not be added. * Default false. * @return int|false Meta ID on success, false on failure. */ function add_post_meta( $post_id, $meta_key, $meta_value, $unique = false ) { // Make sure meta is added to the post, not a revision. $the_post = wp_is_post_revision( $post_id ); if ( $the_post ) { $post_id = $the_post; } return add_metadata( \u0026#39;post\u0026#39;, $post_id, $meta_key, $meta_value, $unique ); } æ›´æ–°update_post_metaï¼Œä¸å­˜åœ¨åˆ™æ–°å¢ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 /** * @param int $post_id Post ID. * @param string $meta_key Metadata key. * @param mixed $meta_value Metadata value. Must be serializable if non-scalar. * @param mixed $prev_value Optional. Previous value to check before updating. * If specified, only update existing metadata entries with * this value. Otherwise, update all entries. Default empty. * @return int|bool Meta ID if the key didn\u0026#39;t exist, true on successful update, * false on failure or if the value passed to the function * is the same as the one that is already in the database. */ function update_post_meta( $post_id, $meta_key, $meta_value, $prev_value = \u0026#39;\u0026#39; ) { // Make sure meta is updated for the post, not for a revision. $the_post = wp_is_post_revision( $post_id ); if ( $the_post ) { $post_id = $the_post; } return update_metadata( \u0026#39;post\u0026#39;, $post_id, $meta_key, $meta_value, $prev_value ); } åˆ é™¤delete_post_meta 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 /** * @param int $post_id Post ID. * @param string $meta_key Metadata name. * @param mixed $meta_value Optional. Metadata value. If provided, * rows will only be removed that match the value. * Must be serializable if non-scalar. Default empty. * @return bool True on success, false on failure. */ function delete_post_meta( $post_id, $meta_key, $meta_value = \u0026#39;\u0026#39; ) { // Make sure meta is deleted from the post, not from a revision. $the_post = wp_is_post_revision( $post_id ); if ( $the_post ) { $post_id = $the_post; } return delete_metadata( \u0026#39;post\u0026#39;, $post_id, $meta_key, $meta_value ); } éšè—çš„è‡ªå®šä¹‰æ ç›®ï¼Œåå°æ— æ³•è®¾ç½® 1 2 3 //ä¸‹æ»‘çº¿å¼€å¤´çš„å­—æ®µï¼Œåå°ä¸å±•ç¤ºï¼Œç”¨æˆ·æ— æ³•è®¾ç½® add_post_meta($post_id, \u0026#39;_myKey\u0026#39;, \u0026#39;éšè—çš„å€¼\u0026#39;); get_post_meta($post_id, \u0026#39;_mykey\u0026#39;, true); å¸¸ç”¨åŠŸèƒ½ è®¾ç½®æµè§ˆæ¬¡æ•° å®šä¹‰å‡½æ•° é€šè¿‡ éšè—çš„(ä¸‹åˆ’çº¿å¼€å¤´çš„key)è‡ªå®šä¹‰æ ç›®å®ç°æµè§ˆæ¬¡æ•°ã€‚functions.phpä¸­å®šä¹‰ä»¥ä¸‹å‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 /** * è®¾ç½®â½‚ç« /â»šâ¾¯ æµè§ˆæ¬¡æ•° * _wphollis_postviewsæ˜¯â¾ƒå®šä¹‰æ â½¬çš„åå­— * @param int $post_id â½‚ç« çš„IDç¼–å· */ function wphollis_set_postviews($post_id) { // è¯¦æƒ…â»šæ‰å¤„ç† if ( is_singular() \u0026amp;\u0026amp; ! empty( $post_id ) ) { $views = get_post_meta($post_id, \u0026#39;_wphollis_postviews\u0026#39;, true); $views = ! empty( $views ) ? $views : 0; $views++; update_post_meta($post_id, \u0026#39;_wphollis_postviews\u0026#39;, $views); } } /** * è·å–â½‚ç« /â»šâ¾¯ æµè§ˆæ¬¡æ•° * @param int â½‚ç« çš„IDç¼–å· * @return int æµè§ˆæ¬¡æ•° */ function wphollis_get_postviews( $post_id ) { if ( ! empty( $post_id ) ) { $views = get_post_meta($post_id, \u0026#39;_wphollis_postviews\u0026#39;, true); $views = ! empty( $views ) ? (int)$views : 0; return $views; } } å‰å°ä½¿ç”¨ ï¼ˆåœ¨å†…å®¹è¯¦æƒ…é¡µä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼‰ 1 2 3 4 5 6 7 8 \u0026lt;?php wphollis_set_postviews(get_queried_object_id());//æ›´æ–°æ–‡ç« æµè§ˆæ¬¡æ•° ?\u0026gt; \u0026lt;?php if (have_posts()) :?\u0026gt; \u0026lt;?php while (have_posts()) : the_post(); ?\u0026gt; \u0026lt;?php the_title(); ?\u0026gt; \u0026lt;?php wphollis_get_postviews(get_the_ID());//è·å–æ–‡ç« æµè§ˆæ¬¡æ•° ?\u0026gt; \u0026lt;?php endwhile; ?\u0026gt; \u0026lt;?php endif; ?\u0026gt; è·å–å½“å‰ç”¨æˆ·è®¿é—®çš„ç½‘é¡µç½‘å€ åœ¨å½“å‰ä¸»é¢˜functions.phpæ–‡ä»¶ä¸­å®šä¹‰ä»¥ä¸‹å‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 /** * è·å–â½¤â¼¾å½“å‰è®¿é—®çš„â½¹å€ */ function wphollis_get_current_url() { global $wp, $wp_rewrite; // è·å–é‡å†™è§„åˆ™ï¼Œæœ´ç´ æ¨¡å¼è§„åˆ™ä¸ºç©º $rewrite = $wp_rewrite-\u0026gt;wp_rewrite_rules(); // â¾®æœ´ç´ æ¨¡å¼ä¸‹ï¼Œè¿”å›å½“å‰â½¹å€ if ( !empty($rewrite) ) { return home_url( $wp-\u0026gt;request ); } // åœ¨æœ´ç´ æ¨¡å¼ä¸‹ï¼Œè¿”å›å½“å‰â½¹å€ return home_url( \u0026#39;?\u0026#39; . $wp-\u0026gt;query_string ); } æ­£æ–‡è‡ªåŠ¨æˆªå– åœ¨å½“å‰ä¸»é¢˜functions.phpæ–‡ä»¶ä¸­å®šä¹‰ä»¥ä¸‹å‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 /** * @params $len è¦æˆªå–çš„å­—ç¬¦é•¿åº¦ * @params $suffix åç¼€æ ‡è®° * */ function hollis_strim_post_content($len = 100, $suffix = \u0026#39;...\u0026#39;) { //è·å–æ­£æ–‡ä¿¡æ¯ï¼Œå¹¶åšå¿…è¦å¤„ç† $content = get_the_content(); //è¿™é‡Œè§¦å‘the_contentçš„é’©å­ï¼Œæ‰§è¡ŒæŒ‚è½½è¯¥é’©å­çš„æ‰€æœ‰æ–¹æ³• //è¿™é‡Œä¸å†™è¿™ä¸ªè¯­å¥ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ä¸ºäº†å…¼å®¹wpçš„æ‰©å±•æ€§è¦æ±‚åŠ ä¸Š $content = apply_filters(\u0026#39;the_content\u0026#39;, $content); $content = str_replace(\u0026#39;]]\u0026gt;\u0026#39;, \u0026#39;]]\u0026amp;gt;\u0026#39;, $content); //å»é™¤æ­£æ–‡ä¸­çš„HTMLæ ‡ç­¾ $content = strip_tags($content); if (mb_strlen($content) \u0026lt;= $len) { //å­—ç¬¦æ•°é‡å°‘äºè¦æˆªå–çš„é•¿åº¦ï¼Œåˆ™å±•ç¤ºå…¨éƒ¨ return $content; } else { return $content = mb_substr($content, 0, $len) . $suffix; } } ç»™åµŒå¥—è¯„è®ºæ·»åŠ å›å¤å…³ç³»ä¿¡æ¯ åŸç†å°±æ˜¯é€šè¿‡get_comment_author_linké’©å­ï¼ŒæŠŠè¯„è®ºè€…çš„linkæ‰©å±•æˆå¸¦å›å¤å…³ç³»çš„ä¸¤ä¸ªlink\nåœ¨å½“å‰ä¸»é¢˜functions.phpæ–‡ä»¶ä¸­å®šä¹‰ä»¥ä¸‹å‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /** * å¢åŠ è°å›å¤è° * æ‰€æœ‰â½¤åˆ°çš„é’©â¼¦ä¿¡æ¯â¸º * apply_filters( \u0026#39;get_comment_author_link\u0026#39;, $return, $author, $comment-\u0026gt;comment_ID ); * @param string $out æœªä¿®æ”¹çš„è¯„è®ºæ•°æ®ï¼Œå³wordpressé»˜è®¤æä¾›çš„æ•°æ® * @param int $comment_id è¯„è®ºçš„ç¼–å· * @return string */ function wphollis_who_resp_who($out, $author, $comment_id) { $comment = get_comment($comment_id); // å¦‚æœæ²¡æœ‰â½—çº§è¯„è®ºï¼Œåˆ™æ­£å¸¸è¿”å›ï¼Œå› ä¸ºæ²¡æœ‰å›å¤å…³ç³» if ( empty($comment-\u0026gt;comment_parent) ) { return $out; } /** * å¦‚æœæœ‰â½—çº§è¯„è®ºï¼Œåˆ™æ·»åŠ å›å¤å…³ç³» */ // è·å–â½—ï¼ˆåŸï¼‰è¯„è®º $parent = get_comment($comment-\u0026gt;comment_parent); // è·å–â½—ï¼ˆåŸï¼‰è¯„è®ºä½œè€… $pauthor = get_comment_author($parent); // æ„ä»¶å›å¤å…³ç³» $pcid = \u0026#39;#comment-\u0026#39; . $parent-\u0026gt;comment_ID; $new = $out . \u0026#39; å›å¤ \u0026#39;. \u0026#34;\u0026lt;a href=\u0026#39;{$pcid}\u0026#39;\u0026gt;{$pauthor}\u0026lt;/a\u0026gt;\u0026#34;; // è¿”å›ä¿®æ”¹åçš„è¯„è®ºæ•°æ® return $new; } add_filter(\u0026#39;get_comment_author_link\u0026#39;, \u0026#39;wphollis_who_resp_who\u0026#39;, 10, 3); è§£å†³è¯„è®ºæ¨¡æ¿noticeæç¤º è°ƒç”¨comments_template()æ–¹æ³•çš„æ—¶å€™ï¼Œwpä¼šä¼˜å…ˆæŸ¥æ‰¾å½“å‰ä¸»é¢˜ä¸‹æœ‰æ²¡æœ‰comments.phpæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰åˆ™é‡‡ç”¨wpè‡ªå¸¦çš„æ¨¡æ¿wp-includes/theme-compat/comments.php\nä¿®æ”¹èœå•è¾“å‡ºç»“æ„ æ·»åŠ å¹¶å®šä¹‰â¼€ä¸ªâ¾ƒå®šä¹‰å‡½æ•°â½‚ä»¶ï¼ˆåç§°éšæ„ï¼‰ï¼šclass-my-nav-walker.php 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 class wphollis_Nav_Walker extends Walker_Nav_Menu { /** * ä¿®æ”¹â¼†çº§èœå• */ public function end_lvl( \u0026amp;$output, $depth = 0, $args = array() ) { if ( isset( $args-\u0026gt;item_spacing ) \u0026amp;\u0026amp; \u0026#39;discard\u0026#39; === $args-\u0026gt;item_spacing ) { $t = \u0026#39;\u0026#39;; $n = \u0026#39;\u0026#39;; } else { $t = \u0026#34;\\t\u0026#34;; $n = \u0026#34;\\n\u0026#34;; } $indent = str_repeat( $t, $depth ); $suffix = \u0026#39;\u0026lt;span class=\u0026#34;fa fa-angle-down\u0026#34;\u0026gt;\u0026lt;/span\u0026gt;\u0026#39;; // æ·»åŠ çš„æŒ‰é’®å¯¹åº”çš„HTML $output .= \u0026#34;$indent\u0026lt;/ul\u0026gt;{$suffix}{$n}\u0026#34;; } } åœ¨funcitons.phpä¸­åŠ è½½è¿™ä¸ªç±» 1 2 3 add_action(\u0026#39;after_setup_theme\u0026#39;, function () { include get_theme_file_path() . \u0026#39;/inc/class-my-nav-walker.php\u0026#39;; }); å‰å°é¡µé¢ä¸­è°ƒç”¨èœå• 1 2 3 4 5 6 7 \u0026lt;?php wp_nav_menu([ \u0026#39;theme_location\u0026#39; =\u0026gt; \u0026#39;nav-1\u0026#39;, \u0026#39;walker\u0026#39; =\u0026gt; new wphollis_Nav_Walker() ]); ?\u0026gt; å®æˆ˜æ¡ˆä¾‹ å¯¼å…¥æµ‹è¯•æ•°æ® ä¸‹è½½å¥½ xmlçš„æ•°æ®â½‚ä»¶, åœ¨ åå° â¼¯å…· \u0026mdash;-\u0026gt; å¯¼â¼Š \u0026mdash;-\u0026gt; WordPresså¯¼â¼Šå™¨å®‰è£… \u0026mdash;-\u0026gt; é€‰æ‹©xmlâ½‚ä»¶å¯¼â¼Šæ•°\næ®\nå¼€å¯æ‰€éœ€åŠŸèƒ½å¹¶å¼•å…¥æ‰€éœ€çš„æ ·å¼æ–‡ä»¶ functions.phpæ–‡ä»¶ä¸­å®šä¹‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 add_action(\u0026#39;after_setup_theme\u0026#39;, function () { // å¼€å¯â»šâ¾¯æ ‡é¢˜åŠŸèƒ½ add_theme_support(\u0026#39;title-tag\u0026#39;); // å¼€å¯ç‰¹è‰²å›¾åƒ add_theme_support(\u0026#39;post-thumbnails\u0026#39;); // å®šä¹‰å¯¼èˆªèœå• register_nav_menus([ \u0026#39;header_menu\u0026#39; =\u0026gt; \u0026#39;é¡¶éƒ¨å¯¼èˆª\u0026#39;, \u0026#39;footer_menu\u0026#39; =\u0026gt; \u0026#39;åº•éƒ¨å¯¼èˆª\u0026#39;, ]); }); // å®šä¹‰è¾¹æ  add_action(\u0026#39;widgets_init\u0026#39;, function () { register_sidebar([ \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;è¾¹æ 1\u0026#39;, \u0026#39;id\u0026#39; =\u0026gt; \u0026#39;sidebar1\u0026#39;, \u0026#39;decsription\u0026#39; =\u0026gt; \u0026#39;è¾¹æ 1\u0026#39;, ]); }); // å¼•å…¥æ‰€éœ€çš„æ ·å¼æ–‡ä»¶ add_action(\u0026#39;wp_enqueue_scripts\u0026#39;, function () { wp_enqueue_style(\u0026#39;main-css\u0026#39;, get_theme_file_uri() . \u0026#39;/main.css\u0026#39;, [], \u0026#39;1.0\u0026#39;); wp_enqueue_script(\u0026#39;main-js\u0026#39;, get_theme_file_uri() . \u0026#39;/main.js\u0026#39;, [], \u0026#39;1.0\u0026#39;); }); è·å–ç™»å½•å’Œæ³¨å†Œçš„URL æ³¨å†Œåœ°å€ 1 wp_registration_url(); ç™»å½•åœ°å€ 1 wp_login_url(wphollis_get_current_url()); è·å–æ–‡ç« ä½œè€… 1 2 3 4 5 6 7 8 9 10 11 // è·å–æ–‡ç« ä½œè€…å½’æ¡£é¡µã€‚ ä½œè€…åç§°+é“¾æ¥ get_the_author_posts_link(); // è·å–æ–‡ç« ä½œè€…å½’æ¡£é¡µurl get_author_posts_url(); // è·å–ä½œè€…id get_the_author_meta(\u0026#39;ID\u0026#39;); // è·å–ç”¨æˆ·å¤´åƒã€‚get_avatar($id_or_email, $size); get_avatar(get_the_author_meta(\u0026#39;ID\u0026#39;), 24); å›å¤è¯„è®ºï¼Œä¸åˆ·æ–°å®šä½åˆ°å›å¤æ¡† åœ¨functions.phpä¸­æ·»åŠ ï¼š\n1 2 3 4 5 //ï¼ˆæ˜¯å¦æ˜¯è¯¦æƒ…é¡µ \u0026amp;\u0026amp; â½‚ç« æ˜¯å¦å¼€å¯è¯„è®º \u0026amp;\u0026amp; åå°æ˜¯å¦å¼€å¯åµŒå¥—è¯„è®ºï¼‰ // è°ƒå–å®˜â½…åŸâ½£å›å¤è¯„è®ºè·³è½¬å‡½æ•° if(is_singular() \u0026amp;\u0026amp; comments_open() \u0026amp;\u0026amp; get_option(\u0026#39;thread_comments\u0026#39;)){ wp_enqueue_script(\u0026#39;comment-reply\u0026#39;); } è®¾ç½®wpæŒ‡å®šçš„classå±æ€§å€¼ åœ¨body â¾¥â¾¯è®¾ç½®classå±æ€§å€¼ 1 \u0026lt;body \u0026lt;?php body_class() ?\u0026gt; \u0026gt; åœ¨article â¾¥â¾¯è®¾ç½®classå±æ€§å€¼ 1 \u0026lt;article \u0026lt;?php post_class() ?\u0026gt; \u0026gt; å½’æ¡£é¡µæ ‡é¢˜è°ƒå–ä»¥åŠè·å–æ–‡ç« çš„ç¼©ç•¥å›¾ 1 2 3 4 5 6 \u0026lt;!-- å½’æ¡£é¡µæ ‡é¢˜ --\u0026gt; \u0026lt;header class=\u0026#34;list-header\u0026#34;\u0026gt; \u0026lt;h1\u0026gt; \u0026lt;span\u0026gt;\u0026lt;?php the_archivce_title(); ?\u0026gt;\u0026lt;/span\u0026gt; \u0026lt;/h1\u0026gt; \u0026lt;/header\u0026gt; 1 2 3 4 5 6 7 8 \u0026lt;!-- è·å–æ–‡ç« ç¼©ç•¥å›¾ --\u0026gt; \u0026lt;a href=\u0026#34;\u0026lt;?php the_permalink() ?\u0026gt;\u0026#34;\u0026gt; \u0026lt;?php if (has_post_thumbnail()) : ?\u0026gt; \u0026lt;?php the_post_thumbnail(\u0026#39;thumbnail\u0026#39;); ?\u0026gt; \u0026lt;?php else : ?\u0026gt; \u0026lt;img src=\u0026#34;\u0026lt;?php echo get_theme_file_uri(); ?\u0026gt;/default.png\u0026#34;\u0026gt; \u0026lt;?php endif; ?\u0026gt; \u0026lt;/a\u0026gt; é¦–é¡µæ¨¡æ¿æ–‡ä»¶å¼€å‘ 1 2 3 4 5 6 7 8 9 \u0026lt;!-- åˆ¤æ–­ç½®é¡¶â½‚ç« æ˜¾â½° is_sticky()--\u0026gt; \u0026lt;?php if(is_sticky()) :?\u0026gt; \u0026lt;span class=\u0026#34;sticky\u0026#34;\u0026gt;ç½®é¡¶\u0026lt;/span\u0026gt; \u0026lt;?php endif; ?\u0026gt; \u0026lt;!--è°ƒå–åˆ†â»š--\u0026gt; \u0026lt;div class=\u0026#34;posts-nav\u0026#34;\u0026gt; \u0026lt;?php echo the_posts_pagination(); ?\u0026gt; \u0026lt;/div\u0026gt; ","date":"2024-03-23T02:17:45+08:00","permalink":"https://hollisho.github.io/p/wordpress%E4%B8%BB%E9%A2%98%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E6%A2%B3%E7%90%86/","title":"Wordpressä¸»é¢˜æ ¸å¿ƒçŸ¥è¯†ç‚¹æ¢³ç†"}]