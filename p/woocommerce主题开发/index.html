<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Âç∏ËΩΩ ÊòØÂê¶‰øùÁïôÊï∞ÊçÆ 1 2 //ÂëäËØâWCCÔºåÂà†Èô§Êèí‰ª∂ÁöÑÊó∂ÂÄôÔºåÊòØÂê¶‰øùÁïôÊï∞ÊçÆ define(&#39;WC_REMOVE_ALL_DATA&#39;, true); ËßíËâ≤ ÂÆâË£Öwoocommerce‰πãÂêé‰ºöËá™Âä®ÂàõÂª∫‰∏§‰∏™ËßíËâ≤\n1„ÄÅÂ∫óÈì∫ÁÆ°ÁêÜÂëòÔºàShop managerÔºâ\n2„ÄÅÈ°æÂÆ¢ÔºàCustomerÔºâ\nÂõ∫ÂÆöÈìæÊé• ÂêéÂè∞-&gt;ËÆæÁΩÆ-&gt;Âõ∫ÂÆöÈìæÊé•\n">
<title>Woocommerce‰∏ªÈ¢òÂºÄÂèë</title>

<link rel='canonical' href='https://hollisho.github.io/p/woocommerce%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="Woocommerce‰∏ªÈ¢òÂºÄÂèë">
<meta property='og:description' content="Âç∏ËΩΩ ÊòØÂê¶‰øùÁïôÊï∞ÊçÆ 1 2 //ÂëäËØâWCCÔºåÂà†Èô§Êèí‰ª∂ÁöÑÊó∂ÂÄôÔºåÊòØÂê¶‰øùÁïôÊï∞ÊçÆ define(&#39;WC_REMOVE_ALL_DATA&#39;, true); ËßíËâ≤ ÂÆâË£Öwoocommerce‰πãÂêé‰ºöËá™Âä®ÂàõÂª∫‰∏§‰∏™ËßíËâ≤\n1„ÄÅÂ∫óÈì∫ÁÆ°ÁêÜÂëòÔºàShop managerÔºâ\n2„ÄÅÈ°æÂÆ¢ÔºàCustomerÔºâ\nÂõ∫ÂÆöÈìæÊé• ÂêéÂè∞-&gt;ËÆæÁΩÆ-&gt;Âõ∫ÂÆöÈìæÊé•\n">
<meta property='og:url' content='https://hollisho.github.io/p/woocommerce%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91/'>
<meta property='og:site_name' content='HoCode'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='wordpress' /><meta property='article:tag' content=' woocommerce' /><meta property='article:published_time' content='2024-03-24T16:35:45&#43;08:00'/><meta property='article:modified_time' content='2024-03-24T16:35:45&#43;08:00'/>
<meta name="twitter:title" content="Woocommerce‰∏ªÈ¢òÂºÄÂèë">
<meta name="twitter:description" content="Âç∏ËΩΩ ÊòØÂê¶‰øùÁïôÊï∞ÊçÆ 1 2 //ÂëäËØâWCCÔºåÂà†Èô§Êèí‰ª∂ÁöÑÊó∂ÂÄôÔºåÊòØÂê¶‰øùÁïôÊï∞ÊçÆ define(&#39;WC_REMOVE_ALL_DATA&#39;, true); ËßíËâ≤ ÂÆâË£Öwoocommerce‰πãÂêé‰ºöËá™Âä®ÂàõÂª∫‰∏§‰∏™ËßíËâ≤\n1„ÄÅÂ∫óÈì∫ÁÆ°ÁêÜÂëòÔºàShop managerÔºâ\n2„ÄÅÈ°æÂÆ¢ÔºàCustomerÔºâ\nÂõ∫ÂÆöÈìæÊé• ÂêéÂè∞-&gt;ËÆæÁΩÆ-&gt;Âõ∫ÂÆöÈìæÊé•\n">
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_1badc3931a35b1a0.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üßê</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">HoCode</a></h1>
            <h2 class="site-description">Èó≤ÈùôÂ∞ëË®ÄÔºå‰∏çÊÖïËç£Âà©„ÄÇÂ•ΩËØª‰π¶Ôºå‰∏çÊ±ÇÁîöËß£ÔºõÊØèÊúâ‰ºöÊÑèÔºå‰æøÊ¨£ÁÑ∂ÂøòÈ£ü„ÄÇ</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/hollisho'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://gitee.com/hollisho'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Gitee</title><path d="M11.984 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.016 0zm6.09 5.333c.328 0 .593.266.592.593v1.482a.594.594 0 0 1-.593.592H9.777c-.982 0-1.778.796-1.778 1.778v5.63c0 .327.266.592.593.592h5.63c.982 0 1.778-.796 1.778-1.778v-.296a.593.593 0 0 0-.592-.593h-4.15a.592.592 0 0 1-.592-.592v-1.482a.593.593 0 0 1 .593-.592h6.815c.327 0 .593.265.593.592v3.408a4 4 0 0 1-4 4H5.926a.593.593 0 0 1-.593-.593V9.778a4.444 4.444 0 0 1 4.445-4.444h8.296Z"/></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>È¶ñÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>ÊäÄÊúØÈìæÊé•</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>ÊöóËâ≤Ê®°Âºè</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#Âç∏ËΩΩ">Âç∏ËΩΩ</a>
      <ol>
        <li><a href="#ÊòØÂê¶‰øùÁïôÊï∞ÊçÆ">ÊòØÂê¶‰øùÁïôÊï∞ÊçÆ</a></li>
      </ol>
    </li>
    <li><a href="#ËßíËâ≤">ËßíËâ≤</a></li>
    <li><a href="#Âõ∫ÂÆöÈìæÊé•">Âõ∫ÂÆöÈìæÊé•</a>
      <ol>
        <li><a href="#‰∫ßÂìÅÂõ∫ÂÆöÈìæÊé•">‰∫ßÂìÅÂõ∫ÂÆöÈìæÊé•</a></li>
      </ol>
    </li>
    <li><a href="#‰∫ßÂìÅÂ∏∏ËßÑËÆæÁΩÆ">‰∫ßÂìÅÂ∏∏ËßÑËÆæÁΩÆ</a>
      <ol>
        <li><a href="#ËØÑËÆ∫ËÆæÁΩÆ">ËØÑËÆ∫ËÆæÁΩÆ</a></li>
        <li><a href="#Â∫ìÂ≠òËÆæÁΩÆ">Â∫ìÂ≠òËÆæÁΩÆ</a></li>
        <li><a href="#ÂèØ‰∏ãËΩΩËÆæÁΩÆ">ÂèØ‰∏ãËΩΩËÆæÁΩÆ</a></li>
      </ol>
    </li>
    <li><a href="#ÈÖçÈÄÅËÆæÁΩÆ">ÈÖçÈÄÅËÆæÁΩÆ</a>
      <ol>
        <li><a href="#ÈÖçÈÄÅÊñπÂºè">ÈÖçÈÄÅÊñπÂºè</a>
          <ol>
            <li><a href="#ÂÖçË¥πÈÖçÈÄÅ">ÂÖçË¥πÈÖçÈÄÅ</a></li>
            <li><a href="#Ê†áÂáÜËøêË¥πÁªü‰∏ÄË¥πÁéá">Ê†áÂáÜËøêË¥πÔºàÁªü‰∏ÄË¥πÁéáÔºâ</a></li>
          </ol>
        </li>
        <li><a href="#Êú¨Âú∞Ëá™Êèê">Êú¨Âú∞Ëá™Êèê</a></li>
        <li><a href="#ÈÄöËøá‰ª£Á†ÅËÆæÁΩÆ">ÈÄöËøá‰ª£Á†ÅËÆæÁΩÆ</a></li>
        <li><a href="#ÈÖçÈÄÅÁ±ªÂûã">ÈÖçÈÄÅÁ±ªÂûã</a></li>
      </ol>
    </li>
    <li><a href="#ÁªìÁÆóËÆæÁΩÆ">ÁªìÁÆóËÆæÁΩÆ</a>
      <ol>
        <li><a href="#‰ºòÊÉ†Âà∏‰ΩøÁî®">‰ºòÊÉ†Âà∏‰ΩøÁî®</a></li>
      </ol>
    </li>
    <li><a href="#apiËÆæÁΩÆ">APIËÆæÁΩÆ</a>
      <ol>
        <li><a href="#rest-api">Rest API</a></li>
        <li><a href="#webhook">Webhook</a></li>
      </ol>
    </li>
    <li><a href="#‰ºòÊÉ†Âà∏">‰ºòÊÉ†Âà∏</a>
      <ol>
        <li><a href="#Â∏∏ËßÑ">Â∏∏ËßÑ</a></li>
        <li><a href="#‰ΩøÁî®ÈôêÂà∂">‰ΩøÁî®ÈôêÂà∂</a></li>
        <li><a href="#‰ΩøÁî®Ê¨°Êï∞">‰ΩøÁî®Ê¨°Êï∞</a></li>
      </ol>
    </li>
    <li><a href="#ËÆ¢Âçï">ËÆ¢Âçï</a>
      <ol>
        <li><a href="#Áä∂ÊÄÅ-7Áßç">Áä∂ÊÄÅ (7Áßç)</a></li>
        <li><a href="#Âä®‰Ωú">Âä®‰Ωú</a></li>
      </ol>
    </li>
    <li><a href="#‰∫ßÂìÅ">‰∫ßÂìÅ</a>
      <ol>
        <li><a href="#ÂèëÂ∏É">ÂèëÂ∏É</a>
          <ol>
            <li><a href="#ÂèëÂ∏ÉÊó∂Èó¥">ÂèëÂ∏ÉÊó∂Èó¥</a></li>
            <li><a href="#ÁõÆÂΩïÂèØËßÅ">ÁõÆÂΩïÂèØËßÅ</a></li>
          </ol>
        </li>
        <li><a href="#‰∫ßÂìÅÊï∞ÊçÆ">‰∫ßÂìÅÊï∞ÊçÆ</a>
          <ol>
            <li><a href="#‰∫ßÂìÅÁ±ªÂûã">‰∫ßÂìÅÁ±ªÂûã</a></li>
          </ol>
        </li>
        <li><a href="#Â∫ìÂ≠ò">Â∫ìÂ≠ò</a></li>
        <li><a href="#ÂÖ®Â±ÄÂèòÈáèproduct">ÂÖ®Â±ÄÂèòÈáè$product</a></li>
        <li><a href="#‰∫ßÂìÅÁõ∏ÂÖ≥Êï∞ÊçÆÊü•ËØ¢">‰∫ßÂìÅÁõ∏ÂÖ≥Êï∞ÊçÆÊü•ËØ¢</a>
          <ol>
            <li><a href="#‰∫ßÂìÅid">‰∫ßÂìÅID</a></li>
            <li><a href="#‰∫ßÂìÅÂõæÁâáÊü•ËØ¢">‰∫ßÂìÅÂõæÁâáÊü•ËØ¢</a></li>
            <li><a href="#‰∫ßÂìÅÁõ∏ÂÜå">‰∫ßÂìÅÁõ∏ÂÜå</a></li>
            <li><a href="#‰∫ßÂìÅÂÖ∂‰ªñ‰ø°ÊÅØ">‰∫ßÂìÅÂÖ∂‰ªñ‰ø°ÊÅØ</a></li>
          </ol>
        </li>
        <li><a href="#‰∫ßÂìÅËá™ÂÆö‰πâÊü•ËØ¢Á§∫‰æã">‰∫ßÂìÅËá™ÂÆö‰πâÊü•ËØ¢Á§∫‰æã</a></li>
        <li><a href="#‰∫ßÂìÅÂèØËßÅÊÄßproduct_visibility">‰∫ßÂìÅÂèØËßÅÊÄß(product_visibility)</a></li>
        <li><a href="#‰∫ßÂìÅÂèØËßÅÊÄßÈ°µÈù¢ËÆæÁΩÆ‰∏≠ÂØπÂ∫îÁöÑÂÄº">‰∫ßÂìÅÂèØËßÅÊÄßÈ°µÈù¢ËÆæÁΩÆ‰∏≠ÂØπÂ∫îÁöÑÂÄº</a></li>
        <li><a href="#‰∫ßÂìÅÂèØËßÅÊÄßÊü•ËØ¢Á§∫‰æã">‰∫ßÂìÅÂèØËßÅÊÄßÊü•ËØ¢Á§∫‰æã</a></li>
      </ol>
    </li>
    <li><a href="#Ê®°ÊùøÂ±ÇÁ∫ß">Ê®°ÊùøÂ±ÇÁ∫ß</a>
      <ol>
        <li><a href="#ÂºÄÂêØ‰∏ªÈ¢òÂØπwoocommerceÊîØÊåÅ">ÂºÄÂêØ‰∏ªÈ¢òÂØπwoocommerceÊîØÊåÅ</a></li>
        <li><a href="#‰∫ßÂìÅËØ¶ÊÉÖÈ°µÊ®°ÊùøÂ±ÇÁ∫ß">‰∫ßÂìÅËØ¶ÊÉÖÈ°µÊ®°ÊùøÂ±ÇÁ∫ß</a></li>
        <li><a href="#‰∫ßÂìÅÂàÜÁ±ªÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß">‰∫ßÂìÅÂàÜÁ±ªÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß</a></li>
        <li><a href="#‰∫ßÂìÅÊ†áÁ≠æÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß">‰∫ßÂìÅÊ†áÁ≠æÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß</a></li>
        <li><a href="#ÂÖ®Â±ÄÂ±ûÊÄßÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß">ÂÖ®Â±ÄÂ±ûÊÄßÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß</a></li>
        <li><a href="#wccÂàõÂª∫ÁöÑÈ°µÈù¢Ê®°ÊùøÂ±ÇÁ∫ß">WCCÂàõÂª∫ÁöÑÈ°µÈù¢Ê®°ÊùøÂ±ÇÁ∫ß</a>
          <ol>
            <li><a href="#Â∫óÈì∫È°µÈù¢">Â∫óÈì∫È°µÈù¢</a></li>
            <li><a href="#ÊàëÁöÑË¥¶Êà∑È°µ">ÊàëÁöÑË¥¶Êà∑È°µ</a></li>
            <li><a href="#ÁªìÁÆóÈ°µ">ÁªìÁÆóÈ°µ</a></li>
            <li><a href="#Ë¥≠Áâ©ËΩ¶È°µ">Ë¥≠Áâ©ËΩ¶È°µ</a></li>
            <li><a href="#Áî®Êà∑ÂçèËÆÆÈ°µ">Áî®Êà∑ÂçèËÆÆÈ°µ</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#wccÊù°‰ª∂Ê†áÁ≠æ">WCCÊù°‰ª∂Ê†áÁ≠æ</a>
      <ol>
        <li><a href="#ÊòØÂê¶woocommerceÈ°µÈù¢">ÊòØÂê¶woocommerceÈ°µÈù¢</a></li>
        <li><a href="#ÊòØÂê¶Â∫óÈì∫È°µ">ÊòØÂê¶Â∫óÈì∫È°µ</a></li>
        <li><a href="#ÊòØÂê¶‰∫ßÂìÅÂàÜÁ±ªÈ°µ">ÊòØÂê¶‰∫ßÂìÅÂàÜÁ±ªÈ°µ</a></li>
        <li><a href="#ÊòØÂê¶‰∫ßÂìÅÊ†áÁ≠æÈ°µ">ÊòØÂê¶‰∫ßÂìÅÊ†áÁ≠æÈ°µ</a></li>
        <li><a href="#ÊòØÂê¶‰∫ßÂìÅËØ¶ÊÉÖÈ°µ">ÊòØÂê¶‰∫ßÂìÅËØ¶ÊÉÖÈ°µ</a></li>
        <li><a href="#ÊòØÂê¶Ë¥≠Áâ©ËΩ¶È°µ">ÊòØÂê¶Ë¥≠Áâ©ËΩ¶È°µ</a></li>
        <li><a href="#ÊòØÂê¶ÊòØÁªìÁÆóÈ°µ">ÊòØÂê¶ÊòØÁªìÁÆóÈ°µ</a></li>
        <li><a href="#ÊòØÂê¶ÊòØË¥¶Êà∑È°µ">ÊòØÂê¶ÊòØË¥¶Êà∑È°µ</a></li>
        <li><a href="#ÊòØÂê¶‰∫ßÂìÅÁõ∏ÂÖ≥ÁöÑÂàÜÁ±ªÊñπÂºèÂΩíÊ°£È°µ">ÊòØÂê¶‰∫ßÂìÅÁõ∏ÂÖ≥ÁöÑÂàÜÁ±ªÊñπÂºèÂΩíÊ°£È°µ</a></li>
        <li><a href="#Êõ¥Â§öÊù°‰ª∂Ê†áÁ≠æ">Êõ¥Â§öÊù°‰ª∂Ê†áÁ≠æ</a></li>
      </ol>
    </li>
    <li><a href="#wccÁü≠‰ª£Á†Å">WCCÁü≠‰ª£Á†Å</a>
      <ol>
        <li><a href="#Áü≠‰ª£Á†ÅÁöÑÊâßË°å">Áü≠‰ª£Á†ÅÁöÑÊâßË°å</a></li>
        <li><a href="#Ë¥≠Áâ©ËΩ¶È°µÈù¢Áü≠‰ª£Á†Å">Ë¥≠Áâ©ËΩ¶È°µÈù¢Áü≠‰ª£Á†Å</a></li>
        <li><a href="#ÁªìÁÆóÈ°µÈù¢Áü≠‰ª£Á†Å">ÁªìÁÆóÈ°µÈù¢Áü≠‰ª£Á†Å</a></li>
        <li><a href="#Ë¥¶Êà∑È°µÈù¢Áü≠‰ª£Á†Å">Ë¥¶Êà∑È°µÈù¢Áü≠‰ª£Á†Å</a>
          <ol>
            <li></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#wcc‰∏ªÈ¢òÂºÄÂèë">WCC‰∏ªÈ¢òÂºÄÂèë</a>
      <ol>
        <li><a href="#Ê†∑ÂºèÂíåËÑöÊú¨">Ê†∑ÂºèÂíåËÑöÊú¨</a></li>
        <li><a href="#ÁßªÈô§wccËá™Â∏¶ÁöÑÊ†∑ÂºèÂíåËÑöÊú¨">ÁßªÈô§WCCËá™Â∏¶ÁöÑÊ†∑ÂºèÂíåËÑöÊú¨</a></li>
        <li><a href="#Â£∞ÊòéÊîØÊåÅwcc">Â£∞ÊòéÊîØÊåÅWCC</a></li>
        <li><a href="#Ëá™‰∏ªÂºè‰∏ªÈ¢òÂºÄÂèë">Ëá™‰∏ªÂºè‰∏ªÈ¢òÂºÄÂèë</a></li>
        <li><a href="#Ë¶ÜÁõñÂºè‰∏ªÈ¢òÂºÄÂèë">Ë¶ÜÁõñÂºè‰∏ªÈ¢òÂºÄÂèë</a></li>
        <li><a href="#ÈáçË¶ÅÂáΩÊï∞">ÈáçË¶ÅÂáΩÊï∞</a></li>
        <li><a href="#‰∏ªÈ¢òÂºÄÂèëË¶ÅÁÇπ‰∏≤ËÅî">‰∏ªÈ¢òÂºÄÂèëË¶ÅÁÇπ‰∏≤ËÅî</a>
          <ol>
            <li><a href="#Âà∂‰ΩúËØ¶ÊÉÖÈ°µÈ°∂ÈÉ®ÂØºËà™">Âà∂‰ΩúËØ¶ÊÉÖÈ°µÈ°∂ÈÉ®ÂØºËà™</a></li>
            <li><a href="#ÂïÜÂìÅÊêúÁ¥¢Ê°Ü">ÂïÜÂìÅÊêúÁ¥¢Ê°Ü</a></li>
            <li><a href="#Èù¢ÂåÖÂ±ëÂØºËà™">Èù¢ÂåÖÂ±ëÂØºËà™</a></li>
            <li><a href="#Ëé∑Âèñ‰∫ßÂìÅ‰ø°ÊÅØ">Ëé∑Âèñ‰∫ßÂìÅ‰ø°ÊÅØ</a></li>
          </ol>
        </li>
        <li><a href="#Âä†ÂÖ•Ë¥≠Áâ©ËΩ¶">Âä†ÂÖ•Ë¥≠Áâ©ËΩ¶</a>
          <ol>
            <li><a href="#wccÈªòËÆ§ÊñπÂºè">wccÈªòËÆ§ÊñπÂºè</a></li>
            <li><a href="#Ëá™ÂÆö‰πâajaxÊñπÂºè">Ëá™ÂÆö‰πâajaxÊñπÂºè</a></li>
            <li><a href="#Ëé∑ÂèñË¥≠Áâ©ËΩ¶‰∏≠ÁöÑ‰∫ßÂìÅÊï∞Èáè">Ëé∑ÂèñË¥≠Áâ©ËΩ¶‰∏≠ÁöÑ‰∫ßÂìÅÊï∞Èáè</a></li>
            <li><a href="#ËÆ°ÁÆóÂïÜÂìÅÊÄª‰ª∑Ê†º">ËÆ°ÁÆóÂïÜÂìÅÊÄª‰ª∑Ê†º</a></li>
          </ol>
        </li>
        <li><a href="#ÂàóË°®ÂàÜÈ°µ">ÂàóË°®ÂàÜÈ°µ</a></li>
        <li><a href="#‰∫ßÂìÅÊéíÂ∫è">‰∫ßÂìÅÊéíÂ∫è</a></li>
        <li><a href="#Ëé∑ÂèñÊåáÂÆö‰∫ßÂìÅÂàÜÁ±ªÊï∞ÊçÆ">Ëé∑ÂèñÊåáÂÆö‰∫ßÂìÅÂàÜÁ±ªÊï∞ÊçÆ</a></li>
      </ol>
    </li>
    <li><a href="#wccÊîØ‰ªòÁΩëÂÖ≥">WCCÊîØ‰ªòÁΩëÂÖ≥</a>
      <ol>
        <li><a href="#woocommerce‰∏ãÂçïÊµÅÁ®ãÂÖ≥ÈîÆ‰ª£Á†Å">woocommerce‰∏ãÂçïÊµÅÁ®ãÂÖ≥ÈîÆ‰ª£Á†Å</a></li>
        <li><a href="#Âà§Êñ≠woocommerceÊòØÂê¶ÂêØÁî®">Âà§Êñ≠woocommerceÊòØÂê¶ÂêØÁî®</a></li>
        <li><a href="#ÂëäËØâwoocommerceÊñ∞Â¢ûÁöÑÁΩëÂÖ≥">ÂëäËØâwoocommerceÊñ∞Â¢ûÁöÑÁΩëÂÖ≥</a></li>
        <li><a href="#ÂøÖÈ°ªË∞ÉÁî®ÁöÑÊñπÊ≥ï">ÂøÖÈ°ªË∞ÉÁî®ÁöÑÊñπÊ≥ï</a></li>
        <li><a href="#‰øùÂ≠òÂêéÂè∞ËÆæÁΩÆÁöÑÊï∞ÊçÆ">‰øùÂ≠òÂêéÂè∞ËÆæÁΩÆÁöÑÊï∞ÊçÆ</a></li>
        <li><a href="#ÂºÇÊ≠•ÂõûË∞É">ÂºÇÊ≠•ÂõûË∞É</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/wordpress/" style="background-color: #2a9d8f; color: #fff;">
                Wordpress
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/woocommerce%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91/">Woocommerce‰∏ªÈ¢òÂºÄÂèë</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2024-03-24 16:35</time>
            </div>
        

        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="Âç∏ËΩΩ">Âç∏ËΩΩ
</h2><h3 id="ÊòØÂê¶‰øùÁïôÊï∞ÊçÆ">ÊòØÂê¶‰øùÁïôÊï∞ÊçÆ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">//ÂëäËØâWCCÔºåÂà†Èô§Êèí‰ª∂ÁöÑÊó∂ÂÄôÔºåÊòØÂê¶‰øùÁïôÊï∞ÊçÆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">define</span><span class="p">(</span><span class="s1">&#39;WC_REMOVE_ALL_DATA&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ËßíËâ≤">ËßíËâ≤
</h2><p>ÂÆâË£Öwoocommerce‰πãÂêé‰ºöËá™Âä®ÂàõÂª∫‰∏§‰∏™ËßíËâ≤</p>
<p>1„ÄÅÂ∫óÈì∫ÁÆ°ÁêÜÂëòÔºàShop managerÔºâ</p>
<p>2„ÄÅÈ°æÂÆ¢ÔºàCustomerÔºâ</p>
<h2 id="Âõ∫ÂÆöÈìæÊé•">Âõ∫ÂÆöÈìæÊé•
</h2><blockquote>
<p>ÂêéÂè∞-&gt;ËÆæÁΩÆ-&gt;Âõ∫ÂÆöÈìæÊé•</p></blockquote>
<h3 id="‰∫ßÂìÅÂõ∫ÂÆöÈìæÊé•">‰∫ßÂìÅÂõ∫ÂÆöÈìæÊé•
</h3><ul>
<li>ÈªòËÆ§</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">http</span><span class="o">://</span><span class="nx">wordpress</span><span class="o">.</span><span class="nx">localhost</span><span class="o">/</span><span class="nx">product</span><span class="o">/</span><span class="nx">sample</span><span class="o">-</span><span class="nx">product</span><span class="o">/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÂïÜÂ∫óÂü∫Á°ÄÈìæÊé•</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">http</span><span class="o">://</span><span class="nx">wordpress</span><span class="o">.</span><span class="nx">localhost</span><span class="o">/</span><span class="nx">shop</span><span class="o">/</span><span class="nx">sample</span><span class="o">-</span><span class="nx">product</span><span class="o">/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Ê∑ªÂä†ÁΩëÂ∫óÂíåÂàÜÁ±ªÁõÆÂΩïÂú∞ÂùÄ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">http</span><span class="o">://</span><span class="nx">wordpress</span><span class="o">.</span><span class="nx">localhost</span><span class="o">/</span><span class="nx">shop</span><span class="o">/</span><span class="nx">product</span><span class="o">-</span><span class="nx">category</span><span class="o">/</span><span class="nx">sample</span><span class="o">-</span><span class="nx">product</span><span class="o">/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Ëá™ÂÆö‰πâÂü∫Á°ÄÈìæÊé•</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">//ËæìÂÖ•‰∏™Ëá™ÂÆö‰πâbaseÔºåÂÆÉÂøÖÈ°ªË¢´ËÆæÁΩÆÔºåÂê¶Âàô WordPress ‰ºö‰ΩøÁî®ÈªòËÆ§ÂÄºÊõø‰ª£.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="o">/</span><span class="nx">product</span><span class="o">/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="‰∫ßÂìÅÂ∏∏ËßÑËÆæÁΩÆ">‰∫ßÂìÅÂ∏∏ËßÑËÆæÁΩÆ
</h2><h3 id="ËØÑËÆ∫ËÆæÁΩÆ">ËØÑËÆ∫ËÆæÁΩÆ
</h3><ul>
<li>
<p>ÂêØÁî®‰∫ßÂìÅËØÑ‰ª∑</p>
</li>
<li>
<p>Áî®Êà∑ËØÑËÆ∫Êó∂ÊòæÁ§∫‚ÄùÂ∑≤È™åËØÅÁöÑÊâÄÊúâËÄÖ‚ÄúÊ†áÁ≠æÔºàÁî®Êù•Ê†áËØÜÁî®Êà∑ÊòØÂê¶‰∏∫Â∑≤Ë¥≠‰π∞ÁöÑÁî®Êà∑Ôºâ</p>
</li>
<li>
<p>‰ªÖ‚ÄùÂ∑≤È™åËØÅÁöÑÁî®Êà∑‚ÄúÂèØÂèÇ‰∏éËØÑ‰ª∑ÔºàÂ∑≤Ë¥≠‰π∞ÁöÑÁî®Êà∑ÊâçÂèØ‰ª•ËØÑ‰ª∑Ôºâ</p>
</li>
</ul>
<h3 id="Â∫ìÂ≠òËÆæÁΩÆ">Â∫ìÂ≠òËÆæÁΩÆ
</h3><ul>
<li>‰øùÁïôÂ∫ìÂ≠òÔºà‰øùÁïôÂ∫ìÂ≠òÔºà‰∏∫Êú™ÊîØ‰ªòËÆ¢ÂçïÔºâx ÂàÜÈíü„ÄÇÂΩìËææÂà∞ÈôêÂà∂Êó∂Èó¥Êó∂ÔºåÂæÖ‰ªòÊ¨æÁöÑËÆ¢ÂçïÂ∞Ü‰ºöË¢´ÂèñÊ∂à„ÄÇÁïôÁ©∫Âàô‰∏ÄÁõ¥‰øùÁïôÔºå‰∏ç‰ºöËá™Âä®ÂèñÊ∂àËÆ¢Âçï„ÄÇÔºâ</li>
<li>Â∫ìÂ≠ò‰∏çË∂≥ÁöÑÊúÄ‰ΩéÂÄºÔºàÂΩìÂ∫ìÂ≠òÊï∞ÈáèËææÂà∞Ëøô‰∏™Êï∞ÈáèÊó∂Ôºå‰ºöÂèëÈÄÅÈÄöÁü•Ôºâ</li>
<li>ÂîÆÁΩÑÁöÑÊúÄ‰ΩéÂÄºÔºàÂΩìÂ∫ìÂ≠òËææÂà∞ËøôÈáåÊï∞ÈáèÊó∂ÔºåÂ∫ìÂ≠òÁä∂ÊÄÅÂ∞Ü‰ºöÊîπÁºñ‰∏∫‚ÄùÂîÆÁΩÑ‚ÄúÔºåÂπ∂ÂèëÈÄÅÈÄöÁü•Ôºâ</li>
</ul>
<h3 id="ÂèØ‰∏ãËΩΩËÆæÁΩÆ">ÂèØ‰∏ãËΩΩËÆæÁΩÆ
</h3><ul>
<li>Êñá‰ª∂‰∏ãËΩΩÊñπÊ≥ï
<ul>
<li>Âº∫Âà∂‰∏ãËΩΩ</li>
<li>X-Accel-Redirect/X-SendfileÔºàÈúÄË¶ÅÊúçÂä°Âô®ÈÖçÁΩÆÔºâ</li>
<li>‰ªÖÈáçÂÆöÂêëÔºàÂú®ÂèëÂ∏É‰∫ßÂìÅÊó∂ÔºåÂèØ‰ª•ËÆæÁΩÆÂØπÂ∫îÊñá‰ª∂ÁöÑurlÔºâ</li>
</ul>
</li>
<li>ËÆøÈóÆÈôêÂà∂
<ul>
<li>‰∏ãËΩΩÂøÖÈ°ªÁôªÂΩï</li>
<li>ÊîØ‰ªòÂêéÊéàÊùÉËÆøÈóÆÂèØ‰∏ãËΩΩ‰∫ßÂìÅÔºàÂêØÁî®Ê≠§ÈÄâÈ°πÊó∂ÂΩì‰∏ãËΩΩËÆ¢ÂçïÁä∂ÊÄÅ‰∏∫‚ÄúÊ≠£Âú®Â§ÑÁêÜ‚ÄùÔºåËÄåÈùû‚ÄúÂ∑≤ÂÆåÊàê‚ÄùÔºåÊéàÊùÉËÆøÈóÆ‰∏ãËΩΩËµÑÊ∫ê„ÄÇÂê¶ÂàôÔºåËÆ¢ÂçïÁä∂ÊÄÅ‰∏∫‚ÄùÂ∑≤ÂÆåÊàê‚ÄúÊâçËÉΩ‰∏ãËΩΩÔºâ</li>
</ul>
</li>
</ul>
<h2 id="ÈÖçÈÄÅËÆæÁΩÆ">ÈÖçÈÄÅËÆæÁΩÆ
</h2><h3 id="ÈÖçÈÄÅÊñπÂºè">ÈÖçÈÄÅÊñπÂºè
</h3><h4 id="ÂÖçË¥πÈÖçÈÄÅ">ÂÖçË¥πÈÖçÈÄÅ
</h4><ul>
<li>N/A ÔºàÊó†ÈôêÂà∂Ôºâ</li>
<li>ÂÖçË¥πÈÄÅË¥ßÈúÄË¶ÅÂÖçË¥πÈÄÅË¥ßÂà∏</li>
<li>ÊúÄÂ∞èËÆ¢ÂçïÈáëÈ¢ù</li>
<li>ÊúÄÂ∞èËÆ¢ÂçïÈáëÈ¢ùÊàñ‰ºòÊÉ†Âà∏</li>
<li>ÊúÄÂ∞èËÆ¢ÂçïÈáëÈ¢ùÂíå‰ºòÊÉ†Âà∏</li>
</ul>
<h4 id="Ê†áÂáÜËøêË¥πÁªü‰∏ÄË¥πÁéá">Ê†áÂáÜËøêË¥πÔºàÁªü‰∏ÄË¥πÁéáÔºâ
</h4><ul>
<li>
<p>Á®éÁä∂ÊÄÅ</p>
<ul>
<li>Â∫îÁ∫≥Á®é</li>
<li>Êó†</li>
</ul>
</li>
<li>
<p>ÊàêÊú¨</p>
<ul>
<li>ËÆæÁΩÆÂõ∫ÂÆöÂÄº</li>
<li>ËÆæÁΩÆË°®ËææÂºè</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//[qty]Ë°®Á§∫ÂïÜÂìÅÊï∞Èáè
</span></span><span class="line"><span class="cl">//[cost]Ë°®Á§∫ÂïÜÂìÅÊÄªÈ¢ù
</span></span><span class="line"><span class="cl">//[fee percent=&#34;10&#34; min_fee=&#34;20&#34; max_fee=&#34;&#34;]
</span></span><span class="line"><span class="cl">//ËøêË¥πÊØè‰ª∂ÂïÜÂìÅ10ÂÖÉ
</span></span><span class="line"><span class="cl">10*[qty]
</span></span><span class="line"><span class="cl">//ËøêË¥π‰∏∫ÂïÜÂìÅÊÄªÈ¢ùÁöÑ10%
</span></span><span class="line"><span class="cl">[cost]*0.1
</span></span><span class="line"><span class="cl">[fee percent=&#34;10&#34;]
</span></span><span class="line"><span class="cl">//ËøêË¥π‰∏∫ÂïÜÂìÅÊÄªÈ¢ùÁöÑ10%ÔºåÊúÄ‰ΩéÊî∂5ÂÖÉÔºåÊúÄÈ´ò30ÂÖÉ
</span></span><span class="line"><span class="cl">[fee percent=&#34;10&#34; min_fee=&#34;5&#34; max_fee=&#34;30&#34;]
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="Êú¨Âú∞Ëá™Êèê">Êú¨Âú∞Ëá™Êèê
</h3><ul>
<li>Á®éÁä∂ÊÄÅ
<ul>
<li>Â∫îÁ∫≥Á®é</li>
<li>Êó†</li>
</ul>
</li>
<li>ÊàêÊú¨ÔºàÂè™ËÉΩËÆæÁΩÆÂõ∫ÂÆöÂÄºÔºâ</li>
</ul>
<h3 id="ÈÄöËøá‰ª£Á†ÅËÆæÁΩÆ">ÈÄöËøá‰ª£Á†ÅËÆæÁΩÆ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">//Â¶ÇÊûúÈÖçÈÄÅÁ¨¶ÂêàÂÖçË¥πÔºåÂàô‰ªÖ‰ªÖÂ±ïÁ§∫ÂÖçË¥π
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">add_filter</span><span class="p">(</span><span class="s1">&#39;woocommerce_package_rates&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$rates</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$free</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">    <span class="k">foreach</span><span class="p">(</span><span class="nv">$rates</span> <span class="k">as</span> <span class="nv">$rate_id</span> <span class="o">=&gt;</span> <span class="nv">$rate</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;free_shipping&#39;</span> <span class="o">===</span> <span class="nv">$rate</span><span class="o">-&gt;</span><span class="na">method_id</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$free</span><span class="p">[</span><span class="nv">$rate_id</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$rate</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$free</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$free</span> <span class="o">:</span> <span class="nv">$rates</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÈÖçÈÄÅÁ±ªÂûã">ÈÖçÈÄÅÁ±ªÂûã
</h3><blockquote>
<p>‚ÄùÈÖçÈÄÅÁ±ªÂûã‚ÄúÈíàÂØπÂçï‰∏™‰∫ßÂìÅËÆæÁΩÆÁöÑÔºåÂèØ‰ª•Áúã‰ΩúÊòØ‚ÄùÈÖçÈÄÅÊñπÂºè-&gt;Áªü‰∏ÄË¥πÁéáÔºàÊ†áÂáÜËøêË¥πÔºâ‚Äú‰∏≠Êõ¥ÁªÜÁ≤íÂ∫¶ÁöÑËÆæÁΩÆ</p></blockquote>
<ul>
<li>‰∫ßÂìÅÁºñËæëÈ°µÈù¢ÂèØ‰ª•ÂçïÁã¨ËÆæÁΩÆËøêË¥πÁ±ªÂà´</li>
</ul>
<img src="C:\Users\H\AppData\Roaming\Typora\typora-user-images\image-20240604172601948.png" alt="image-20240604172601948" style="zoom:50%;" />
<ul>
<li>Â¶ÇÊûúËÆæÁΩÆ‰∫Ü‚ÄùÈÖçÈÄÅÁ±ªÂûã‚ÄúÔºåÂú®Áªü‰∏ÄË¥πÁéáÁöÑÁºñËæëÁïåÈù¢ÂèØ‰ª•ËÆæÁΩÆ‚ÄùÈÖçÈÄÅÁ±ªÂûã‚ÄúÁöÑË¥πÁî®„ÄÇ
<ul>
<li>ÈÖçÈÄÅÁ±ªÂûãÁöÑË¥πÁî®‰πüÂèØ‰ª•ÈááÁî®ÂâçÈù¢ÊàêÊú¨‰∏≠ÁöÑÂÖ¨Âºè[qty]„ÄÅ[cost]Á≠â</li>
<li>Â¶ÇÊûúËÆæÁΩÆ‰∫ÜÊàêÊú¨ÂíåÈÖçÈÄÅÁ±ªÂûãÁöÑË¥πÁî®ÔºåÂÆûÈôÖÁöÑËøêË¥πÊòØ‰∏§ËÄÖÁöÑËÆ°ÁÆóÁªìÊûú‰πãÂíå</li>
</ul>
</li>
</ul>
<img src="C:\Users\H\AppData\Roaming\Typora\typora-user-images\image-20240604174707331.png" alt="image-20240604174707331" style="zoom:50%;" />
<ul>
<li>ËÆ°ÁÆóÊñπÂºè
<ul>
<li>ÊØè‰∏™ÈÖçÈÄÅÁ±ªÂûãÔºöÊØè‰∏™ÈÖçÈÄÅÁ±ªÂûãÂçïÁã¨Êî∂Ë¥π</li>
<li>ÊØè‰∏™ËÆ¢ÂçïÔºöÊåâÊúÄË¥µÁöÑÈÖçÈÄÅÁ±ªÂûãËøõË°åÊî∂Ë¥π</li>
</ul>
</li>
</ul>
<h2 id="ÁªìÁÆóËÆæÁΩÆ">ÁªìÁÆóËÆæÁΩÆ
</h2><h3 id="‰ºòÊÉ†Âà∏‰ΩøÁî®">‰ºòÊÉ†Âà∏‰ΩøÁî®
</h3><ul>
<li>ÂêØÁî®‰ºòÊÉ†‰ª£Á†ÅÁöÑ‰ΩøÁî®</li>
</ul>
<p>ÊòØÂê¶ÂêØÁî®‰ºòÊÉ†Âà∏ÂäüËÉΩ</p>
<ul>
<li>È°∫Â∫èËÆ°ÁÆó‰ºòÊÉ†Âà∏ÊäòÊâ£</li>
</ul>
<p>ÂΩìÂ∫îÁî®Â§ö‰∏™‰ºòÊÉ†Âà∏ÔºåÂ∫îÁî®Á¨¨‰∏Ä‰∏™‰ºòÊÉ†Âà∏ÁöÑÂÖ®‰ª∑ÂíåÁ¨¨‰∫å‰ºòÂæÖÂà∏ÁöÑÊäòÊâ£‰ª∑Ê†ºÁ≠â„ÄÇ</p>
<p>Âç≥ÔºöÊåâÈ°∫Â∫èÔºåÂÖàÊ†πÊçÆÂâçÈù¢ÁöÑ‰ºòÊÉ†Âà∏ËÆ°ÁÆóÂá∫Â∫î‰ªò‰ª∑Ê†ºÔºåÂÜçÁªìÂêàÂêéÈù¢ÁöÑ‰ºòÊÉ†Âà∏ËÆ°ÁÆóÊäòÊâ£„ÄÇ</p>
<h2 id="apiËÆæÁΩÆ">APIËÆæÁΩÆ
</h2><h3 id="rest-api">Rest API
</h3><blockquote>
<p>Êü•ÁúãÊâÄÊúâÁöÑË∑ØÁî±Ôºöhttp://wordpress.localhost/wp-json/wc/v2</p></blockquote>
<img src="C:\Users\H\AppData\Roaming\Typora\typora-user-images\image-20240606142007638.png" alt="image-20240606142007638" style="zoom:50%;" />
<ul>
<li>ÁîüÊàêApi Key</li>
<li>OAuth 1.0 ÔºàhttpÔºâ</li>
<li>Basic Auth ÔºàhttpsÔºâ</li>
</ul>
<h3 id="webhook">Webhook
</h3><blockquote>
<p>ÁâπÂÆöÁöÑÊó∂ÂÄôË¶ÅÊ±ÇwccÂêëÊåáÂÆöÁöÑÈ°µÈù¢ÂèëÈÄÅpostËØ∑Ê±Ç„ÄÇwebbookÊòØ‰∏ÄÁßçÈÄöÁü•Êú∫Âà∂„ÄÇ</p></blockquote>
<h2 id="‰ºòÊÉ†Âà∏">‰ºòÊÉ†Âà∏
</h2><h3 id="Â∏∏ËßÑ">Â∏∏ËßÑ
</h3><ul>
<li>
<p>ÊäòÊâ£Á±ªÂûã</p>
<ul>
<li>ÁôæÂàÜÊØî‰ºòÊÉ†</li>
</ul>
<p>‰ºòÊÉ†Âà∏ÁöÑÈáëÈ¢ùÂ∞±ÊòØÊØî‰æãÔºåÂ¶ÇÔºö10 Ê†áËØÜ 10%ÁöÑ‰ºòÊÉ†</p>
<ul>
<li>Âõ∫ÂÆöÁöÑË¥≠Áâ©ËΩ¶‰ºòÊÉ†</li>
</ul>
<p>Êï¥‰∏™Ë¥≠Áâ©ËΩ¶Âõ∫ÂÆöÈáëÈ¢ùÁöÑ‰ºòÊÉ†„ÄÇÂ¶ÇÊûúË¥≠Áâ©ËΩ¶‰∏≠ÁöÑÂïÜÂìÅÊÄªÈáëÈ¢ùÂ∞è‰∫é‰ºòÊÉ†Âà∏ÈáëÈ¢ùÔºåÂàô‰ºòÊÉ†ÊÄªÈ¢ù‰∏∫ÂïÜÂìÅÊÄªÈáëÈ¢ù</p>
<ul>
<li>Âõ∫ÂÆöÁöÑ‰∫ßÂìÅ‰ºòÊÉ†</li>
</ul>
<p>Êåâ‰∫ßÂìÅÊï∞ÊçÆËÆ°ÁÆó‰ºòÊÉ†„ÄÇÂ¶Ç‰∫ßÂìÅÊï∞Èáè‰∏∫2Ôºå‰ºòÊÉ†Âà∏ÈáëÈ¢ù‰∏∫8ÔºåÂàô‰ºòÊÉ†ÈáëÈ¢ù‰∏∫2*8=16</p>
</li>
<li>
<p>‰ºòÊÉ†Âà∏ÈáëÈ¢ù</p>
</li>
<li>
<p>ÂÖÅËÆ∏ÂÖçËøêË¥π</p>
</li>
</ul>
<p>Ë¶ÅÈÖçÂêàÈÖçÈÄÅÊñπÂºè‰∏≠ÁöÑÂÖçË¥πÈÖçÈÄÅÁöÑËÆæÁΩÆ‰ΩøÁî®„ÄÇÂÖ∂‰∏≠ÂÖçË¥πÈÄÅË¥ßÈúÄË¶ÅÂÖçË¥πÈÄÅË¥ßÂà∏„ÄÅÊúÄÂ∞èËÆ¢ÂçïÈáëÈ¢ùÊàñ‰ºòÊÉ†Âà∏„ÄÅÊúÄÂ∞èËÆ¢ÂçïÈáëÈ¢ùÂíå‰ºòÊÉ†Âà∏Ëøô‰∏â‰∏™ËÆæÁΩÆÈÉΩÂèØ‰ª•</p>
<ul>
<li>‰ºòÊÉ†Âà∏ËøáÊúüÊó∂Èó¥</li>
</ul>
<p>Á≤æÁ°ÆÂà∞Â§©ÔºåËøáÊúüÊó∂Èó¥‰∏∫ËÆæÁΩÆÊó•ÊúüÁöÑ00:00:00</p>
<h3 id="‰ΩøÁî®ÈôêÂà∂">‰ΩøÁî®ÈôêÂà∂
</h3><ul>
<li>ÊúÄ‰ΩéËä±Ë¥πÈáëÈ¢ù</li>
<li>ÊúÄÈ´òËä±Ë¥πÈáëÈ¢ù</li>
<li>‰ªÖÈôêÂçïÁã¨‰ΩøÁî®</li>
</ul>
<p>Â¶ÇÊûú‰ºòÊÉ†Âà∏‰∏çËÉΩ‰∏éÂÖ∂‰ªñ‰ºòÊÉ†Âà∏‰∏ÄËµ∑‰ΩøÁî®ËØ∑ÂãæÈÄâÊ≠§Ê°Ü</p>
<ul>
<li>‰∏çÂê´‰øÉÈîÄ‰∫ßÂìÅ</li>
</ul>
<p>Â¶ÇÊûú‰ºòÊÉ†Âà∏‰∏çÈÄÇÁî®Áî®‰∫é‰øÉÈîÄ‰∫ßÂìÅÔºåËØ∑ÈÄâ‰∏≠ËØ•Â§çÈÄâÊ°Ü„ÄÇÂü∫‰∫éÁâ©ÂìÅÁöÑ‰ºòÊÉ†Âà∏‰ªÖÂú®ËØ•Áâ©ÂìÅÈùû‰øÉÈîÄÊó∂ÂèØÁî®„ÄÇÂü∫‰∫éË¥≠Áâ©ËΩ¶ÁöÑ‰ºòÊÉ†Âà∏‰ªÖÂú®Ë¥≠Áâ©ËΩ¶ÂÜÖÊó†‰øÉÈîÄ‰∫ßÂìÅÊó∂ÂèØÁî®</p>
<ul>
<li>‰∫ßÂìÅ</li>
<li>ÊéíÈô§‰∫ßÂìÅ</li>
</ul>
<p>ÊäòÊâ£Á±ªÂûãÊòØÂõ∫ÂÆöÁöÑË¥≠Áâ©ËΩ¶‰ºòÊÉ†Êó∂ÂÄôÔºåÂ¶ÇÊûúË¥≠Áâ©ËΩ¶‰∏≠ÂåÖÂê´‰∫ÜÊéíÈô§ÁöÑ‰∫ßÂìÅÔºåÊï¥‰∏™Ë¥≠Áâ©ËΩ¶ÈÉΩÊó†Ê≥ï‰ΩøÁî®ËØ•‰ºòÊÉ†Âà∏</p>
<ul>
<li>‰∫ßÂìÅÁ±ªÂà´</li>
<li>ÊéíÈô§Á±ªÂà´</li>
<li>Ëé∑ÂáÜÁöÑÁîµÂ≠êÈÇÆ‰ª∂</li>
</ul>
<h3 id="‰ΩøÁî®Ê¨°Êï∞">‰ΩøÁî®Ê¨°Êï∞
</h3><ul>
<li>ÊØè‰∏™‰ºòÊÉ†Âà∏ÁöÑ‰ΩøÁî®Ê¨°Êï∞ÈôêÂà∂</li>
<li>ÈôêÂà∂x‰∏™Áâ©ÂìÅ‰ΩøÁî® ÔºàÂè™Áî®‰∫éÊäòÊâ£Á±ªÂûãÔºöÁôæÂàÜÊØî‰ºòÊÉ†„ÄÅÂõ∫ÂÆöÁöÑ‰∫ßÂìÅ‰ºòÊÉ†Ôºâ</li>
</ul>
<p>Â¶ÇÊûúË¥≠Áâ©ËΩ¶‰∏≠ÊúâÂ§ö‰∏™ÂïÜÂìÅÔºå‰ºòÂÖàÁ∫ß‰∏∫ Êï∞Èáè &gt; ÈáëÈ¢ù</p>
<ul>
<li>ÊØè‰∏™Áî®Êà∑ÁöÑ‰ΩøÁî®Ê¨°Êï∞ÈôêÂà∂</li>
</ul>
<h2 id="ËÆ¢Âçï">ËÆ¢Âçï
</h2><h3 id="Áä∂ÊÄÅ-7Áßç">Áä∂ÊÄÅ (7Áßç)
</h3><ul>
<li>ÂæÖ‰ªòÊ¨æ ÔºàPending paymentÔºâ</li>
<li>Ê≠£Âú®Â§ÑÁêÜÔºàProcessingÔºâ</li>
<li>‰øùÁïôÔºàOn holdÔºâ</li>
<li>Â∑≤ÂÆåÊàêÔºàCompletedÔºâ</li>
<li>Â∑≤ÂèñÊ∂àÔºàCancelledÔºâ</li>
<li>Â∑≤ÈÄÄÊ¨æÔºàRefundedÔºâ</li>
<li>Â§±Ë¥•ËÆ¢ÂçïÔºàFailedÔºâ</li>
</ul>
<h3 id="Âä®‰Ωú">Âä®‰Ωú
</h3><ul>
<li>ÂèëÁªôÂÆ¢Êà∑ÁöÑÈÇÆ‰ª∂Êî∂ÊçÆ/ËÆ¢ÂçïËØ¶ÊÉÖ</li>
<li>ÈáçÊñ∞ÂèëÈÄÅÊñ∞ËÆ¢ÂçïÈÄöÁü• ÔºàÂèëÈÄÅÁªôÁÆ°ÁêÜÂëòÔºâ</li>
<li>ÈáçÊñ∞ÁîüÊàê‰∏ãËΩΩÊùÉÈôê Ôºà‰∏ãËΩΩÂâ©‰ΩôÊ¨°Êï∞‰ºöË¢´ÈáçÁΩÆÔºâ</li>
</ul>
<h2 id="‰∫ßÂìÅ">‰∫ßÂìÅ
</h2><h3 id="ÂèëÂ∏É">ÂèëÂ∏É
</h3><h4 id="ÂèëÂ∏ÉÊó∂Èó¥">ÂèëÂ∏ÉÊó∂Èó¥
</h4><p>ÂèØÁî®‰∫éÂÆûÁé∞ÂÆöÊó∂ÂèëÂ∏ÉÁöÑÂäüËÉΩÔºå‰ªÖÂΩìÂΩìÂâçÊó∂Èó¥Â§ß‰∫éÂèëÂ∏ÉÊó∂Èó¥Ôºå‰∫ßÂìÅÊâçÊòæÁ§∫</p>
<h4 id="ÁõÆÂΩïÂèØËßÅ">ÁõÆÂΩïÂèØËßÅ
</h4><ul>
<li>ÂïÜÂ∫óÈ°µÂíåÊêúÁ¥¢ÁªìÊûúÈ°µ</li>
<li>‰ªÖÂïÜÂ∫óÈ°µ</li>
<li>‰ªÖÊêúÁ¥¢ÁªìÊûúÈ°µ</li>
<li>ÈöêËóè</li>
</ul>
<h3 id="‰∫ßÂìÅÊï∞ÊçÆ">‰∫ßÂìÅÊï∞ÊçÆ
</h3><h4 id="‰∫ßÂìÅÁ±ªÂûã">‰∫ßÂìÅÁ±ªÂûã
</h4><ul>
<li>Âçï‰∏™‰∫ßÂìÅ
<ul>
<li>ÂÆûÁâ©‰∫ßÂìÅ
<ul>
<li>ÂèØ‰∏ãËΩΩ</li>
</ul>
</li>
<li>ËôöÊãü‰∫ßÂìÅ
<ul>
<li>ÂèØ‰∏ãËΩΩ</li>
</ul>
</li>
</ul>
</li>
<li>ÊàêÁªÑ‰∫ßÂìÅ ÔºàÂåÖÂê´Â§ö‰∏™‰∫ßÂìÅÔºåÁ±ª‰ººÂ•óÈ§êÔºâ</li>
<li>Â§ñÊé•/ÂÖ≥ËÅî‰∫ßÂìÅ</li>
<li>ÂèØÂèò‰∫ßÂìÅ Ôºà‰∫ßÂìÅÁöÑÂ§ö‰∏™Â±ûÊÄßÂèØÈÄâÔºåÂèØ‰ª•ÈÄâÊã©‰∏çÂêåÁªÑÂêà„ÄÇÂ¶ÇÔºö‰∫ßÂìÅÂ∞∫ÂØ∏Ôºå‰∫ßÂìÅÈ¢úËâ≤Ôºå‰∏çÂêåÈ¢úËâ≤Âíå‰∏çÂêåÂ∞∫ÂØ∏ÁªÑÊàê‰∏çÂêåÁöÑÁªÑÂêà„ÄÇÔºâ
<ul>
<li>Â±ûÊÄß ÔºàÂèØ‰ª•Âãæ‰∏äÊòØÂê¶Áî®‰∫éÂèòÈáèÔºâ</li>
<li>ÂèòÈáè
<ul>
<li>Ëá™Âä®ÁîüÊàê ÔºàËá™Âä®Ê†πÊçÆÂãæÈÄâÁî®‰∫éÂèòÈáèÁöÑÂ±ûÊÄßÔºåÈÄöËøáÁªÑÂêàÊñπÂºèÁîüÊàê‰∏çÂêåÁöÑÂèòÈáèÔºåÂç≥ÔºöÂèØËÉΩ‰∫ßÂìÅÔºâ</li>
<li>ÊâãÂä®Ê∑ªÂä†</li>
</ul>
</li>
</ul>
</li>
</ul>
<img src="C:\Users\H\AppData\Roaming\Typora\typora-user-images\image-20240607135551148.png" alt="image-20240607135551148" style="zoom:50%;" />
<img src="C:\Users\H\AppData\Roaming\Typora\typora-user-images\image-20240607135606946.png" alt="image-20240607135606946" style="zoom:50%;" />
<h3 id="Â∫ìÂ≠ò">Â∫ìÂ≠ò
</h3><ul>
<li>SKU</li>
</ul>
<p>SKUÔºåÂç≥Â∫ìÂ≠òÂçï‰ΩçÔºåÊòØ‰∏ÄÁßçÂèØ‰ª•Â∏ÆÂä©Èõ∂ÂîÆÂïÜËØÜÂà´ÊúÄÂ∞èÂ∫ìÂ≠òÊåÅÊúâÈáèÁöÑ‰ª£Á†Å„ÄÇÊØè‰∏™ SKU ÈÉΩÊòØÁã¨‰∏ÄÊó†‰∫åÁöÑÔºå‰ª£Ë°®‰∫Ü‰∏Ä‰∏™ÁâπÂÆöÁöÑÂïÜÂìÅÔºåÂåÖÊã¨ÂÆÉÁöÑÂûãÂè∑„ÄÅÂ∞∫ÂØ∏„ÄÅÈ¢úËâ≤Á≠âÂ±ûÊÄß„ÄÇ</p>
<ul>
<li>ÂÖÅËÆ∏Áº∫Ë¥ßË∂ÖÂîÆÔºü
<ul>
<li>‰∏çÂÖÅËÆ∏</li>
<li>ÂÖÅËÆ∏</li>
<li>ÂÖÅËÆ∏Ôºå‰ΩÜÈÄöÁü•ÂÆ¢Êà∑  ÔºàÂÆ¢Êà∑Ë¥≠‰π∞ÂêéÔºå‰ºöÂú®ÈÇÆ‰ª∂ÈÄöÁü•‰∏≠ÊòæÁ§∫‚ÄùÂª∂Ëøü‰∫§Ë¥ß‚ÄúÔºâ</li>
</ul>
</li>
</ul>
<h3 id="ÂÖ®Â±ÄÂèòÈáèproduct">ÂÖ®Â±ÄÂèòÈáè$product
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">?</span><span class="n">php</span> <span class="k">if</span><span class="p">(</span><span class="n">have_posts</span><span class="p">()):</span> <span class="err">?</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="o">&lt;</span><span class="err">?</span><span class="n">php</span> <span class="k">while</span><span class="p">(</span><span class="n">have_post</span><span class="p">()):</span><span class="n">the_post</span><span class="p">();</span> <span class="err">?</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="o">&lt;</span><span class="err">?</span><span class="n">php</span> <span class="n">global</span> <span class="o">$</span><span class="n">product</span><span class="p">;</span> <span class="err">?</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">		    <span class="o">&lt;!--</span> <span class="n">simple</span><span class="err">ÔºöÂçï‰∏™‰∫ßÂìÅ</span> <span class="n">external</span><span class="err">ÔºöÂ§ñÊé•</span><span class="o">/</span><span class="err">ÂÖ≥ËÅî‰∫ßÂìÅ</span> <span class="n">grouped</span><span class="err">ÔºöÊàêÁªÑ‰∫ßÂìÅ</span> <span class="n">variable</span><span class="err">ÔºöÂèØÂèò‰∫ßÂìÅ</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="o">&lt;</span><span class="err">?</span><span class="n">php</span> <span class="n">echo</span> <span class="o">$</span><span class="n">product</span><span class="o">-&gt;</span><span class="n">get_type</span><span class="p">();</span> <span class="err">?</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="o">&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="o">&lt;</span><span class="err">?</span><span class="n">php</span> <span class="n">endwhile</span><span class="p">;</span> <span class="err">?</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">?</span><span class="n">php</span> <span class="n">endif</span><span class="p">;</span> <span class="err">?</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="‰∫ßÂìÅÁõ∏ÂÖ≥Êï∞ÊçÆÊü•ËØ¢">‰∫ßÂìÅÁõ∏ÂÖ≥Êï∞ÊçÆÊü•ËØ¢
</h3><h4 id="‰∫ßÂìÅid">‰∫ßÂìÅID
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;?php if(have_posts()): ?&gt;
</span></span><span class="line"><span class="cl">	&lt;?php while(have_post()):the_post(); ?&gt;
</span></span><span class="line"><span class="cl">		&lt;?php global $product, $post; ?&gt;
</span></span><span class="line"><span class="cl">		&lt;h2&gt;‰∫ßÂìÅID&lt;/h2&gt;
</span></span><span class="line"><span class="cl">        &lt;?php echo $product-&gt;get_id(); ?&gt;
</span></span><span class="line"><span class="cl">        &lt;?php echo get_the_ID(); ?&gt;
</span></span><span class="line"><span class="cl">        &lt;?php echo $post-&gt;ID; ?&gt;
</span></span><span class="line"><span class="cl">        &lt;?php echo get_queried_object_id(); ?&gt;
</span></span><span class="line"><span class="cl">	&lt;?php endwhile; ?&gt;
</span></span><span class="line"><span class="cl">&lt;?php endif; ?&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="‰∫ßÂìÅÂõæÁâáÊü•ËØ¢">‰∫ßÂìÅÂõæÁâáÊü•ËØ¢
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;!-- Êñ∞ÁâàwoocommerceÊ≤°Êúâ‰∫ßÂìÅÂõæÁâáËÆæÁΩÆÈ°µÈù¢,ÂèØ‰ª•ÈÄöËøá‰ª£Á†ÅËá™ÂÆöÂõæÁâáÂ∞∫ÂØ∏ --&gt;
</span></span><span class="line"><span class="cl">&lt;?php
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">add_image_size(&#39;shop_catalog&#39;, 300, 300, true);
</span></span><span class="line"><span class="cl">add_image_size(&#39;shop_single&#39;, 600, 600, true);
</span></span><span class="line"><span class="cl">add_image_size(&#39;shop_thumbnail&#39;, 180, 180, true);
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//Êñ∞ÁâàÊèê‰æõ‰∫ÜÊñ∞ÁöÑÊñπÊ≥ï
</span></span><span class="line"><span class="cl">//single„ÄÅgallery_thumbnail„ÄÅthumbnail
</span></span><span class="line"><span class="cl">wc_get_image_size(&#39;single&#39;);
</span></span><span class="line"><span class="cl">?&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;?php if(have_posts()): ?&gt;
</span></span><span class="line"><span class="cl">	&lt;?php while(have_post()):the_post(); ?&gt;
</span></span><span class="line"><span class="cl">		&lt;?php global $product; ?&gt;
</span></span><span class="line"><span class="cl">		&lt;h2&gt;‰∫ßÂìÅÂõæÁâá&lt;/h2&gt;
</span></span><span class="line"><span class="cl">        &lt;?php the_post_thumbnail(&#39;shop_catalog&#39;);//ÁõÆÂΩïÂõæÁâá ?&gt;
</span></span><span class="line"><span class="cl">        &lt;?php the_post_thumbnail(&#39;shop_single&#39;);//‰∫ßÂìÅËØ¶ÊÉÖÈ°µÁöÑ‰∫ßÂìÅÂõæÁâá ?&gt;
</span></span><span class="line"><span class="cl">        &lt;?php the_post_thumbnail(&#39;shop_thumbnail&#39;);//‰∫ßÂìÅÁº©Áï•Âõæ ?&gt;
</span></span><span class="line"><span class="cl">	&lt;?php endwhile; ?&gt;
</span></span><span class="line"><span class="cl">&lt;?php endif; ?&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="‰∫ßÂìÅÁõ∏ÂÜå">‰∫ßÂìÅÁõ∏ÂÜå
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;?php if(have_posts()): ?&gt;
</span></span><span class="line"><span class="cl">	&lt;?php while(have_post()):the_post(); ?&gt;
</span></span><span class="line"><span class="cl">		&lt;?php global $product; ?&gt;
</span></span><span class="line"><span class="cl">		&lt;h2&gt;‰∫ßÂìÅÁõ∏ÂÜå&lt;/h2&gt;
</span></span><span class="line"><span class="cl">        &lt;?php foreach($product-&gt;get_gallery_image_ids() as $aid): ?&gt;
</span></span><span class="line"><span class="cl">        &lt;?php echo wp_get_attachment_image($aid, &#39;shop_thumbnail&#39;); ?&gt;
</span></span><span class="line"><span class="cl">	&lt;?php endwhile; ?&gt;
</span></span><span class="line"><span class="cl">&lt;?php endif; ?&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="‰∫ßÂìÅÂÖ∂‰ªñ‰ø°ÊÅØ">‰∫ßÂìÅÂÖ∂‰ªñ‰ø°ÊÅØ
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;?php if(have_posts()): ?&gt;
</span></span><span class="line"><span class="cl">	&lt;?php while(have_post()):the_post(); ?&gt;
</span></span><span class="line"><span class="cl">		&lt;?php global $product; ?&gt;
</span></span><span class="line"><span class="cl">		&lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;h2&gt;‰∫ßÂìÅÊ†áÈ¢ò&lt;/h2&gt;
</span></span><span class="line"><span class="cl">            &lt;?php echo $post-&gt;post_title; ?&gt;
</span></span><span class="line"><span class="cl">            &lt;?php echo $product-&gt;get_name(); ?&gt;
</span></span><span class="line"><span class="cl">    	&lt;/div&gt;
</span></span><span class="line"><span class="cl">		&lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;h2&gt;‰∫ßÂìÅ‰ª∑Ê†º&lt;/h2&gt;
</span></span><span class="line"><span class="cl">            &lt;?php echo $post-&gt;get_price_html(); ?&gt;
</span></span><span class="line"><span class="cl">    	&lt;/div&gt;
</span></span><span class="line"><span class="cl">		&lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;h2&gt;‰∫ßÂìÅÁÆÄ‰ªã&lt;/h2&gt;
</span></span><span class="line"><span class="cl">            &lt;?php the_excerpt(); ?&gt;
</span></span><span class="line"><span class="cl">            &lt;?php echo $product-&gt;get_short_description(); ?&gt;
</span></span><span class="line"><span class="cl">    	&lt;/div&gt;
</span></span><span class="line"><span class="cl">		&lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;h2&gt;‰∫ßÂìÅË¥ßÂè∑&lt;/h2&gt;
</span></span><span class="line"><span class="cl">            &lt;?php echo $product-&gt;get_sku(); ?&gt;
</span></span><span class="line"><span class="cl">    	&lt;/div&gt;
</span></span><span class="line"><span class="cl">		&lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;h2&gt;‰∫ßÂìÅÊ≠£Êñá&lt;/h2&gt;
</span></span><span class="line"><span class="cl">            &lt;?php echo $product-&gt;get_description(); ?&gt;
</span></span><span class="line"><span class="cl">            &lt;?php the_content(); ?&gt;
</span></span><span class="line"><span class="cl">    	&lt;/div&gt;
</span></span><span class="line"><span class="cl">		&lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;h2&gt;‰∫ßÂìÅÂ±ûÊÄß&lt;/h2&gt;
</span></span><span class="line"><span class="cl">            &lt;?php echo wc_display_product_attributes($product); ?&gt;
</span></span><span class="line"><span class="cl">    	&lt;/div&gt;
</span></span><span class="line"><span class="cl">		&lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;h2&gt;‰∫ßÂìÅÊâÄÂ±ûÂàÜÁ±ª&lt;/h2&gt;
</span></span><span class="line"><span class="cl">            &lt;?php echo wc_get_product_category_list($product-&gt;get_id(), &#39;-&#39;); ?&gt;
</span></span><span class="line"><span class="cl">    	&lt;/div&gt;
</span></span><span class="line"><span class="cl">		&lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;h2&gt;‰∫ßÂìÅÊâÄÂ±ûÊ†áÁ≠æ&lt;/h2&gt;
</span></span><span class="line"><span class="cl">            &lt;?php echo wc_get_product_tag_list($product-&gt;get_id(), &#39;-&#39;); ?&gt;
</span></span><span class="line"><span class="cl">    	&lt;/div&gt;
</span></span><span class="line"><span class="cl">		&lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;h2&gt;Âä†ÂÖ•Ë¥≠Áâ©ËΩ¶&lt;/h2&gt;
</span></span><span class="line"><span class="cl">            &lt;?php woocommerce_template_single_add_to_cat(); ?&gt;
</span></span><span class="line"><span class="cl">    	&lt;/div&gt;
</span></span><span class="line"><span class="cl">		&lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;h2&gt;Â¢ûÈîÄ‰∫ßÂìÅ&lt;/h2&gt;
</span></span><span class="line"><span class="cl">            &lt;?php
</span></span><span class="line"><span class="cl">            //$limit ÊòæÁ§∫Êï∞Èáè -1ÊòæÁ§∫ÂÖ®ÈÉ®
</span></span><span class="line"><span class="cl">            //$columns ÊØèË°åÊòæÁ§∫Âá†‰∏™
</span></span><span class="line"><span class="cl">            //woocommerce_upsell_display($limit, $columns, $orderby, $order);
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            ?&gt;
</span></span><span class="line"><span class="cl">            &lt;?php woocommerce_upsell_display(); ?&gt;
</span></span><span class="line"><span class="cl">    	&lt;/div&gt;
</span></span><span class="line"><span class="cl">		&lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;h2&gt;Áõ∏ÂÖ≥‰∫ßÂìÅ&lt;/h2&gt;
</span></span><span class="line"><span class="cl">            &lt;?php 
</span></span><span class="line"><span class="cl">            // orderby: rand,title,ID,date,modified,menu_order,price
</span></span><span class="line"><span class="cl">            $defauls = [
</span></span><span class="line"><span class="cl">                &#39;posts_per_page&#39; =&gt; 1,
</span></span><span class="line"><span class="cl">                &#39;columns&#39;        =&gt; 2,
</span></span><span class="line"><span class="cl">                &#39;orderby&#39;        =&gt; &#39;rand&#39;,
</span></span><span class="line"><span class="cl">                &#39;order&#39;          =&gt; &#39;desc&#39;
</span></span><span class="line"><span class="cl">            ];
</span></span><span class="line"><span class="cl">          	woocommerce_related_products($defauls); 
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            ?&gt;
</span></span><span class="line"><span class="cl">    	&lt;/div&gt;
</span></span><span class="line"><span class="cl">	&lt;?php endwhile; ?&gt;
</span></span><span class="line"><span class="cl">&lt;?php endif; ?&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="‰∫ßÂìÅËá™ÂÆö‰πâÊü•ËØ¢Á§∫‰æã">‰∫ßÂìÅËá™ÂÆö‰πâÊü•ËØ¢Á§∫‰æã
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Ëé∑ÂèñÊâÄÊúâÊúâË¥ß„ÄÅÂ∫óÈì∫È°µÂèØËßÅ (NOT IN (outofstock, exclude-from-catalog))
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Âπ∂‰∏î
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Âú®Âà´Âêç‰∏∫phoneÁöÑ‰∫ßÂìÅÂàÜÁ±ª‰∏≠ÊàñËÄÖÂú®Âà´Âêç‰∏∫hotÁöÑ‰∫ßÂìÅÊ†áÁ≠æ‰∏≠ÁöÑ
</span></span></span><span class="line"><span class="cl"><span class="sd"> * ÊâÄÊúâ‰∫ßÂìÅ
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="nv">$query</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WP_Query</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;post_type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;product&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;posts_per_page&#39;</span> <span class="o">=&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;tax_query&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;relation&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AND&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;taxonomy&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;product_visibility&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;slug&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;terms&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;exclude-from-catalog&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;outofstock&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;operator&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;NOT IN&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;relation&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;OR&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;taxonomy&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;product_cat&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;slug&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;terms&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;phone&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;taxonomy&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;product_tag&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;slug&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;terms&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;hot&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nv">$query</span><span class="o">-&gt;</span><span class="na">have_post</span><span class="p">())</span> <span class="k">while</span><span class="p">(</span><span class="nv">$query</span><span class="o">-&gt;</span><span class="na">have_post</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">the_post</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$global</span> <span class="nv">$product</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">get_id</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">the_ID</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">wp_reset_postdata</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="‰∫ßÂìÅÂèØËßÅÊÄßproduct_visibility">‰∫ßÂìÅÂèØËßÅÊÄß(product_visibility)
</h3><ul>
<li><code>exclude-from-search</code></li>
</ul>
<p>ÊâÄÊúâÂú®ÊêúÁ¥¢ÁªìÊûú‰∏≠ÊéíÈô§ÁöÑ‰∫ßÂìÅÔºåÈÉΩÂú®Ê≠§ÂàÜÁ±ªÈ°πÁõÆ‰∏≠</p>
<ul>
<li><code>exclude-from-catalog</code></li>
</ul>
<p>ÊâÄÊúâ‰ªéÂ∫óÈì∫È°µÊàñÂàÜÁ±ªÂΩíÊ°£È°µ‰∏≠ÊéíÈô§ÁöÑ‰∫ßÂìÅÔºåÈÉΩÂú®Ê≠§ÂàÜÁ±ªÈ°πÁõÆ‰∏≠</p>
<ul>
<li><code>featured</code></li>
</ul>
<p>ÊâÄÊúâÊé®ËçêÁöÑ‰∫ßÂìÅÔºåÈÉΩÂú®Ê≠§ÂàÜÁ±ªÈ°πÁõÆ‰∏≠</p>
<ul>
<li><code>outofstock</code></li>
</ul>
<p>ÊâÄÊúâÊ≤°ÊúâÂ∫ìÂ≠òÁöÑ‰∫ßÂìÅÔºåÈÉΩÂú®Ê≠§ÂàÜÁ±ªÈ°πÁõÆ‰∏≠</p>
<ul>
<li><code>rated-1</code></li>
</ul>
<p>1ÊòüËØÑ‰ª∑</p>
<ul>
<li><code>rated-2</code></li>
</ul>
<p>2ÊòüËØÑ‰ª∑</p>
<ul>
<li><code>rated-3</code></li>
</ul>
<p>3ÊòüËØÑ‰ª∑</p>
<ul>
<li><code>rated-4</code></li>
</ul>
<p>4ÊòüËØÑ‰ª∑</p>
<ul>
<li><code>rated-5</code></li>
</ul>
<p>5ÊòüËØÑ‰ª∑</p>
<h3 id="‰∫ßÂìÅÂèØËßÅÊÄßÈ°µÈù¢ËÆæÁΩÆ‰∏≠ÂØπÂ∫îÁöÑÂÄº">‰∫ßÂìÅÂèØËßÅÊÄßÈ°µÈù¢ËÆæÁΩÆ‰∏≠ÂØπÂ∫îÁöÑÂÄº
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">// 1.ÂïÜÂ∫óÈ°µÂíåÊêúÁ¥¢ÁªìÊûúÈ°µ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="s2">&#34;product_visibility NOT IN (&#39;exclude-from-catalog&#39;, &#39;exclude-from-search&#39;)&#34;</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 2.‰ªÖÂïÜÂ∫óÈ°µ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="s2">&#34;product_visibility IN (&#39;exclude-from-search&#39;)&#34;</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 3.‰ªÖÊêúÁ¥¢ÁªìÊûúÈ°µ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="s2">&#34;product_visibility IN (&#39;exclude-from-catalog&#39;)&#34;</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 4.ÈöêËóè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="s2">&#34;product_visibility IN (&#39;exclude-from-catalog&#39;, &#39;exclude-from-search&#39;)&#34;</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 5.Êé®Ëçê‰∫ßÂìÅ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="s2">&#34;product_visibility IN (&#39;featured&#39;)&#34;</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><img src="C:\Users\H\AppData\Roaming\Typora\typora-user-images\image-20240607161128729.png" alt="image-20240607161128729" style="zoom:50%;" />
<img src="C:\Users\H\AppData\Roaming\Typora\typora-user-images\image-20240607161350580.png" alt="image-20240607161350580" style="zoom:50%;" />
<h3 id="‰∫ßÂìÅÂèØËßÅÊÄßÊü•ËØ¢Á§∫‰æã">‰∫ßÂìÅÂèØËßÅÊÄßÊü•ËØ¢Á§∫‰æã
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Ëé∑ÂèñÊâÄÊúâÊúâË¥ß„ÄÅÂ∫óÈì∫È°µÂèØËßÅ (NOT IN (outofstock, exclude-from-catalog))
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Âπ∂‰∏î
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Âú®Âà´Âêç‰∏∫otherÁöÑ‰∫ßÂìÅÂàÜÁ±ª‰∏≠ÁöÑ
</span></span></span><span class="line"><span class="cl"><span class="sd"> * ÊâÄÊúâ‰∫ßÂìÅ
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="nv">$query</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WP_Query</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;post_type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;product&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;posts_per_page&#39;</span> <span class="o">=&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;tax_query&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;relation&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AND&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;taxonomy&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;product_visibility&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;slug&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;terms&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;exclude-from-catalog&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;outofstock&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;operator&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;NOT IN&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;taxonomy&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;product_cat&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;slug&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;terms&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;other&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">]);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="Ê®°ÊùøÂ±ÇÁ∫ß">Ê®°ÊùøÂ±ÇÁ∫ß
</h2><h3 id="ÂºÄÂêØ‰∏ªÈ¢òÂØπwoocommerceÊîØÊåÅ">ÂºÄÂêØ‰∏ªÈ¢òÂØπwoocommerceÊîØÊåÅ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;after_setup_theme&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂºÄÂêØwoocommerceÊîØÊåÅÔºåÂêéÈù¢ÁöÑÊ®°ÊùøÂ±ÇÁ∫ßÊâçÁîüÊïà
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">add_theme_support</span><span class="p">(</span><span class="s1">&#39;woocommerce&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="‰∫ßÂìÅËØ¶ÊÉÖÈ°µÊ®°ÊùøÂ±ÇÁ∫ß">‰∫ßÂìÅËØ¶ÊÉÖÈ°µÊ®°ÊùøÂ±ÇÁ∫ß
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nv">$custom</span><span class="o">.</span><span class="nx">php</span>                                       <span class="c1">//Ëá™ÂÆö‰πâÊ®°ÊùøÊñá‰ª∂
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">single</span><span class="o">-</span><span class="nx">product</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">/</span><span class="nx">single</span><span class="o">-</span><span class="nx">product</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">plugins</span><span class="o">/</span><span class="nx">woocommerce</span><span class="o">/</span><span class="nx">templates</span><span class="o">/</span><span class="nx">single</span><span class="o">-</span><span class="nx">product</span><span class="o">.</span><span class="nx">php</span>  <span class="c1">//wccÊèí‰ª∂‰∏≠ÁöÑÊ®°ÊùøÊñá‰ª∂
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="‰∫ßÂìÅÂàÜÁ±ªÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß">‰∫ßÂìÅÂàÜÁ±ªÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">product_cat</span><span class="o">-</span><span class="nv">$slug</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">woocomerce</span><span class="o">/</span><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">product_cat</span><span class="o">-</span><span class="nv">$slug</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">product_cat</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">/</span><span class="nx">taxonomu</span><span class="o">-</span><span class="nx">product_cat</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">plugins</span><span class="o">/</span><span class="nx">woocomerce</span><span class="o">/</span><span class="nx">templates</span><span class="o">/</span><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">product_cat</span><span class="o">.</span><span class="nx">php</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="‰∫ßÂìÅÊ†áÁ≠æÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß">‰∫ßÂìÅÊ†áÁ≠æÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">product_tag</span><span class="o">-</span><span class="nv">$slug</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">/</span><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">proudct_tag</span><span class="o">-</span><span class="nv">$slug</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">product_tag</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">/</span><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">product_tag</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">plugins</span><span class="o">/</span><span class="nx">woocommerce</span><span class="o">/</span><span class="nx">templates</span><span class="o">/</span><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">product_tag</span><span class="o">.</span><span class="nx">php</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂÖ®Â±ÄÂ±ûÊÄßÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß">ÂÖ®Â±ÄÂ±ûÊÄßÂΩíÊ°£È°µÊ®°ÊùøÂ±ÇÁ∫ß
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">pa_</span><span class="nv">$attr_slug</span><span class="o">-</span><span class="nv">$term_slug</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">woocomerce</span><span class="o">/</span><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">pa_</span><span class="nv">$attr_slug</span><span class="o">-</span><span class="nv">$term_slug</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">pa_</span><span class="nv">$attr_slug</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">woocomerce</span><span class="o">/</span><span class="nx">taxonomy</span><span class="o">-</span><span class="nx">pa_</span><span class="nv">$attr_slug</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">archive</span><span class="o">-</span><span class="nx">product</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">/</span><span class="nx">archive</span><span class="o">-</span><span class="nx">product</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">plugins</span><span class="o">/</span><span class="nx">woocommerce</span><span class="o">/</span><span class="nx">templates</span><span class="o">/</span><span class="nx">archive</span><span class="o">-</span><span class="nx">product</span><span class="o">.</span><span class="nx">php</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="wccÂàõÂª∫ÁöÑÈ°µÈù¢Ê®°ÊùøÂ±ÇÁ∫ß">WCCÂàõÂª∫ÁöÑÈ°µÈù¢Ê®°ÊùøÂ±ÇÁ∫ß
</h3><h4 id="Â∫óÈì∫È°µÈù¢">Â∫óÈì∫È°µÈù¢
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">woocomerce</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">archive</span><span class="o">-</span><span class="nx">product</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">/</span><span class="nx">archive</span><span class="o">-</span><span class="nx">product</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="nx">plugins</span><span class="o">/</span><span class="nx">woocomerce</span><span class="o">/</span><span class="nx">templates</span><span class="o">/</span><span class="nx">archive</span><span class="o">-</span><span class="nx">product</span><span class="o">.</span><span class="nx">php</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÊàëÁöÑË¥¶Êà∑È°µ">ÊàëÁöÑË¥¶Êà∑È°µ
</h4><p>ÊôÆÈÄöÈ°µÈù¢ÔºåÊåâÁÖßwordpressÈªòËÆ§ÁöÑÊ®°ÊùøÂ±ÇÁ∫ßËßÑÂàôÊù•</p>
<h4 id="ÁªìÁÆóÈ°µ">ÁªìÁÆóÈ°µ
</h4><p>ÊôÆÈÄöÈ°µÈù¢ÔºåÊåâÁÖßwordpressÈªòËÆ§ÁöÑÊ®°ÊùøÂ±ÇÁ∫ßËßÑÂàôÊù•</p>
<h4 id="Ë¥≠Áâ©ËΩ¶È°µ">Ë¥≠Áâ©ËΩ¶È°µ
</h4><p>ÊôÆÈÄöÈ°µÈù¢ÔºåÊåâÁÖßwordpressÈªòËÆ§ÁöÑÊ®°ÊùøÂ±ÇÁ∫ßËßÑÂàôÊù•</p>
<h4 id="Áî®Êà∑ÂçèËÆÆÈ°µ">Áî®Êà∑ÂçèËÆÆÈ°µ
</h4><p>ÊôÆÈÄöÈ°µÈù¢ÔºåÊåâÁÖßwordpressÈªòËÆ§ÁöÑÊ®°ÊùøÂ±ÇÁ∫ßËßÑÂàôÊù•</p>
<h2 id="wccÊù°‰ª∂Ê†áÁ≠æ">WCCÊù°‰ª∂Ê†áÁ≠æ
</h2><h3 id="ÊòØÂê¶woocommerceÈ°µÈù¢">ÊòØÂê¶woocommerceÈ°µÈù¢
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Is_woocommerce - Returns true if on a page which uses WooCommerce templates (cart and checkout are standard pages with shortcodes and thus are not included).
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">is_woocommerce</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">apply_filters</span><span class="p">(</span> <span class="s1">&#39;is_woocommerce&#39;</span><span class="p">,</span> <span class="nx">is_shop</span><span class="p">()</span> <span class="o">||</span> <span class="nx">is_product_taxonomy</span><span class="p">()</span> <span class="o">||</span> <span class="nx">is_product</span><span class="p">()</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊòØÂê¶Â∫óÈì∫È°µ">ÊòØÂê¶Â∫óÈì∫È°µ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Is_shop - Returns true when viewing the product type archive (shop).
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">is_shop</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span> <span class="nx">is_post_type_archive</span><span class="p">(</span> <span class="s1">&#39;product&#39;</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">is_page</span><span class="p">(</span> <span class="nx">wc_get_page_id</span><span class="p">(</span> <span class="s1">&#39;shop&#39;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊòØÂê¶‰∫ßÂìÅÂàÜÁ±ªÈ°µ">ÊòØÂê¶‰∫ßÂìÅÂàÜÁ±ªÈ°µ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Is_product_category - Returns true when viewing a product category.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string $term (default: &#39;&#39;) The term slug your checking for. Leave blank to return true on any.
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">is_product_category</span><span class="p">(</span> <span class="nv">$term</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">is_tax</span><span class="p">(</span> <span class="s1">&#39;product_cat&#39;</span><span class="p">,</span> <span class="nv">$term</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊòØÂê¶‰∫ßÂìÅÊ†áÁ≠æÈ°µ">ÊòØÂê¶‰∫ßÂìÅÊ†áÁ≠æÈ°µ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Is_product_tag - Returns true when viewing a product tag.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string $term (default: &#39;&#39;) The term slug your checking for. Leave blank to return true on any.
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">is_product_tag</span><span class="p">(</span> <span class="nv">$term</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">is_tax</span><span class="p">(</span> <span class="s1">&#39;product_tag&#39;</span><span class="p">,</span> <span class="nv">$term</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊòØÂê¶‰∫ßÂìÅËØ¶ÊÉÖÈ°µ">ÊòØÂê¶‰∫ßÂìÅËØ¶ÊÉÖÈ°µ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Is_product - Returns true when viewing a single product.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">is_product</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">is_singular</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span> <span class="s1">&#39;product&#39;</span> <span class="p">)</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊòØÂê¶Ë¥≠Áâ©ËΩ¶È°µ">ÊòØÂê¶Ë¥≠Áâ©ËΩ¶È°µ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Is_cart - Returns true when viewing the cart page.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">is_cart</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$page_id</span> <span class="o">=</span> <span class="nx">wc_get_page_id</span><span class="p">(</span> <span class="s1">&#39;cart&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span> <span class="nv">$page_id</span> <span class="o">&amp;&amp;</span> <span class="nx">is_page</span><span class="p">(</span> <span class="nv">$page_id</span> <span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">Constants</span><span class="o">::</span><span class="na">is_defined</span><span class="p">(</span> <span class="s1">&#39;WOOCOMMERCE_CART&#39;</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">wc_post_content_has_shortcode</span><span class="p">(</span> <span class="s1">&#39;woocommerce_cart&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊòØÂê¶ÊòØÁªìÁÆóÈ°µ">ÊòØÂê¶ÊòØÁªìÁÆóÈ°µ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Is_checkout - Returns true when viewing the checkout page, or when processing AJAX requests for updating or processing the checkout.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">is_checkout</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$page_id</span> <span class="o">=</span> <span class="nx">wc_get_page_id</span><span class="p">(</span> <span class="s1">&#39;checkout&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span> <span class="nv">$page_id</span> <span class="o">&amp;&amp;</span> <span class="nx">is_page</span><span class="p">(</span> <span class="nv">$page_id</span> <span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">wc_post_content_has_shortcode</span><span class="p">(</span> <span class="s1">&#39;woocommerce_checkout&#39;</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">apply_filters</span><span class="p">(</span> <span class="s1">&#39;woocommerce_is_checkout&#39;</span><span class="p">,</span> <span class="k">false</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">Constants</span><span class="o">::</span><span class="na">is_defined</span><span class="p">(</span> <span class="s1">&#39;WOOCOMMERCE_CHECKOUT&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊòØÂê¶ÊòØË¥¶Êà∑È°µ">ÊòØÂê¶ÊòØË¥¶Êà∑È°µ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Is_account_page - Returns true when viewing an account page.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">is_account_page</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$page_id</span> <span class="o">=</span> <span class="nx">wc_get_page_id</span><span class="p">(</span> <span class="s1">&#39;myaccount&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span> <span class="nv">$page_id</span> <span class="o">&amp;&amp;</span> <span class="nx">is_page</span><span class="p">(</span> <span class="nv">$page_id</span> <span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">wc_post_content_has_shortcode</span><span class="p">(</span> <span class="s1">&#39;woocommerce_my_account&#39;</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">apply_filters</span><span class="p">(</span> <span class="s1">&#39;woocommerce_is_account_page&#39;</span><span class="p">,</span> <span class="k">false</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊòØÂê¶‰∫ßÂìÅÁõ∏ÂÖ≥ÁöÑÂàÜÁ±ªÊñπÂºèÂΩíÊ°£È°µ">ÊòØÂê¶‰∫ßÂìÅÁõ∏ÂÖ≥ÁöÑÂàÜÁ±ªÊñπÂºèÂΩíÊ°£È°µ
</h3><blockquote>
<p>ÂåÖÊã¨‰∫ßÂìÅÂàÜÁ±ª„ÄÅ‰∫ßÂìÅÊ†áÁ≠æ„ÄÅ‰∫ßÂìÅÂ±ûÊÄßÁ≠â</p></blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Is_product_taxonomy - Returns true when viewing a product taxonomy archive.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">is_product_taxonomy</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">is_tax</span><span class="p">(</span> <span class="nx">get_object_taxonomies</span><span class="p">(</span> <span class="s1">&#39;product&#39;</span> <span class="p">)</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Êõ¥Â§öÊù°‰ª∂Ê†áÁ≠æ">Êõ¥Â§öÊù°‰ª∂Ê†áÁ≠æ
</h3><blockquote>
<p>ÊâÄÊúâÊù°‰ª∂Ê†áÁ≠æÊü•ÁúãÔºöplugins/woocommerce/includes/wc-conditional-functions.php</p></blockquote>
<h2 id="wccÁü≠‰ª£Á†Å">WCCÁü≠‰ª£Á†Å
</h2><h3 id="Áü≠‰ª£Á†ÅÁöÑÊâßË°å">Áü≠‰ª£Á†ÅÁöÑÊâßË°å
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">if</span><span class="p">(</span><span class="nx">have_posts</span><span class="p">())</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">	&lt;?php while(have_post()):the_post(); ?&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">		&lt;?php global $post; ?&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">        &lt;?php echo do_shortcode($post-&gt;content); ?&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">        &lt;?php echo the_content();//the_content()ÈáåÈù¢Ëá™Âä®Ëß£Êûê‰∫ÜÁü≠‰ª£Á†Å ?&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">	&lt;?php endwhile; ?&gt;
</span></span></span><span class="line"><span class="cl"><span class="err">&lt;?php endif; ?&gt;
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Ë¥≠Áâ©ËΩ¶È°µÈù¢Áü≠‰ª£Á†Å">Ë¥≠Áâ©ËΩ¶È°µÈù¢Áü≠‰ª£Á†Å
</h3><blockquote>
<p>[woocommerce_cart]</p></blockquote>
<p><code>plugins/woocommerce/includes/class-wc-shortcodes.php</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">WC_Shortcodes</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd">	 * Cart page shortcode.
</span></span></span><span class="line"><span class="cl"><span class="sd">	 *
</span></span></span><span class="line"><span class="cl"><span class="sd">	 * @return string
</span></span></span><span class="line"><span class="cl"><span class="sd">	 */</span>
</span></span><span class="line"><span class="cl">	<span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">cart</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">is_null</span><span class="p">(</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cart</span> <span class="p">)</span> <span class="o">?</span> <span class="s1">&#39;&#39;</span> <span class="o">:</span> <span class="nx">self</span><span class="o">::</span><span class="na">shortcode_wrapper</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span> <span class="s1">&#39;WC_Shortcode_Cart&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span> <span class="p">)</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÁªìÁÆóÈ°µÈù¢Áü≠‰ª£Á†Å">ÁªìÁÆóÈ°µÈù¢Áü≠‰ª£Á†Å
</h3><blockquote>
<p>[woocommerce_checkout]</p></blockquote>
<p><code>plugins/woocommerce/includes/class-wc-shortcodes.php</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">WC_Shortcodes</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd">	 * Checkout page shortcode.
</span></span></span><span class="line"><span class="cl"><span class="sd">	 *
</span></span></span><span class="line"><span class="cl"><span class="sd">	 * @param array $atts Attributes.
</span></span></span><span class="line"><span class="cl"><span class="sd">	 * @return string
</span></span></span><span class="line"><span class="cl"><span class="sd">	 */</span>
</span></span><span class="line"><span class="cl">	<span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">checkout</span><span class="p">(</span> <span class="nv">$atts</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">self</span><span class="o">::</span><span class="na">shortcode_wrapper</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span> <span class="s1">&#39;WC_Shortcode_Checkout&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span> <span class="p">),</span> <span class="nv">$atts</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Ë¥¶Êà∑È°µÈù¢Áü≠‰ª£Á†Å">Ë¥¶Êà∑È°µÈù¢Áü≠‰ª£Á†Å
</h3><blockquote>
<p>[woocommerce_my_account]</p></blockquote>
<p><code>plugins/woocommerce/includes/class-wc-shortcodes.php</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">WC_Shortcodes</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd">	 * My account page shortcode.
</span></span></span><span class="line"><span class="cl"><span class="sd">	 *
</span></span></span><span class="line"><span class="cl"><span class="sd">	 * @param array $atts Attributes.
</span></span></span><span class="line"><span class="cl"><span class="sd">	 * @return string
</span></span></span><span class="line"><span class="cl"><span class="sd">	 */</span>
</span></span><span class="line"><span class="cl">	<span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">my_account</span><span class="p">(</span> <span class="nv">$atts</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">self</span><span class="o">::</span><span class="na">shortcode_wrapper</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span> <span class="s1">&#39;WC_Shortcode_My_Account&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span> <span class="p">),</span> <span class="nv">$atts</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="ËæìÂá∫notices">ËæìÂá∫notices
</h5><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//ÊâìÂç∞ÊâÄÊúânotices
</span></span><span class="line"><span class="cl">wc_print_notices();
</span></span><span class="line"><span class="cl">//Ê∑ªÂä†notice
</span></span><span class="line"><span class="cl">wc_add_notice(&#39;hello world&#39;);
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="wcc‰∏ªÈ¢òÂºÄÂèë">WCC‰∏ªÈ¢òÂºÄÂèë
</h2><h3 id="Ê†∑ÂºèÂíåËÑöÊú¨">Ê†∑ÂºèÂíåËÑöÊú¨
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">// 1. ÈÄöËøáwp_register_script()Âíåwp_register_style(),ÂÖàÊ≥®ÂÜåËÑöÊú¨ÂíåÊ†∑Âºè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">wp_register_script</span><span class="p">(</span> <span class="nv">$handle</span><span class="p">,</span> <span class="nv">$path</span><span class="p">,</span> <span class="nv">$deps</span><span class="p">,</span> <span class="nv">$version</span><span class="p">,</span> <span class="nv">$in_footer</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">wp_register_style</span><span class="p">(</span> <span class="nv">$handle</span><span class="p">,</span> <span class="nv">$path</span><span class="p">,</span> <span class="nv">$deps</span><span class="p">,</span> <span class="nv">$version</span><span class="p">,</span> <span class="nv">$media</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 2. ÈÄöËøáwp_enqueue_script($handle)Âíåwp_enqueue_style($handle)ÔºåË∞ÉÁî®Â∑≤ÁªèÊ≥®ÂÜåÂ•ΩÁöÑËÑöÊú¨ÂíåÊ†∑Âºè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">wp_enqueue_script</span><span class="p">(</span> <span class="s1">&#39;wc-add-to-cart-variation&#39;</span> <span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÁßªÈô§wccËá™Â∏¶ÁöÑÊ†∑ÂºèÂíåËÑöÊú¨">ÁßªÈô§WCCËá™Â∏¶ÁöÑÊ†∑ÂºèÂíåËÑöÊú¨
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">// ÂéªÈô§wccËá™Â∏¶ÁöÑÊ†∑ÂºèÔºå__return_empty_arrayÊòØwpËá™Â∏¶ÁöÑÂáΩÊï∞ÔºåËøîÂõûÁ©∫Êï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">add_filter</span><span class="p">(</span><span class="s1">&#39;woocommerce_enqueue_styles&#39;</span><span class="p">,</span> <span class="s1">&#39;__return_empty_array&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ÂéªÈô§wccËá™Â∏¶ÁöÑÊ†∑ÂºèÂíåËÑöÊú¨Ôºåload_scripts ÈáåÈù¢ÊâßË°å‰∫Üwoocommerce_enqueue_stylesËøáÊª§Âô®Èí©Â≠ê
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">remove_action</span><span class="p">(</span> <span class="s1">&#39;wp_enqueue_scripts&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="nx">WC_Frontend_Scripts</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;load_scripts&#39;</span> <span class="p">]</span> <span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Â£∞ÊòéÊîØÊåÅwcc">Â£∞ÊòéÊîØÊåÅWCC
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;after_setup_theme&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//Â£∞ÊòéÊîØÊåÅwoocommerce
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">add_theme_support</span><span class="p">(</span><span class="s1">&#39;woocommerce&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Ëá™‰∏ªÂºè‰∏ªÈ¢òÂºÄÂèë">Ëá™‰∏ªÂºè‰∏ªÈ¢òÂºÄÂèë
</h3><blockquote>
<p>Ëá™Â∑±Ê†πÊçÆWCCÁöÑÊ®°ÊùøÂ±ÇÁ∫ßÔºåÈÄöËøáËá™ÂÆö‰πâÁöÑÊü•ËØ¢ÂíåËá™ÂÆö‰πâCSS„ÄÅjsÁöÑÊñπÂºèÂÆûÁé∞Ëá™Â∑±ÁöÑ‰∏ªÈ¢ò</p></blockquote>
<h3 id="Ë¶ÜÁõñÂºè‰∏ªÈ¢òÂºÄÂèë">Ë¶ÜÁõñÂºè‰∏ªÈ¢òÂºÄÂèë
</h3><blockquote>
<p>Âú®ÂºÄÂèëÂÖºÂÆπWCCÁöÑ‰∏ªÈ¢òÊó∂ÔºåÈ¶ñÂÖàËÄÉËôëÁöÑ‰∏çÊòØË¶ÅËá™Â∑±ÂéªÂÜôÊâÄÊúâÁöÑÊ®°ÊùøÔºåËÄåÊòØÂú®WCCÊ®°ÊùøÁöÑÂü∫Á°Ä‰∏äÂéª‰øÆÊîπ„ÄÇÊØîÂ¶ÇÔºåÂéª‰øÆÊîπÊï∞ÊçÆÁöÑËæìÂá∫ÁªìÊûÑÁ≠â„ÄÇÊääplugins/woocommerce/templatesÁöÑÊåáÂÆöÁöÑÊ®°ÊùøÊñá‰ª∂Â§çÂà∂Âà∞ÂΩìÂâç‰∏ªÈ¢ò/woocommerceÁõÆÂΩï‰∏ã</p></blockquote>
<h3 id="ÈáçË¶ÅÂáΩÊï∞">ÈáçË¶ÅÂáΩÊï∞
</h3><ul>
<li>wc_get_templateÂÆö‰πâ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Get other templates (e.g. product attributes) passing attributes and including the file.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param string $template_name Template name.
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param array  $args          Arguments. (default: array).
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param string $template_path Template path. (default: &#39;&#39;).
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param string $default_path  Default path. (default: &#39;&#39;).
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">wc_get_template</span><span class="p">(</span> <span class="nv">$template_name</span><span class="p">,</span> <span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(),</span> <span class="nv">$template_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nv">$default_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>wc_get_template‰ΩøÁî®‰∏æ‰æã</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">wc_get_template</span><span class="p">(</span><span class="s1">&#39;cart/cart-item-data.php&#39;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;item_data&#39;</span> <span class="o">=&gt;</span> <span class="nv">$item_data</span>
</span></span><span class="line"><span class="cl"><span class="p">]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//1. ÂÖàÂú®ÂΩìÂâç‰∏ªÈ¢òÁöÑwoocommerceÁõÆÂΩï‰∏≠Êü•Êâæ
</span></span></span><span class="line"><span class="cl"><span class="c1">//2. ÁÑ∂ÂêéÂÜçÂà∞plugins/woocommerce/templatesÁõÆÂΩï‰∏≠Êü•Êâæ
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>wc_get_template_partÂÆö‰πâ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Get template part (for templates like the shop-loop).
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * WC_TEMPLATE_DEBUG_MODE will prevent overrides in themes from taking priority.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param mixed  $slug Template slug.
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param string $name Template name (default: &#39;&#39;).
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">wc_get_template_part</span><span class="p">(</span> <span class="nv">$slug</span><span class="p">,</span> <span class="nv">$name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>wc_get_template_part‰∏æ‰æã</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">// Êü•Êâæshop-product.phpÊñá‰ª∂
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">wc_get_template_part</span><span class="p">(</span><span class="s1">&#39;shop&#39;</span><span class="p">,</span> <span class="s1">&#39;product&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//1. Âú®ÂΩìÂâç‰∏ªÈ¢òÁõÆÂΩï‰∏≠Êü•Êâæ$slug-$name.phpÊñá‰ª∂
</span></span></span><span class="line"><span class="cl"><span class="c1">//2. Âú®ÂΩìÂâç‰∏ªÈ¢òÁöÑwoocommerceÁõÆÂΩïÊü•Êâæ$slug-$name.phpÊñá‰ª∂
</span></span></span><span class="line"><span class="cl"><span class="c1">//3. Âú®plugins/woocommerce/templatesÁõÆÂΩï‰∏≠Êü•Êâæ$slug-$name.php
</span></span></span><span class="line"><span class="cl"><span class="c1">//4. Âú®ÂΩìÂâç‰∏ªÈ¢òÁöÑwoocommerceÁõÆÂΩïÊü•Êâæ$slug.php
</span></span></span><span class="line"><span class="cl"><span class="c1">//5. Âú®plugins/woocommerce/templatesÁõÆÂΩï‰∏≠Êü•Êâæ$slug.php
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="‰∏ªÈ¢òÂºÄÂèëË¶ÅÁÇπ‰∏≤ËÅî">‰∏ªÈ¢òÂºÄÂèëË¶ÅÁÇπ‰∏≤ËÅî
</h3><h4 id="Âà∂‰ΩúËØ¶ÊÉÖÈ°µÈ°∂ÈÉ®ÂØºËà™">Âà∂‰ΩúËØ¶ÊÉÖÈ°µÈ°∂ÈÉ®ÂØºËà™
</h4><ul>
<li>ÁôªÂΩïÈìæÊé•</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Ëé∑ÂèñÂΩìÂâçËÆøÈóÆÈ°µÈù¢ÁöÑurlÁöÑÊñπÊ≥ï
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Âú®‰∏ªÈ¢òÁöÑfunction.phpÂÆö‰πâÔºåÂú®Ê®°ÊùøÊñá‰ª∂‰∏≠‰ΩøÁî®
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span> <span class="nf">get_curr_url</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">global</span> <span class="nv">$wp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">get_home_url</span><span class="p">(</span><span class="k">null</span><span class="p">,</span> <span class="nv">$wp</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ÂâçÂè∞‰ΩøÁî®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$curr_url</span> <span class="o">=</span> <span class="nx">get_curr_url</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nv">$login_url</span> <span class="o">=</span> <span class="nx">wp_login_url</span><span class="p">(</span><span class="nv">$curr_url</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&#34;&lt;?php echo </span><span class="si">$login_url</span><span class="s2">; ?&gt;&#34;</span><span class="o">&gt;</span><span class="nx">ÁôªÂΩï</span><span class="o">&lt;/</span><span class="nx">a</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Áî®Êà∑‰∏≠ÂøÉÈìæÊé•</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * $pagenameÂèØÈÄâÁöÑÂÄºÔºåÂ¶Ç‰∏ãÔºö
</span></span></span><span class="line"><span class="cl"><span class="sd"> * myaccount  ÊàëÁöÑË¥¶Êà∑È°µÈù¢
</span></span></span><span class="line"><span class="cl"><span class="sd"> * shop  Â∫óÈì∫
</span></span></span><span class="line"><span class="cl"><span class="sd"> * cart  Ë¥≠Áâ©ËΩ¶
</span></span></span><span class="line"><span class="cl"><span class="sd"> * checkout  ÁªìÁÆó
</span></span></span><span class="line"><span class="cl"><span class="sd"> * terms  Êù°Ê¨æ
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="nx">wc_get_page_permalink</span><span class="p">(</span><span class="nv">$pagename</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="c1">//ÊàëÁöÑË¥¶Êà∑È°µÈù¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">wc_get_page_permalink</span><span class="p">(</span><span class="s1">&#39;myacount&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//Ë¥≠Áâ©ËΩ¶È°µÈù¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">wc_get_page_permalink</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ÊàëÁöÑË¥¶Êà∑È°µÈù¢ÁöÑÁ´ØÁÇπ
</span></span></span><span class="line"><span class="cl"><span class="c1">//ËÆ¢Âçï orders
</span></span></span><span class="line"><span class="cl"><span class="c1">//Êü•ÁúãËÆ¢Âçï  view-order
</span></span></span><span class="line"><span class="cl"><span class="c1">//‰∏ãËΩΩ  downloads
</span></span></span><span class="line"><span class="cl"><span class="c1">//ÁºñËæëË¥¶Êà∑ edit-address
</span></span></span><span class="line"><span class="cl"><span class="c1">//Âú∞ÂùÄ edit-address
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂïÜÂìÅÊêúÁ¥¢Ê°Ü">ÂïÜÂìÅÊêúÁ¥¢Ê°Ü
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">get_product_search_form</span><span class="p">(</span><span class="nv">$echo</span> <span class="o">=</span> <span class="k">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//Â§çÂà∂woocommerce/templates/product-searchform.phpÂà∞ÂΩìÂâç‰∏ªÈ¢òÁöÑwoocommerceÁõÆÂΩï‰∏ã
</span></span></span><span class="line"><span class="cl"><span class="c1">//‰øÆÊîπproduct-searchform.phpÂÜÖÂÆπÂÆåÊàêÂÆöÂà∂
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Èù¢ÂåÖÂ±ëÂØºËà™">Èù¢ÂåÖÂ±ëÂØºËà™
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nv">$args</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;delimiter&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;&amp;nbsp;&amp;#47;&amp;nbsp;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;wrap_before&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&lt;nav class=&#34;woocommerce-breadcrumb&#34; aria-label=&#34;Breadcrumb&#34;&gt;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;wrap_after&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;&lt;/nav&gt;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;before&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;after&#39;</span>       <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;home&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;Á´ôÁÇπÈ¶ñÈ°µ&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="nx">woocommerce_breadcrumb</span><span class="p">(</span><span class="nv">$args</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Ëé∑Âèñ‰∫ßÂìÅ‰ø°ÊÅØ">Ëé∑Âèñ‰∫ßÂìÅ‰ø°ÊÅØ
</h4><ul>
<li>‰∫ßÂìÅÂõæÁâá</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">the_post_thumbnail_url</span><span class="p">(</span><span class="s1">&#39;shop_single&#39;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>‰∫ßÂìÅ‰ª∑Ê†º</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">//Ê†ºÂºèÂåñ‰ª∑Ê†º $16.90
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">wc_price</span><span class="p">(</span><span class="nv">$price</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//Ëé∑Âèñ‰∫ßÂìÅ‰ª∑Ê†ºÔºåÂèØ‰ª•ËÆæÂÆöÊï∞ÈáèÂíåËá™ÂÆö‰πâ‰ª∑Ê†º
</span></span></span><span class="line"><span class="cl"><span class="c1">//$argsÂèØÈÄâÂèÇÊï∞ÔºåÂ¶Ç‰∏ç‰º†ÈÄíÂàôËøîÂõû‰∏Ä‰ª∂‰∫ßÂìÅÁöÑÂÆûÈôÖ‰ª∑Ê†º„ÄÇÂ¶Ç‰º†ÈÄíÊ†ºÂºè‰∏∫[&#39;price&#39; =&gt; 123, &#39;qty&#39; =&gt; 2]ÔºåÊÑèÊÄùÊòØÔºöËé∑Âèñ2‰ª∂‰∫ßÂìÅÁöÑ‰ª∑Ê†ºÔºåÊØè‰ª∂‰∏∫123ÂÖÉ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">wc_get_price_to_display</span><span class="p">(</span><span class="nv">$product</span><span class="p">,</span> <span class="nv">$args</span> <span class="o">=</span> <span class="p">[]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//‰∫ßÂìÅÂéü‰ª∑
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">get_regular_price</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//‰∫ßÂìÅ‰øÉÈîÄ‰ª∑Ê†º
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">get_sale_price</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//‰∫ßÂìÅÂÆûÈôÖ‰ª∑Ê†ºÔºåÂ¶ÇÊûúÊúâËÆæÁΩÆ‰øÉÈîÄ‰ª∑Ê†ºÂ∞±ÊòæÁ§∫‰øÉÈîÄ‰ª∑Ê†ºÔºåÂê¶ÂàôÊòæÁ§∫‰∫ßÂéü‰ª∑
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">get_price</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ÁªºÂêàÂ∫îÁî®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">wc_price</span><span class="p">(</span><span class="nx">wc_get_price_to_display</span><span class="p">(</span><span class="nv">$product</span><span class="p">));</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Ëé∑Âèñ‰∫ßÂìÅÈáçÈáè</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param $weigth ÈáçÈáèÁöÑÊï∞ÂÄº
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param $to_unit ËΩ¨‰∏∫‰ªÄ‰πàÂçï‰Ωç ÂèØÂèñÁöÑÂÄº‰∏∫ &#39;g&#39;,&#39;kg&#39;,&#39;lbs&#39;,&#39;oz&#39;
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param $from_unit ËΩ¨Êç¢ÂâçÁöÑÂçï‰ΩçÔºåÂèØÈÄâÂèÇÊï∞„ÄÇ‰∏ç‰º†ÈÄí‰ºöËá™Âä®Ëé∑ÂèñWCCËÆæÁΩÆÁöÑÈªòËÆ§ÈáçÈáèÂçï‰Ωç
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="nx">wc_get_weight</span><span class="p">(</span><span class="nv">$weight</span><span class="p">,</span> <span class="nv">$to_unit</span><span class="p">,</span> <span class="nv">$from_unit</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//Â∫îÁî®‰∏æ‰æã
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">wc_get_weight</span><span class="p">(</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">get_weight</span><span class="p">(),</span> <span class="s1">&#39;g&#39;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Ëé∑ÂèñÂïÜÂìÅËØÑËÆ∫‰ø°ÊÅØ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">// ËØ•ÊñπÊ≥ïË∞ÉÁî®ÁöÑÊòØwoocommerce/templates/single-product-reviews.php
</span></span></span><span class="line"><span class="cl"><span class="c1">// ÂèØ‰ª•Êääsingle-product-reviews.phpÂ§çÂà∂Âà∞ÂΩìÂâç‰∏ªÈ¢òwoocommerceÁõÆÂΩï‰∏ã
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">comments_template</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Âä†ÂÖ•Ë¥≠Áâ©ËΩ¶">Âä†ÂÖ•Ë¥≠Áâ©ËΩ¶
</h3><h4 id="wccÈªòËÆ§ÊñπÂºè">wccÈªòËÆ§ÊñπÂºè
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">// Ë°®ÂçïÊñπÂºè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">woocommerce_template_single_add_to_cart</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ajaxÊñπÂºè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">woocommerce_template_loop_add_to_cart</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Ëá™ÂÆö‰πâajaxÊñπÂºè">Ëá™ÂÆö‰πâajaxÊñπÂºè
</h4><blockquote>
<p>ÂÖ≥ÈîÆÊñá‰ª∂<code>plugins/woocommerce/includes/class-wc-ajax.php</code></p>
<p><code>do_action( 'wc_ajax_' . $action )</code>Ê†πÊçÆ$actionÂèÇÊï∞Âä®ÊÄÅËß¶ÂèëÈí©Â≠êÔºåÂèØ‰ª•Áî®‰∫éËá™ÂÆö‰πâ?wc-ajax=Ëá™ÂÆö‰πâÂä®‰Ωú</p></blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Check for WC Ajax request and fire action.
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">do_wc_ajax</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">global</span> <span class="nv">$wp_query</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// phpcs:disable WordPress.Security.NonceVerification.Recommended
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="k">empty</span><span class="p">(</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">&#39;wc-ajax&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$wp_query</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span> <span class="s1">&#39;wc-ajax&#39;</span><span class="p">,</span> <span class="nx">sanitize_text_field</span><span class="p">(</span> <span class="nx">wp_unslash</span><span class="p">(</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">&#39;wc-ajax&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$action</span> <span class="o">=</span> <span class="nv">$wp_query</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span> <span class="s1">&#39;wc-ajax&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span> <span class="nv">$action</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">self</span><span class="o">::</span><span class="na">wc_ajax_headers</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$action</span> <span class="o">=</span> <span class="nx">sanitize_text_field</span><span class="p">(</span> <span class="nv">$action</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">do_action</span><span class="p">(</span> <span class="s1">&#39;wc_ajax_&#39;</span> <span class="o">.</span> <span class="nv">$action</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">wp_die</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// phpcs:enable
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ajaxÊñπÂºèÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="o">&lt;!--</span> <span class="n">WCCÈªòËÆ§‰ºöÂêëÂïÜÂìÅÈ°µÈù¢‰∏≠Â¢ûÂä†JSËÑöÊú¨</span><span class="err">ÔºåËøô‰∫õËÑöÊú¨ÁªôÊàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∫õÈáçË¶ÅÁöÑÊï∞ÊçÆ„ÄÇ</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">wc_add_to_cart_params</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">//</span> <span class="err">Ëé∑ÂèñÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶ÁöÑ</span><span class="n">url</span>
</span></span><span class="line"><span class="cl">	<span class="k">var</span> <span class="n">ajax_url</span> <span class="o">=</span> <span class="n">wc_add_to_cart_params</span><span class="o">.</span><span class="n">wc_ajax_url</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%%</span><span class="s1">endpoint</span><span class="si">%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;add_to_cart&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="o">//</span> <span class="err">ÈÄöËøá</span><span class="n">ajaxÊääÊï∞ÊçÆÊèê‰∫§Âà∞ajax_url</span>
</span></span><span class="line"><span class="cl">    <span class="k">var</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;product_id&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="o">//</span> <span class="o">$.</span><span class="n">post</span><span class="p">()</span><span class="err">ÂèëËµ∑ËØ∑Ê±Ç</span>
</span></span><span class="line"><span class="cl">    <span class="o">//</span> <span class="err">Ëé∑Âèñ</span><span class="n">responseÊï∞ÊçÆ</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">response</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    	<span class="k">return</span> <span class="p">;</span>    
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="o">//</span><span class="err">ËøîÂõûÁöÑÊï∞ÊçÆ‰∏≠Ê†áÊòéÊúâÈîôËØØÊó∂</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">error</span> <span class="o">&amp;&amp;</span> <span class="n">response</span><span class="o">.</span><span class="n">product_url</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">window</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">product_url</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="o">//</span><span class="err">Â¶ÇÊûúÂêéÂè∞ËÆæÁΩÆ‰∫ÜÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶ÂêéÂ∞±Ë∑≥ËΩ¨Âà∞Ë¥≠Áâ©ËΩ¶È°µÈù¢Êó∂</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">wc_add_to_cart_params</span><span class="o">.</span><span class="n">cart_redirect_after_add</span> <span class="o">==</span> <span class="s1">&#39;yes&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">window</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">wc_add_to_cart_params</span><span class="o">.</span><span class="n">cart_url</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÈÄöËøáÈí©Â≠ê<code>woocommerce_add_to_cart_fragments</code>Êâ©Â±ïË¥≠Áâ©ËΩ¶‰∫ßÂìÅÊï∞ÈáèÂ≠óÊÆµ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">add_filter</span><span class="p">(</span><span class="s1">&#39;woocommerce_add_to_cart_fragments&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$return</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$return</span><span class="p">[</span><span class="s1">&#39;qty&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">get_cart_contents_count</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nv">$return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Ëé∑ÂèñË¥≠Áâ©ËΩ¶‰∏≠ÁöÑ‰∫ßÂìÅÊï∞Èáè">Ëé∑ÂèñË¥≠Áâ©ËΩ¶‰∏≠ÁöÑ‰∫ßÂìÅÊï∞Èáè
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">get_cart_contents_count</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ËÆ°ÁÆóÂïÜÂìÅÊÄª‰ª∑Ê†º">ËÆ°ÁÆóÂïÜÂìÅÊÄª‰ª∑Ê†º
</h4><blockquote>
<p>ÈÄöËøáclass-wc-ajax.php‰∏≠<code>do_action( 'wc_ajax_' . $action )</code>
Ëá™ÂÆö‰πâ‰∏Ä‰∏™actionÔºåÂ¶Ç?wc-ajax=get_product_total_price</p></blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">//Âú®functions.phpÊñá‰ª∂‰∏≠Ê∑ªÂä†‰ª•‰∏ãÊñπÊ≥ï
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;wc_ajax_get_product_total_price&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$product_id</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;product_id&#39;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$count</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$product</span> <span class="o">=</span> <span class="nx">wc_get_product</span><span class="p">(</span><span class="nv">$product_id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$total</span> <span class="o">=</span> <span class="nx">wc_get_price_to_display</span><span class="p">(</span><span class="nv">$product</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;qty&#39;</span> <span class="o">=&gt;</span> <span class="nv">$count</span>
</span></span><span class="line"><span class="cl">    <span class="p">]);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nv">$total</span> <span class="o">=</span> <span class="nx">wc_price</span><span class="p">(</span><span class="nv">$total</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nx">wp_send_json</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;total&#39;</span> <span class="o">=&gt;</span> <span class="nv">$total</span>
</span></span><span class="line"><span class="cl">    <span class="p">]);</span> 
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂàóË°®ÂàÜÈ°µ">ÂàóË°®ÂàÜÈ°µ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">woocommerce_pagination</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="‰∫ßÂìÅÊéíÂ∫è">‰∫ßÂìÅÊéíÂ∫è
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">woocommerce_catalog_ordering</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Ëé∑ÂèñÊåáÂÆö‰∫ßÂìÅÂàÜÁ±ªÊï∞ÊçÆ">Ëé∑ÂèñÊåáÂÆö‰∫ßÂìÅÂàÜÁ±ªÊï∞ÊçÆ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nv">$term_id</span> <span class="o">=</span> <span class="mi">19</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="cm">/* @var $term WP_Term */</span>
</span></span><span class="line"><span class="cl"><span class="nv">$term</span> <span class="o">=</span> <span class="nx">get_term</span><span class="p">(</span><span class="nv">$term_id</span><span class="p">,</span> <span class="s1">&#39;product_cat&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nv">$term</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$term</span><span class="o">-&gt;</span><span class="na">slug</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$term</span><span class="o">-&gt;</span><span class="na">description</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$term_url</span> <span class="o">=</span> <span class="nx">get_term_link</span><span class="p">(</span><span class="nv">$term</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//Ëé∑Âèñ&lt;img&gt;&lt;/img&gt;Ê†ºÂºèÁöÑÊï∞ÊçÆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">woocommerce_subcategory_thumbnail</span><span class="p">(</span><span class="nv">$term</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//Ëé∑ÂèñÂõæÁâáurl
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$term_thumbnail_id</span> <span class="o">=</span> <span class="nx">get_term_meta</span><span class="p">(</span><span class="nv">$term_id</span><span class="p">,</span> <span class="s1">&#39;thumbnail_id&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nv">$term_thumbnail_url</span> <span class="o">=</span> <span class="nx">wp_get_attachment_image_url</span><span class="p">(</span><span class="nv">$term_thumbnail_id</span><span class="p">,</span> <span class="s1">&#39;thumbnail&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ÈÄöËøáËá™ÂÆö‰πâÊü•ËØ¢Ëé∑ÂèñÂàÜÁ±ª‰∏ãÁöÑ‰∫ßÂìÅ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$query</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WP_Query</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;post_type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;product&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;posts_per_page&#39;</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;tax_query&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;ralation&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AND&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;taxonomy&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;product_visibility&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;slug&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;terms&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;exculde-from-catalog&#39;</span><span class="p">,</span> <span class="s1">&#39;outofstock&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;operator&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;NOT IN&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;taxonomy&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;product_cat&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;slug&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;terms&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;shuiguo&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="p">(</span><span class="nv">$query</span><span class="o">-&gt;</span><span class="na">have_posts</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">the_post</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//Ëé∑Âèñ‰∫ßÂìÅÂÖ∑‰Ωì‰ø°ÊÅØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="wccÊîØ‰ªòÁΩëÂÖ≥">WCCÊîØ‰ªòÁΩëÂÖ≥
</h2><h3 id="woocommerce‰∏ãÂçïÊµÅÁ®ãÂÖ≥ÈîÆ‰ª£Á†Å">woocommerce‰∏ãÂçïÊµÅÁ®ãÂÖ≥ÈîÆ‰ª£Á†Å
</h3><ul>
<li>ÊµÅÁ®ã</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">/</span><span class="nx">includes</span><span class="o">/</span><span class="nx">class</span><span class="o">-</span><span class="nx">wc</span><span class="o">-</span><span class="nx">ajax</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl">    <span class="nx">do_wc_ajax</span><span class="p">()</span> <span class="o">===&gt;</span> <span class="nx">do_action</span><span class="p">(</span> <span class="s1">&#39;wc_ajax_&#39;</span> <span class="o">.</span> <span class="nv">$action</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÁªìÁÆó
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">checkout</span><span class="p">()</span> <span class="o">===&gt;</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">checkout</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">process_checkout</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="nx">woocommerce</span><span class="o">/</span><span class="nx">includes</span><span class="o">/</span><span class="nx">class</span><span class="o">-</span><span class="nx">wc</span><span class="o">-</span><span class="nx">checkout</span><span class="o">.</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ‰∏ãÂçï
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">process_checkout</span><span class="p">()</span> <span class="o">===&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">process_order_payment</span><span class="p">(</span> <span class="nv">$order_id</span><span class="p">,</span> <span class="nv">$posted_data</span><span class="p">[</span><span class="s1">&#39;payment_method&#39;</span><span class="p">]</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ëé∑ÂèñÊîØ‰ªòÁΩëÂÖ≥‰∏≠ÊåáÂÆöÁöÑÊîØ‰ªòÊñπÂºèÔºåÊâßË°åËØ•ÊîØ‰ªòÊñπÂºèÁöÑprocess_payment()ÊñπÊ≥ï
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">process_order_payment</span><span class="p">()</span> <span class="o">===&gt;</span> <span class="nv">$available_gateways</span><span class="p">[</span> <span class="nv">$payment_method</span> <span class="p">]</span><span class="o">-&gt;</span><span class="na">process_payment</span><span class="p">(</span> <span class="nv">$order_id</span> <span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>woocommerce/includes/class-wc-ajax.php</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Check for WC Ajax request and fire action.
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">do_wc_ajax</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">global</span> <span class="nv">$wp_query</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// phpcs:disable WordPress.Security.NonceVerification.Recommended
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="k">empty</span><span class="p">(</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">&#39;wc-ajax&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$wp_query</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span> <span class="s1">&#39;wc-ajax&#39;</span><span class="p">,</span> <span class="nx">sanitize_text_field</span><span class="p">(</span> <span class="nx">wp_unslash</span><span class="p">(</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">&#39;wc-ajax&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$action</span> <span class="o">=</span> <span class="nv">$wp_query</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span> <span class="s1">&#39;wc-ajax&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span> <span class="nv">$action</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">self</span><span class="o">::</span><span class="na">wc_ajax_headers</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$action</span> <span class="o">=</span> <span class="nx">sanitize_text_field</span><span class="p">(</span> <span class="nv">$action</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">do_action</span><span class="p">(</span> <span class="s1">&#39;wc_ajax_&#39;</span> <span class="o">.</span> <span class="nv">$action</span> <span class="p">);</span><span class="c1">//ÂÖ≥ÈîÆ‰ª£Á†Å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">wp_die</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// phpcs:enable
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Process ajax checkout form.
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">checkout</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">wc_maybe_define_constant</span><span class="p">(</span> <span class="s1">&#39;WOOCOMMERCE_CHECKOUT&#39;</span><span class="p">,</span> <span class="k">true</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">checkout</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">process_checkout</span><span class="p">();</span><span class="c1">//ÂÖ≥ÈîÆ‰ª£Á†Å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">wp_die</span><span class="p">(</span> <span class="mi">0</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>woocommerce/includes/class-wc-checkout.php</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Process the checkout after the confirm order button is pressed.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @throws Exception When validation fails.
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">process_checkout</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$nonce_value</span>    <span class="o">=</span> <span class="nx">wc_get_var</span><span class="p">(</span> <span class="nv">$_REQUEST</span><span class="p">[</span><span class="s1">&#39;woocommerce-process-checkout-nonce&#39;</span><span class="p">],</span> <span class="nx">wc_get_var</span><span class="p">(</span> <span class="nv">$_REQUEST</span><span class="p">[</span><span class="s1">&#39;_wpnonce&#39;</span><span class="p">],</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="p">);</span> <span class="c1">// phpcs:ignore
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nv">$expiry_message</span> <span class="o">=</span> <span class="nx">sprintf</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="cm">/* translators: %s: shop cart url */</span>
</span></span><span class="line"><span class="cl">            <span class="nx">__</span><span class="p">(</span> <span class="s1">&#39;Sorry, your session has expired. &lt;a href=&#34;%s&#34; class=&#34;wc-backward&#34;&gt;Return to shop&lt;/a&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;woocommerce&#39;</span> <span class="p">),</span>
</span></span><span class="line"><span class="cl">            <span class="nx">esc_url</span><span class="p">(</span> <span class="nx">wc_get_page_permalink</span><span class="p">(</span> <span class="s1">&#39;shop&#39;</span> <span class="p">)</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span> <span class="k">empty</span><span class="p">(</span> <span class="nv">$nonce_value</span> <span class="p">)</span> <span class="o">||</span> <span class="o">!</span> <span class="nx">wp_verify_nonce</span><span class="p">(</span> <span class="nv">$nonce_value</span><span class="p">,</span> <span class="s1">&#39;woocommerce-process_checkout&#39;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// If the cart is empty, the nonce check failed because of session expiry.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">if</span> <span class="p">(</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">is_empty</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">throw</span> <span class="k">new</span> <span class="nx">Exception</span><span class="p">(</span> <span class="nv">$expiry_message</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span> <span class="s1">&#39;refresh_totals&#39;</span><span class="p">,</span> <span class="k">true</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="nx">Exception</span><span class="p">(</span> <span class="nx">__</span><span class="p">(</span> <span class="s1">&#39;We were unable to process your order, please try again.&#39;</span><span class="p">,</span> <span class="s1">&#39;woocommerce&#39;</span> <span class="p">)</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">wc_maybe_define_constant</span><span class="p">(</span> <span class="s1">&#39;WOOCOMMERCE_CHECKOUT&#39;</span><span class="p">,</span> <span class="k">true</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">wc_set_time_limit</span><span class="p">(</span> <span class="mi">0</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">do_action</span><span class="p">(</span> <span class="s1">&#39;woocommerce_before_checkout_process&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">is_empty</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="nx">Exception</span><span class="p">(</span> <span class="nv">$expiry_message</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">do_action</span><span class="p">(</span> <span class="s1">&#39;woocommerce_checkout_process&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nv">$errors</span>      <span class="o">=</span> <span class="k">new</span> <span class="nx">WP_Error</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$posted_data</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get_posted_data</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Update session for customer and totals.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">update_session</span><span class="p">(</span> <span class="nv">$posted_data</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Validate posted data and cart items before proceeding.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate_checkout</span><span class="p">(</span> <span class="nv">$posted_data</span><span class="p">,</span> <span class="nv">$errors</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$errors</span><span class="o">-&gt;</span><span class="na">errors</span> <span class="k">as</span> <span class="nv">$code</span> <span class="o">=&gt;</span> <span class="nv">$messages</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$errors</span><span class="o">-&gt;</span><span class="na">get_error_data</span><span class="p">(</span> <span class="nv">$code</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$messages</span> <span class="k">as</span> <span class="nv">$message</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">wc_add_notice</span><span class="p">(</span> <span class="nv">$message</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="nv">$data</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span> <span class="k">empty</span><span class="p">(</span> <span class="nv">$posted_data</span><span class="p">[</span><span class="s1">&#39;woocommerce_checkout_update_totals&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="mi">0</span> <span class="o">===</span> <span class="nx">wc_notice_count</span><span class="p">(</span> <span class="s1">&#39;error&#39;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">process_customer</span><span class="p">(</span> <span class="nv">$posted_data</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$order_id</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">create_order</span><span class="p">(</span> <span class="nv">$posted_data</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$order</span>    <span class="o">=</span> <span class="nx">wc_get_order</span><span class="p">(</span> <span class="nv">$order_id</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span> <span class="nx">is_wp_error</span><span class="p">(</span> <span class="nv">$order_id</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">throw</span> <span class="k">new</span> <span class="nx">Exception</span><span class="p">(</span> <span class="nv">$order_id</span><span class="o">-&gt;</span><span class="na">get_error_message</span><span class="p">()</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nv">$order</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">throw</span> <span class="k">new</span> <span class="nx">Exception</span><span class="p">(</span> <span class="nx">__</span><span class="p">(</span> <span class="s1">&#39;Unable to create order.&#39;</span><span class="p">,</span> <span class="s1">&#39;woocommerce&#39;</span> <span class="p">)</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="nx">do_action</span><span class="p">(</span> <span class="s1">&#39;woocommerce_checkout_order_processed&#39;</span><span class="p">,</span> <span class="nv">$order_id</span><span class="p">,</span> <span class="nv">$posted_data</span><span class="p">,</span> <span class="nv">$order</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd">				 * Note that woocommerce_cart_needs_payment is only used in
</span></span></span><span class="line"><span class="cl"><span class="sd">				 * WC_Checkout::process_checkout() to keep backwards compatibility.
</span></span></span><span class="line"><span class="cl"><span class="sd">				 * Use woocommerce_order_needs_payment instead.
</span></span></span><span class="line"><span class="cl"><span class="sd">				 *
</span></span></span><span class="line"><span class="cl"><span class="sd">				 * Note that at this point you can&#39;t rely on the Cart Object anymore,
</span></span></span><span class="line"><span class="cl"><span class="sd">				 * since it could be empty see:
</span></span></span><span class="line"><span class="cl"><span class="sd">				 * https://github.com/woocommerce/woocommerce/issues/24631
</span></span></span><span class="line"><span class="cl"><span class="sd">				 */</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span> <span class="nx">apply_filters</span><span class="p">(</span> <span class="s1">&#39;woocommerce_cart_needs_payment&#39;</span><span class="p">,</span> <span class="nv">$order</span><span class="o">-&gt;</span><span class="na">needs_payment</span><span class="p">(),</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cart</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">process_order_payment</span><span class="p">(</span> <span class="nv">$order_id</span><span class="p">,</span> <span class="nv">$posted_data</span><span class="p">[</span><span class="s1">&#39;payment_method&#39;</span><span class="p">]</span> <span class="p">);</span><span class="c1">//ÂÖ≥ÈîÆ‰ª£Á†Å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">process_order_without_payment</span><span class="p">(</span> <span class="nv">$order_id</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span> <span class="nx">Exception</span> <span class="nv">$e</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">wc_add_notice</span><span class="p">(</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">(),</span> <span class="s1">&#39;error&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">send_ajax_failure_response</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Process an order that does require payment.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @since 3.0.0
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param int    $order_id       Order ID.
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param string $payment_method Payment method.
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="k">function</span> <span class="nf">process_order_payment</span><span class="p">(</span> <span class="nv">$order_id</span><span class="p">,</span> <span class="nv">$payment_method</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$available_gateways</span> <span class="o">=</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">payment_gateways</span><span class="o">-&gt;</span><span class="na">get_available_payment_gateways</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nx">isset</span><span class="p">(</span> <span class="nv">$available_gateways</span><span class="p">[</span> <span class="nv">$payment_method</span> <span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Store Order ID in session so it can be re-used after payment failure.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span> <span class="s1">&#39;order_awaiting_payment&#39;</span><span class="p">,</span> <span class="nv">$order_id</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// We save the session early because if the payment gateway hangs
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// the request will never finish, thus the session data will neved be saved,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// and this can lead to duplicate orders if the user submits the order again.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">save_data</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Process Payment.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$available_gateways</span><span class="p">[</span> <span class="nv">$payment_method</span> <span class="p">]</span><span class="o">-&gt;</span><span class="na">process_payment</span><span class="p">(</span> <span class="nv">$order_id</span> <span class="p">);</span><span class="c1">//ÂÖ≥ÈîÆ‰ª£Á†Å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Redirect to success/confirmation/payment page.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span> <span class="nx">isset</span><span class="p">(</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="s1">&#39;success&#39;</span> <span class="o">===</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$result</span><span class="p">[</span><span class="s1">&#39;order_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$order_id</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nv">$result</span> <span class="o">=</span> <span class="nx">apply_filters</span><span class="p">(</span> <span class="s1">&#39;woocommerce_payment_successful_result&#39;</span><span class="p">,</span> <span class="nv">$result</span><span class="p">,</span> <span class="nv">$order_id</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nx">wp_doing_ajax</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// phpcs:ignore WordPress.Security.SafeRedirect.wp_redirect_wp_redirect
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">wp_redirect</span><span class="p">(</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">&#39;redirect&#39;</span><span class="p">]</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">exit</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">wp_send_json</span><span class="p">(</span> <span class="nv">$result</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Âà§Êñ≠woocommerceÊòØÂê¶ÂêØÁî®">Âà§Êñ≠woocommerceÊòØÂê¶ÂêØÁî®
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">in_array</span><span class="p">(</span><span class="s1">&#39;woocommerce/woocommerce.php&#39;</span><span class="p">,</span> <span class="nx">get_option</span><span class="p">(</span><span class="s1">&#39;active_plugins&#39;</span><span class="p">)))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂëäËØâwoocommerceÊñ∞Â¢ûÁöÑÁΩëÂÖ≥">ÂëäËØâwoocommerceÊñ∞Â¢ûÁöÑÁΩëÂÖ≥
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">add_filter</span><span class="p">(</span><span class="s1">&#39;woocommerce_payment_gateways&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$methods</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$methods</span><span class="p">[]</span> <span class="o">=</span> <span class="s1">&#39;WC_Gateway_Alipay&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nv">$methods</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂøÖÈ°ªË∞ÉÁî®ÁöÑÊñπÊ≥ï">ÂøÖÈ°ªË∞ÉÁî®ÁöÑÊñπÊ≥ï
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">//Âú®Êñ∞Â¢ûÁöÑÁΩëÂÖ≥Á±ª‰∏≠Ë∞ÉÁî®$this-&gt;init_form_fields()„ÄÅ$this-&gt;init_settings()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// ÂÆûÁé∞init_form_fieldsÊñπÊ≥ï
</span></span></span><span class="line"><span class="cl"><span class="c1">// ÂèØ‰ª•ÂèÇËÄÉwoocommerce/includes/gateways/paypal/settings-paypal.php
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">function</span> <span class="nf">init_form_fields</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form_fields</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//ÊòØÂê¶ÂêØÁî®ÂΩìÂâçÁöÑÊîØ‰ªòÁΩëÂÖ≥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="s1">&#39;enabled&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;title&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;ÂêØÁî®/Á¶ÅÁî®&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;type&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;checkbox&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;label&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;ÊòØÂê¶ÂêØÁî®ÊîØ‰ªòÂÆùÁΩëÂÖ≥ÔºåÂãæÈÄâ‰∏∫ÂêØÁî®&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;default&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;yes&#39;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//ÂΩìÂâçÊîØ‰ªòÁΩëÂÖ≥ÁöÑÂêçÁß∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;title&#39;</span>       <span class="o">=&gt;</span> <span class="s1">&#39;Ê†áÈ¢ò&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;type&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Âú®ÁªìÁÆóÊó∂ÁúãÂà∞ÁöÑÂΩìÂâçÊîØ‰ªòÁΩëÂÖ≥ÁöÑÂêçÁß∞&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;default&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;ÊîØ‰ªòÂÆù&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;desc_tip&#39;</span>    <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//ÂΩìÂâçÊîØ‰ªòÁΩëÂÖ≥ÁöÑÊèèËø∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;titile&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;ÊèèËø∞&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;type&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;desc_tip&#39;</span>    <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Âú®ÁªìÁÆóÊó∂ÁúãÂà∞ÁöÑÂΩìÂâçÊîØ‰ªòÁΩëÂÖ≥ÁöÑÊèèËø∞&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;default&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;Â∞Ü‰ΩøÁî®ÊîØ‰ªòÂÆù‰ªòÊ¨æ&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//‰ª•‰∏ä‰∏â‰∏™Â≠óÊÆµÊòØÂøÖÈ°ªÂÆö‰πâÁöÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//‰∏ãÈù¢ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∫õÂΩìÂâçÊîØ‰ªòÁΩëÂÖ≥ÁöÑÂ≠óÊÆµÔºåÂ¶ÇÔºöapp_id, mch_id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="s1">&#39;app_id&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;titile&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;app_id&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;type&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;desc_tip&#39;</span>    <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ÊîØ‰ªòÂÆùAPP ID&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;default&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;mch_id&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;titile&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;mch_id&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;type&#39;</span>        <span class="o">=&gt;</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;desc_tip&#39;</span>    <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ÊîØ‰ªòÂÆùÂïÜÊà∑ID&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;default&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="‰øùÂ≠òÂêéÂè∞ËÆæÁΩÆÁöÑÊï∞ÊçÆ">‰øùÂ≠òÂêéÂè∞ËÆæÁΩÆÁöÑÊï∞ÊçÆ
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">//Âú®Êñ∞Â¢ûÁöÑÁΩëÂÖ≥Á±ª‰∏≠ÊåÇËΩΩ‰ª•‰∏ãÈí©Â≠ê
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;woocommerce_update_options_payment_gateways_&#39;</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">,</span> <span class="p">[</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;process_admin_options&#39;</span><span class="p">]);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂºÇÊ≠•ÂõûË∞É">ÂºÇÊ≠•ÂõûË∞É
</h3><ul>
<li>ÁîüÊàêÂºÇÊ≠•ÂõûË∞ÉÈìæÊé•</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">//ÂºÇÊ≠•ÈÄöÁü•Âú∞ÂùÄ„ÄÇÁîüÊàê‰∏Ä‰∏™URLÔºöÂüüÂêç/wc-api/WC_Gateway_Awxpay
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">notify_url</span> <span class="o">=</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_request_url</span><span class="p">(</span><span class="s1">&#39;WC_Gateway_Awxpay&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ÂºÇÊ≠•ÈÄÄÊ¨æÈÄöÁü•Âú∞ÂùÄ„ÄÇÁîüÊàê‰∏Ä‰∏™URLÔºöÂüüÂêç/wc-api/WC_Gateway_Awxpay_Refund
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">refund_notify_url</span> <span class="o">=</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">api_request_url</span><span class="p">(</span><span class="s1">&#39;WC_Gateway_Awxpay_Refund&#39;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÊåÇËΩΩÂÖ≥ÈîÆÈí©Â≠ê</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="c1">//ÊîØ‰ªòÂºÇÊ≠•ÂõûË∞ÉÈÄöÁü•
</span></span></span><span class="line"><span class="cl"><span class="c1">//Âú®plugins/woocommerce/includes/class-wc-api.php‰∏≠ÁöÑhandle_api_requests()ÊñπÊ≥ïÔºåÂ§ÑÁêÜ‰∫ÜÂºÇÊ≠•ÂõûË∞ÉÁöÑËØ∑Ê±ÇÔºåÂπ∂‰∏îËß¶Âèë‰∫ÜÂØπÂ∫îÁöÑÈí©Â≠ê„ÄÇdo_action( &#39;woocommerce_api_request&#39;, $api_request )Âíådo_action( &#39;woocommerce_api_&#39; . $api_request );;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;woocommerce_api_wc_gateway_awxpay&#39;</span><span class="p">,</span><span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span><span class="s1">&#39;check_response&#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ÈÄÄÊ¨æÂºÇÊ≠•ÂõûË∞ÉÈÄöÁü•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;woocommerce_api_wc_gateway_awxpay_refund&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;refund_response&#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ËÆ¢ÂçïÂÆåÊàêÊó∂Ëß¶Âèë
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">add_action</span><span class="p">(</span><span class="s2">&#34;woocommerce_order_status_completed&#34;</span><span class="p">,</span><span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;refund_order_trial_product&#39;</span><span class="p">));</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/wordpress/">Wordpress</a>
        
            <a href="/tags/-woocommerce/"> Woocommerce</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/wordpress%E4%B8%BB%E9%A2%98%E8%BF%9B%E9%98%B6/">
        
        

        <div class="article-details">
            <h2 class="article-title">Wordpress‰∏ªÈ¢òËøõÈò∂</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/wordpress%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E7%9F%A5%E8%AF%86/">
        
        

        <div class="article-details">
            <h2 class="article-title">WordpressÊèí‰ª∂ÂºÄÂèëÁü•ËØÜ</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/wordpress%E4%B8%BB%E9%A2%98%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E6%A2%B3%E7%90%86/">
        
        

        <div class="article-details">
            <h2 class="article-title">Wordpress‰∏ªÈ¢òÊ†∏ÂøÉÁü•ËØÜÁÇπÊ¢≥ÁêÜ</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="hollisho/hollisho-blog-talks"
        issue-term="pathname"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    let utterancesLoaded = false;

    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;

        
        utterancesLoaded = true;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        if (!utterancesLoaded) return;
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2024 - 
        
        2025 Hollis Ho
    </section>
    
    <section class="powerby">
        ‰ΩøÁî® <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> ÊûÑÂª∫ <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.30.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
